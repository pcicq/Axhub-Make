import{C as Gi,P as qi,u as Ki,r as $n,R as Xi,D as Yi,S as ct,a as Qi,b as Ji,c as Zi,E as eo,U as to,I as dt,d as It,T as En,e as _t,f as _e,L as ht,g as Xn,h as no,i as kt,j as Vt,k as io,l as oo,M as ro,F as ao,m as so,n as lo,o as co,p as ho,q as jn,s as uo,t as po,v as fo,w as mo,x as go,B as Rn,y as vo,z as zn,A as yo,G as wo,H as Be,J as xo}from"./SearchOutlined-CzIVy8vP.js";import{u as Yn,j as a}from"./clsx-CC_C3iKL.js";import{l as nt,n as mt,u as q,r as d,q as gt,d as ie,C as Gt,M as Qn,Z as bo,$ as So,a0 as In,a1 as Co,y as $o,B as vt,A as yt,m as wt,s as pn,f as Nt,F as Eo,g as We,w as jo,_ as ut,h as je,e as Q,K as lt,L as On,T as Ro,o as Jn,S as zo,a2 as kn,k as it,b as _,j as qt,a3 as Io,a4 as Oo,a5 as Zn,a6 as ko,x as Mo,a7 as No,a8 as Po,a9 as Ao,Y as Do}from"./useId-DVWwlul7.js";import{T as ei,a as fn,b as To}from"./index-5SSYMfot.js";import{I as ge,T as mn,s as gn,M as Mt,a as Ae,S as pt}from"./AntdIcon-D2RC5D7Y.js";import{p as ft,r as Lo,R as Bo,a as Ho,b as _o,d as Wo,u as Fo,e as Mn,S as Uo,f as Vo,g as Go,C as qo,z as Ko,c as Xo,m as Yo,B as le,h as Qo,W as Jo,i as Zo,A as er}from"./index-BpI3bt2c.js";import{R as ti}from"./CopyOutlined-Dm8N-_T-.js";const Ct=(e,n,t,i,o)=>({background:e,border:`${q(i.lineWidth)} ${i.lineType} ${n}`,[`${o}-icon`]:{color:t}}),tr=e=>{const{componentCls:n,motionDurationSlow:t,marginXS:i,marginSM:o,fontSize:r,fontSizeLG:c,lineHeight:l,borderRadiusLG:s,motionEaseInOutCirc:u,withDescriptionIconSize:h,colorText:f,colorTextHeading:y,withDescriptionPadding:g,defaultPadding:w}=e;return{[n]:Object.assign(Object.assign({},mt(e)),{position:"relative",display:"flex",alignItems:"center",padding:w,wordWrap:"break-word",borderRadius:s,[`&${n}-rtl`]:{direction:"rtl"},[`${n}-content`]:{flex:1,minWidth:0},[`${n}-icon`]:{marginInlineEnd:i,lineHeight:0},"&-description":{display:"none",fontSize:r,lineHeight:l},"&-message":{color:y},[`&${n}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${t} ${u}, opacity ${t} ${u},
        padding-top ${t} ${u}, padding-bottom ${t} ${u},
        margin-bottom ${t} ${u}`},[`&${n}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${n}-with-description`]:{alignItems:"flex-start",padding:g,[`${n}-icon`]:{marginInlineEnd:o,fontSize:h,lineHeight:0},[`${n}-message`]:{display:"block",marginBottom:i,color:y,fontSize:c},[`${n}-description`]:{display:"block",color:f}},[`${n}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},nr=e=>{const{componentCls:n,colorSuccess:t,colorSuccessBorder:i,colorSuccessBg:o,colorWarning:r,colorWarningBorder:c,colorWarningBg:l,colorError:s,colorErrorBorder:u,colorErrorBg:h,colorInfo:f,colorInfoBorder:y,colorInfoBg:g}=e;return{[n]:{"&-success":Ct(o,i,t,e,n),"&-info":Ct(g,y,f,e,n),"&-warning":Ct(l,c,r,e,n),"&-error":Object.assign(Object.assign({},Ct(h,u,s,e,n)),{[`${n}-description > pre`]:{margin:0,padding:0}})}}},ir=e=>{const{componentCls:n,iconCls:t,motionDurationMid:i,marginXS:o,fontSizeIcon:r,colorIcon:c,colorIconHover:l}=e;return{[n]:{"&-action":{marginInlineStart:o},[`${n}-close-icon`]:{marginInlineStart:o,padding:0,overflow:"hidden",fontSize:r,lineHeight:q(r),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${t}-close`]:{color:c,transition:`color ${i}`,"&:hover":{color:l}}},"&-close-text":{color:c,transition:`color ${i}`,"&:hover":{color:l}}}}},or=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),rr=nt("Alert",e=>[tr(e),nr(e),ir(e)],or);var Nn=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(t[i[o]]=e[i[o]]);return t};const ar={success:Wo,info:_o,error:Ho,warning:Bo},sr=e=>{const{icon:n,prefixCls:t,type:i}=e,o=ar[i]||null;return n?Lo(n,d.createElement("span",{className:`${t}-icon`},n),()=>({className:ie(`${t}-icon`,n.props.className)})):d.createElement(o,{className:`${t}-icon`})},lr=e=>{const{isClosable:n,prefixCls:t,closeIcon:i,handleClose:o,ariaProps:r}=e,c=i===!0||i===void 0?d.createElement(bo,null):i;return n?d.createElement("button",Object.assign({type:"button",onClick:o,className:`${t}-close-icon`,tabIndex:0},r),c):null},ni=d.forwardRef((e,n)=>{const{description:t,prefixCls:i,message:o,banner:r,className:c,rootClassName:l,style:s,onMouseEnter:u,onMouseLeave:h,onClick:f,afterClose:y,showIcon:g,closable:w,closeText:b,closeIcon:m,action:E,id:x}=e,p=Nn(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[C,z]=d.useState(!1),O=d.useRef(null);d.useImperativeHandle(n,()=>({nativeElement:O.current}));const{getPrefixCls:I,direction:j,closable:R,closeIcon:A,className:V,style:G}=gt("alert"),$=I("alert",i),[k,L,B]=rr($),U=ne=>{var re;z(!0),(re=e.onClose)===null||re===void 0||re.call(e,ne)},M=d.useMemo(()=>e.type!==void 0?e.type:r?"warning":"info",[e.type,r]),K=d.useMemo(()=>typeof w=="object"&&w.closeIcon||b?!0:typeof w=="boolean"?w:m!==!1&&m!==null&&m!==void 0?!0:!!R,[b,m,w,R]),oe=r&&g===void 0?!0:g,D=ie($,`${$}-${M}`,{[`${$}-with-description`]:!!t,[`${$}-no-icon`]:!oe,[`${$}-banner`]:!!r,[`${$}-rtl`]:j==="rtl"},V,c,l,B,L),T=ft(p,{aria:!0,data:!0}),Z=d.useMemo(()=>typeof w=="object"&&w.closeIcon?w.closeIcon:b||(m!==void 0?m:typeof R=="object"&&R.closeIcon?R.closeIcon:A),[m,w,R,b,A]),ce=d.useMemo(()=>{const ne=w??R;if(typeof ne=="object"){const{closeIcon:re}=ne;return Nn(ne,["closeIcon"])}return{}},[w,R]);return k(d.createElement(Gt,{visible:!C,motionName:`${$}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:ne=>({maxHeight:ne.offsetHeight}),onLeaveEnd:y},({className:ne,style:re},he)=>d.createElement("div",Object.assign({id:x,ref:Qn(O,he),"data-show":!C,className:ie(D,ne),style:Object.assign(Object.assign(Object.assign({},G),s),re),onMouseEnter:u,onMouseLeave:h,onClick:f,role:"alert"},T),oe?d.createElement(sr,{description:t,icon:e.icon,prefixCls:$,type:M}):null,d.createElement("div",{className:`${$}-content`},o?d.createElement("div",{className:`${$}-message`},o):null,t?d.createElement("div",{className:`${$}-description`},t):null),E?d.createElement("div",{className:`${$}-action`},E):null,d.createElement(lr,{isClosable:K,prefixCls:$,closeIcon:Z,handleClose:U,ariaProps:ce}))))});function cr(e,n,t){return n=In(n),So(e,Co()?Reflect.construct(n,t||[],In(e).constructor):n.apply(e,t))}let dr=function(e){function n(){var t;return yt(this,n),t=cr(this,n,arguments),t.state={error:void 0,info:{componentStack:""}},t}return $o(n,e),vt(n,[{key:"componentDidCatch",value:function(i,o){this.setState({error:i,info:o})}},{key:"render",value:function(){const{message:i,description:o,id:r,children:c}=this.props,{error:l,info:s}=this.state,u=(s==null?void 0:s.componentStack)||null,h=typeof i>"u"?(l||"").toString():i,f=typeof o>"u"?u:o;return l?d.createElement(ni,{id:r,type:"error",message:h,description:d.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},f)}):c}}])}(d.Component);const Kt=ni;Kt.ErrorBoundary=dr;const hr=e=>{const{componentCls:n}=e;return{[n]:{"&-horizontal":{[`&${n}`]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},ur=e=>{const{componentCls:n,sizePaddingEdgeHorizontal:t,colorSplit:i,lineWidth:o,textPaddingInline:r,orientationMargin:c,verticalMarginInline:l}=e;return{[n]:Object.assign(Object.assign({},mt(e)),{borderBlockStart:`${q(o)} solid ${i}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:l,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${q(o)} solid ${i}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${q(e.marginLG)} 0`},[`&-horizontal${n}-with-text`]:{display:"flex",alignItems:"center",margin:`${q(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${i}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${q(o)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${n}-with-text-start`]:{"&::before":{width:`calc(${c} * 100%)`},"&::after":{width:`calc(100% - ${c} * 100%)`}},[`&-horizontal${n}-with-text-end`]:{"&::before":{width:`calc(100% - ${c} * 100%)`},"&::after":{width:`calc(${c} * 100%)`}},[`${n}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:r},"&-dashed":{background:"none",borderColor:i,borderStyle:"dashed",borderWidth:`${q(o)} 0 0`},[`&-horizontal${n}-with-text${n}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${n}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:i,borderStyle:"dotted",borderWidth:`${q(o)} 0 0`},[`&-horizontal${n}-with-text${n}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${n}-dotted`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${n}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${n}-with-text-start${n}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${n}-inner-text`]:{paddingInlineStart:t}},[`&-horizontal${n}-with-text-end${n}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${n}-inner-text`]:{paddingInlineEnd:t}}})}},pr=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),fr=nt("Divider",e=>{const n=wt(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[ur(n),hr(n)]},pr,{unitless:{orientationMargin:!0}});var mr=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(t[i[o]]=e[i[o]]);return t};const gr={small:"sm",middle:"md"},Pn=e=>{const{getPrefixCls:n,direction:t,className:i,style:o}=gt("divider"),{prefixCls:r,type:c="horizontal",orientation:l="center",orientationMargin:s,className:u,rootClassName:h,children:f,dashed:y,variant:g="solid",plain:w,style:b,size:m}=e,E=mr(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),x=n("divider",r),[p,C,z]=fr(x),O=pn(m),I=gr[O],j=!!f,R=d.useMemo(()=>l==="left"?t==="rtl"?"end":"start":l==="right"?t==="rtl"?"start":"end":l,[t,l]),A=R==="start"&&s!=null,V=R==="end"&&s!=null,G=ie(x,i,C,z,`${x}-${c}`,{[`${x}-with-text`]:j,[`${x}-with-text-${R}`]:j,[`${x}-dashed`]:!!y,[`${x}-${g}`]:g!=="solid",[`${x}-plain`]:!!w,[`${x}-rtl`]:t==="rtl",[`${x}-no-default-orientation-margin-start`]:A,[`${x}-no-default-orientation-margin-end`]:V,[`${x}-${I}`]:!!I},u,h),$=d.useMemo(()=>typeof s=="number"?s:/^\d+$/.test(s)?Number(s):s,[s]),k={marginInlineStart:A?$:void 0,marginInlineEnd:V?$:void 0};return p(d.createElement("div",Object.assign({className:G,style:Object.assign(Object.assign({},o),b)},E,{role:"separator"}),f&&c!=="vertical"&&d.createElement("span",{className:`${x}-inner-text`,style:k},f)))};var An=d.createContext(null),ii=d.createContext({}),vr=["prefixCls","className","containerRef"],yr=function(n){var t=n.prefixCls,i=n.className,o=n.containerRef,r=Nt(n,vr),c=d.useContext(ii),l=c.panel,s=Eo(l,o);return d.createElement("div",We({className:ie("".concat(t,"-content"),i),role:"dialog",ref:s},ft(n,{aria:!0}),{"aria-modal":"true"},r))};function Dn(e){return typeof e=="string"&&String(Number(e))===e?(jo(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var Tn={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function wr(e,n){var t,i,o,r=e.prefixCls,c=e.open,l=e.placement,s=e.inline,u=e.push,h=e.forceRender,f=e.autoFocus,y=e.keyboard,g=e.classNames,w=e.rootClassName,b=e.rootStyle,m=e.zIndex,E=e.className,x=e.id,p=e.style,C=e.motion,z=e.width,O=e.height,I=e.children,j=e.mask,R=e.maskClosable,A=e.maskMotion,V=e.maskClassName,G=e.maskStyle,$=e.afterOpenChange,k=e.onClose,L=e.onMouseEnter,B=e.onMouseOver,U=e.onMouseLeave,M=e.onClick,K=e.onKeyDown,oe=e.onKeyUp,D=e.styles,T=e.drawerRender,Z=d.useRef(),ce=d.useRef(),ne=d.useRef();d.useImperativeHandle(n,function(){return Z.current});var re=function(J){var de=J.keyCode,pe=J.shiftKey;switch(de){case lt.TAB:{if(de===lt.TAB){if(!pe&&document.activeElement===ne.current){var $e;($e=ce.current)===null||$e===void 0||$e.focus({preventScroll:!0})}else if(pe&&document.activeElement===ce.current){var st;(st=ne.current)===null||st===void 0||st.focus({preventScroll:!0})}}break}case lt.ESC:{k&&y&&(J.stopPropagation(),k(J));break}}};d.useEffect(function(){if(c&&f){var ae;(ae=Z.current)===null||ae===void 0||ae.focus({preventScroll:!0})}},[c]);var he=d.useState(!1),ze=ut(he,2),ve=ze[0],Ce=ze[1],X=d.useContext(An),Ie;typeof u=="boolean"?Ie=u?{}:{distance:0}:Ie=u||{};var ye=(t=(i=(o=Ie)===null||o===void 0?void 0:o.distance)!==null&&i!==void 0?i:X==null?void 0:X.pushDistance)!==null&&t!==void 0?t:180,Ge=d.useMemo(function(){return{pushDistance:ye,push:function(){Ce(!0)},pull:function(){Ce(!1)}}},[ye]);d.useEffect(function(){if(c){var ae;X==null||(ae=X.push)===null||ae===void 0||ae.call(X)}else{var J;X==null||(J=X.pull)===null||J===void 0||J.call(X)}},[c]),d.useEffect(function(){return function(){var ae;X==null||(ae=X.pull)===null||ae===void 0||ae.call(X)}},[]);var rt=d.createElement(Gt,We({key:"mask"},A,{visible:j&&c}),function(ae,J){var de=ae.className,pe=ae.style;return d.createElement("div",{className:ie("".concat(r,"-mask"),de,g==null?void 0:g.mask,V),style:je(je(je({},pe),G),D==null?void 0:D.mask),onClick:R&&c?k:void 0,ref:J})}),Ye=typeof C=="function"?C(l):C,we={};if(ve&&ye)switch(l){case"top":we.transform="translateY(".concat(ye,"px)");break;case"bottom":we.transform="translateY(".concat(-ye,"px)");break;case"left":we.transform="translateX(".concat(ye,"px)");break;default:we.transform="translateX(".concat(-ye,"px)");break}l==="left"||l==="right"?we.width=Dn(z):we.height=Dn(O);var at={onMouseEnter:L,onMouseOver:B,onMouseLeave:U,onClick:M,onKeyDown:K,onKeyUp:oe},qe=d.createElement(Gt,We({key:"panel"},Ye,{visible:c,forceRender:h,onVisibleChanged:function(J){$==null||$(J)},removeOnLeave:!1,leavedClassName:"".concat(r,"-content-wrapper-hidden")}),function(ae,J){var de=ae.className,pe=ae.style,$e=d.createElement(yr,We({id:x,containerRef:J,prefixCls:r,className:ie(E,g==null?void 0:g.content),style:je(je({},p),D==null?void 0:D.content)},ft(e,{aria:!0}),at),I);return d.createElement("div",We({className:ie("".concat(r,"-content-wrapper"),g==null?void 0:g.wrapper,de),style:je(je(je({},we),pe),D==null?void 0:D.wrapper)},ft(e,{data:!0})),T?T($e):$e)}),Te=je({},b);return m&&(Te.zIndex=m),d.createElement(An.Provider,{value:Ge},d.createElement("div",{className:ie(r,"".concat(r,"-").concat(l),w,Q(Q({},"".concat(r,"-open"),c),"".concat(r,"-inline"),s)),style:Te,tabIndex:-1,ref:Z,onKeyDown:re},rt,d.createElement("div",{tabIndex:0,ref:ce,style:Tn,"aria-hidden":"true","data-sentinel":"start"}),qe,d.createElement("div",{tabIndex:0,ref:ne,style:Tn,"aria-hidden":"true","data-sentinel":"end"})))}var xr=d.forwardRef(wr),br=function(n){var t=n.open,i=t===void 0?!1:t,o=n.prefixCls,r=o===void 0?"rc-drawer":o,c=n.placement,l=c===void 0?"right":c,s=n.autoFocus,u=s===void 0?!0:s,h=n.keyboard,f=h===void 0?!0:h,y=n.width,g=y===void 0?378:y,w=n.mask,b=w===void 0?!0:w,m=n.maskClosable,E=m===void 0?!0:m,x=n.getContainer,p=n.forceRender,C=n.afterOpenChange,z=n.destroyOnClose,O=n.onMouseEnter,I=n.onMouseOver,j=n.onMouseLeave,R=n.onClick,A=n.onKeyDown,V=n.onKeyUp,G=n.panelRef,$=d.useState(!1),k=ut($,2),L=k[0],B=k[1],U=d.useState(!1),M=ut(U,2),K=M[0],oe=M[1];On(function(){oe(!0)},[]);var D=K?i:!1,T=d.useRef(),Z=d.useRef();On(function(){D&&(Z.current=document.activeElement)},[D]);var ce=function(ve){var Ce;if(B(ve),C==null||C(ve),!ve&&Z.current&&!((Ce=T.current)!==null&&Ce!==void 0&&Ce.contains(Z.current))){var X;(X=Z.current)===null||X===void 0||X.focus({preventScroll:!0})}},ne=d.useMemo(function(){return{panel:G}},[G]);if(!p&&!L&&!D&&z)return null;var re={onMouseEnter:O,onMouseOver:I,onMouseLeave:j,onClick:R,onKeyDown:A,onKeyUp:V},he=je(je({},n),{},{open:D,prefixCls:r,placement:l,autoFocus:u,keyboard:f,width:g,mask:b,maskClosable:E,inline:x===!1,afterOpenChange:ce,ref:T},re);return d.createElement(ii.Provider,{value:ne},d.createElement(Ro,{open:D||p||L,autoDestroy:!1,getContainer:x,autoLock:b&&(D||L)},d.createElement(xr,he)))};const oi=e=>{var n,t;const{prefixCls:i,ariaId:o,title:r,footer:c,extra:l,closable:s,loading:u,onClose:h,headerStyle:f,bodyStyle:y,footerStyle:g,children:w,classNames:b,styles:m}=e,E=gt("drawer");let x;s===!1?x=void 0:s===void 0||s===!0?x="start":x=(s==null?void 0:s.placement)==="end"?"end":"start";const p=d.useCallback(j=>d.createElement("button",{type:"button",onClick:h,className:ie(`${i}-close`,{[`${i}-close-${x}`]:x==="end"})},j),[h,i,x]),[C,z]=Fo(Mn(e),Mn(E),{closable:!0,closeIconRender:p}),O=()=>{var j,R;return!r&&!C?null:d.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(j=E.styles)===null||j===void 0?void 0:j.header),f),m==null?void 0:m.header),className:ie(`${i}-header`,{[`${i}-header-close-only`]:C&&!r&&!l},(R=E.classNames)===null||R===void 0?void 0:R.header,b==null?void 0:b.header)},d.createElement("div",{className:`${i}-header-title`},x==="start"&&z,r&&d.createElement("div",{className:`${i}-title`,id:o},r)),l&&d.createElement("div",{className:`${i}-extra`},l),x==="end"&&z)},I=()=>{var j,R;if(!c)return null;const A=`${i}-footer`;return d.createElement("div",{className:ie(A,(j=E.classNames)===null||j===void 0?void 0:j.footer,b==null?void 0:b.footer),style:Object.assign(Object.assign(Object.assign({},(R=E.styles)===null||R===void 0?void 0:R.footer),g),m==null?void 0:m.footer)},c)};return d.createElement(d.Fragment,null,O(),d.createElement("div",{className:ie(`${i}-body`,b==null?void 0:b.body,(n=E.classNames)===null||n===void 0?void 0:n.body),style:Object.assign(Object.assign(Object.assign({},(t=E.styles)===null||t===void 0?void 0:t.body),y),m==null?void 0:m.body)},u?d.createElement(Uo,{active:!0,title:!1,paragraph:{rows:5},className:`${i}-body-skeleton`}):w),I())},Sr=e=>{const n="100%";return{left:`translateX(-${n})`,right:`translateX(${n})`,top:`translateY(-${n})`,bottom:`translateY(${n})`}[e]},ri=(e,n)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":n}),"&-leave":Object.assign(Object.assign({},n),{"&-active":e})}),ai=(e,n)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${n}`}}},ri({opacity:e},{opacity:1})),Cr=(e,n)=>[ai(.7,n),ri({transform:Sr(e)},{transform:"none"})],$r=e=>{const{componentCls:n,motionDurationSlow:t}=e;return{[n]:{[`${n}-mask-motion`]:ai(0,t),[`${n}-panel-motion`]:["left","right","top","bottom"].reduce((i,o)=>Object.assign(Object.assign({},i),{[`&-${o}`]:Cr(o,t)}),{})}}},Er=e=>{const{borderRadiusSM:n,componentCls:t,zIndexPopup:i,colorBgMask:o,colorBgElevated:r,motionDurationSlow:c,motionDurationMid:l,paddingXS:s,padding:u,paddingLG:h,fontSizeLG:f,lineHeightLG:y,lineWidth:g,lineType:w,colorSplit:b,marginXS:m,colorIcon:E,colorIconHover:x,colorBgTextHover:p,colorBgTextActive:C,colorText:z,fontWeightStrong:O,footerPaddingBlock:I,footerPaddingInline:j,calc:R}=e,A=`${t}-content-wrapper`;return{[t]:{position:"fixed",inset:0,zIndex:i,pointerEvents:"none",color:z,"&-pure":{position:"relative",background:r,display:"flex",flexDirection:"column",[`&${t}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${t}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${t}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${t}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${t}-mask`]:{position:"absolute",inset:0,zIndex:i,background:o,pointerEvents:"auto"},[A]:{position:"absolute",zIndex:i,maxWidth:"100vw",transition:`all ${c}`,"&-hidden":{display:"none"}},[`&-left > ${A}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${A}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${A}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${A}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${t}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:r,pointerEvents:"auto"},[`${t}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${q(u)} ${q(h)}`,fontSize:f,lineHeight:y,borderBottom:`${q(g)} ${w} ${b}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${t}-extra`]:{flex:"none"},[`${t}-close`]:Object.assign({display:"inline-flex",width:R(f).add(s).equal(),height:R(f).add(s).equal(),borderRadius:n,justifyContent:"center",alignItems:"center",color:E,fontWeight:O,fontSize:f,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${l}`,textRendering:"auto",[`&${t}-close-end`]:{marginInlineStart:m},[`&:not(${t}-close-end)`]:{marginInlineEnd:m},"&:hover":{color:x,backgroundColor:p,textDecoration:"none"},"&:active":{backgroundColor:C}},Jn(e)),[`${t}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:f,lineHeight:y},[`${t}-body`]:{flex:1,minWidth:0,minHeight:0,padding:h,overflow:"auto",[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${t}-footer`]:{flexShrink:0,padding:`${q(I)} ${q(j)}`,borderTop:`${q(g)} ${w} ${b}`},"&-rtl":{direction:"rtl"}}}},jr=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),si=nt("Drawer",e=>{const n=wt(e,{});return[Er(n),$r(n)]},jr);var li=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(t[i[o]]=e[i[o]]);return t};const Rr={distance:180},ci=e=>{const{rootClassName:n,width:t,height:i,size:o="default",mask:r=!0,push:c=Rr,open:l,afterOpenChange:s,onClose:u,prefixCls:h,getContainer:f,panelRef:y=null,style:g,className:w,"aria-labelledby":b,visible:m,afterVisibleChange:E,maskStyle:x,drawerStyle:p,contentWrapperStyle:C,destroyOnClose:z,destroyOnHidden:O}=e,I=li(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","panelRef","style","className","aria-labelledby","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle","destroyOnClose","destroyOnHidden"]),j=zo(),R=I.title?j:void 0,{getPopupContainer:A,getPrefixCls:V,direction:G,className:$,style:k,classNames:L,styles:B}=gt("drawer"),U=V("drawer",h),[M,K,oe]=si(U),D=f===void 0&&A?()=>A(document.body):f,T=ie({"no-mask":!r,[`${U}-rtl`]:G==="rtl"},n,K,oe),Z=d.useMemo(()=>t??(o==="large"?736:378),[t,o]),ce=d.useMemo(()=>i??(o==="large"?736:378),[i,o]),ne={motionName:kn(U,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},re=ye=>({motionName:kn(U,`panel-motion-${ye}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),he=Vo(),ze=Qn(y,he),[ve,Ce]=Go("Drawer",I.zIndex),{classNames:X={},styles:Ie={}}=I;return M(d.createElement(qo,{form:!0,space:!0},d.createElement(Ko.Provider,{value:Ce},d.createElement(br,Object.assign({prefixCls:U,onClose:u,maskMotion:ne,motion:re},I,{classNames:{mask:ie(X.mask,L.mask),content:ie(X.content,L.content),wrapper:ie(X.wrapper,L.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},Ie.mask),x),B.mask),content:Object.assign(Object.assign(Object.assign({},Ie.content),p),B.content),wrapper:Object.assign(Object.assign(Object.assign({},Ie.wrapper),C),B.wrapper)},open:l??m,mask:r,push:c,width:Z,height:ce,style:Object.assign(Object.assign({},k),g),className:ie($,w),rootClassName:T,getContainer:D,afterOpenChange:s??E,panelRef:ze,zIndex:ve,"aria-labelledby":b??R,destroyOnClose:O??z}),d.createElement(oi,Object.assign({prefixCls:U},I,{ariaId:R,onClose:u}))))))},zr=e=>{const{prefixCls:n,style:t,className:i,placement:o="right"}=e,r=li(e,["prefixCls","style","className","placement"]),{getPrefixCls:c}=d.useContext(it),l=c("drawer",n),[s,u,h]=si(l),f=ie(l,`${l}-pure`,`${l}-${o}`,u,h,i);return s(d.createElement("div",{className:f,style:t},d.createElement(oi,Object.assign({prefixCls:l},r))))};ci._InternalPanelDoNotUseOrYouWillBeFired=zr;var Ir={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const vn=_.createContext({});vn.Consumer;var di=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(t[i[o]]=e[i[o]]);return t};const Or=e=>{var{prefixCls:n,className:t,avatar:i,title:o,description:r}=e,c=di(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:l}=d.useContext(it),s=l("list",n),u=ie(`${s}-item-meta`,t),h=_.createElement("div",{className:`${s}-item-meta-content`},o&&_.createElement("h4",{className:`${s}-item-meta-title`},o),r&&_.createElement("div",{className:`${s}-item-meta-description`},r));return _.createElement("div",Object.assign({},c,{className:u}),i&&_.createElement("div",{className:`${s}-item-meta-avatar`},i),(o||r)&&h)},kr=_.forwardRef((e,n)=>{const{prefixCls:t,children:i,actions:o,extra:r,styles:c,className:l,classNames:s,colStyle:u}=e,h=di(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:f,itemLayout:y}=d.useContext(vn),{getPrefixCls:g,list:w}=d.useContext(it),b=I=>{var j,R;return ie((R=(j=w==null?void 0:w.item)===null||j===void 0?void 0:j.classNames)===null||R===void 0?void 0:R[I],s==null?void 0:s[I])},m=I=>{var j,R;return Object.assign(Object.assign({},(R=(j=w==null?void 0:w.item)===null||j===void 0?void 0:j.styles)===null||R===void 0?void 0:R[I]),c==null?void 0:c[I])},E=()=>{let I=!1;return d.Children.forEach(i,j=>{typeof j=="string"&&(I=!0)}),I&&d.Children.count(i)>1},x=()=>y==="vertical"?!!r:!E(),p=g("list",t),C=o&&o.length>0&&_.createElement("ul",{className:ie(`${p}-item-action`,b("actions")),key:"actions",style:m("actions")},o.map((I,j)=>_.createElement("li",{key:`${p}-item-action-${j}`},I,j!==o.length-1&&_.createElement("em",{className:`${p}-item-action-split`})))),z=f?"div":"li",O=_.createElement(z,Object.assign({},h,f?{}:{ref:n},{className:ie(`${p}-item`,{[`${p}-item-no-flex`]:!x()},l)}),y==="vertical"&&r?[_.createElement("div",{className:`${p}-item-main`,key:"content"},i,C),_.createElement("div",{className:ie(`${p}-item-extra`,b("extra")),key:"extra",style:m("extra")},r)]:[i,C,Xo(r,{key:"extra"})]);return f?_.createElement(Gi,{ref:n,flex:1,style:u},O):O}),hi=kr;hi.Meta=Or;const Mr=e=>{const{listBorderedCls:n,componentCls:t,paddingLG:i,margin:o,itemPaddingSM:r,itemPaddingLG:c,marginLG:l,borderRadiusLG:s}=e,u=q(e.calc(s).sub(e.lineWidth).equal());return{[n]:{border:`${q(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:s,[`${t}-header`]:{borderRadius:`${u} ${u} 0 0`},[`${t}-footer`]:{borderRadius:`0 0 ${u} ${u}`},[`${t}-header,${t}-footer,${t}-item`]:{paddingInline:i},[`${t}-pagination`]:{margin:`${q(o)} ${q(l)}`}},[`${n}${t}-sm`]:{[`${t}-item,${t}-header,${t}-footer`]:{padding:r}},[`${n}${t}-lg`]:{[`${t}-item,${t}-header,${t}-footer`]:{padding:c}}}},Nr=e=>{const{componentCls:n,screenSM:t,screenMD:i,marginLG:o,marginSM:r,margin:c}=e;return{[`@media screen and (max-width:${i}px)`]:{[n]:{[`${n}-item`]:{[`${n}-item-action`]:{marginInlineStart:o}}},[`${n}-vertical`]:{[`${n}-item`]:{[`${n}-item-extra`]:{marginInlineStart:o}}}},[`@media screen and (max-width: ${t}px)`]:{[n]:{[`${n}-item`]:{flexWrap:"wrap",[`${n}-action`]:{marginInlineStart:r}}},[`${n}-vertical`]:{[`${n}-item`]:{flexWrap:"wrap-reverse",[`${n}-item-main`]:{minWidth:e.contentWidth},[`${n}-item-extra`]:{margin:`auto auto ${q(c)}`}}}}}},Pr=e=>{const{componentCls:n,antCls:t,controlHeight:i,minHeight:o,paddingSM:r,marginLG:c,padding:l,itemPadding:s,colorPrimary:u,itemPaddingSM:h,itemPaddingLG:f,paddingXS:y,margin:g,colorText:w,colorTextDescription:b,motionDurationSlow:m,lineWidth:E,headerBg:x,footerBg:p,emptyTextPadding:C,metaMarginBottom:z,avatarMarginRight:O,titleMarginBottom:I,descriptionFontSize:j}=e;return{[n]:Object.assign(Object.assign({},mt(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},[`${n}-header`]:{background:x},[`${n}-footer`]:{background:p},[`${n}-header, ${n}-footer`]:{paddingBlock:r},[`${n}-pagination`]:{marginBlockStart:c,[`${t}-pagination-options`]:{textAlign:"start"}},[`${n}-spin`]:{minHeight:o,textAlign:"center"},[`${n}-items`]:{margin:0,padding:0,listStyle:"none"},[`${n}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:s,color:w,[`${n}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${n}-item-meta-avatar`]:{marginInlineEnd:O},[`${n}-item-meta-content`]:{flex:"1 0",width:0,color:w},[`${n}-item-meta-title`]:{margin:`0 0 ${q(e.marginXXS)} 0`,color:w,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:w,transition:`all ${m}`,"&:hover":{color:u}}},[`${n}-item-meta-description`]:{color:b,fontSize:j,lineHeight:e.lineHeight}},[`${n}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${q(y)}`,color:b,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${n}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:E,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${n}-empty`]:{padding:`${q(l)} 0`,color:b,fontSize:e.fontSizeSM,textAlign:"center"},[`${n}-empty-text`]:{padding:C,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${n}-item-no-flex`]:{display:"block"}}),[`${n}-grid ${t}-col > ${n}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:g,paddingBlock:0,borderBlockEnd:"none"},[`${n}-vertical ${n}-item`]:{alignItems:"initial",[`${n}-item-main`]:{display:"block",flex:1},[`${n}-item-extra`]:{marginInlineStart:c},[`${n}-item-meta`]:{marginBlockEnd:z,[`${n}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:I,color:w,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${n}-item-action`]:{marginBlockStart:l,marginInlineStart:"auto","> li":{padding:`0 ${q(l)}`,"&:first-child":{paddingInlineStart:0}}}},[`${n}-split ${n}-item`]:{borderBlockEnd:`${q(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${n}-split ${n}-header`]:{borderBlockEnd:`${q(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${n}-split${n}-empty ${n}-footer`]:{borderTop:`${q(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${n}-loading ${n}-spin-nested-loading`]:{minHeight:i},[`${n}-split${n}-something-after-last-item ${t}-spin-container > ${n}-items > ${n}-item:last-child`]:{borderBlockEnd:`${q(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${n}-lg ${n}-item`]:{padding:f},[`${n}-sm ${n}-item`]:{padding:h},[`${n}:not(${n}-vertical)`]:{[`${n}-item-no-flex`]:{[`${n}-item-action`]:{float:"right"}}}}},Ar=e=>({contentWidth:220,itemPadding:`${q(e.paddingContentVertical)} 0`,itemPaddingSM:`${q(e.paddingContentVerticalSM)} ${q(e.paddingContentHorizontal)}`,itemPaddingLG:`${q(e.paddingContentVerticalLG)} ${q(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}),Dr=nt("List",e=>{const n=wt(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[Pr(n),Mr(n),Nr(n)]},Ar);var Tr=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(t[i[o]]=e[i[o]]);return t};function Lr(e,n){const{pagination:t=!1,prefixCls:i,bordered:o=!1,split:r=!0,className:c,rootClassName:l,style:s,children:u,itemLayout:h,loadMore:f,grid:y,dataSource:g=[],size:w,header:b,footer:m,loading:E=!1,rowKey:x,renderItem:p,locale:C}=e,z=Tr(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),O=t&&typeof t=="object"?t:{},[I,j]=d.useState(O.defaultCurrent||1),[R,A]=d.useState(O.defaultPageSize||10),{getPrefixCls:V,direction:G,className:$,style:k}=gt("list"),{renderEmpty:L}=d.useContext(it),B={current:1,total:0,position:"bottom"},U=J=>(de,pe)=>{var $e;j(de),A(pe),t&&(($e=t==null?void 0:t[J])===null||$e===void 0||$e.call(t,de,pe))},M=U("onChange"),K=U("onShowSizeChange"),oe=(J,de)=>{if(!p)return null;let pe;return typeof x=="function"?pe=x(J):x?pe=J[x]:pe=J.key,pe||(pe=`list-item-${de}`),d.createElement(d.Fragment,{key:pe},p(J,de))},D=!!(f||t||m),T=V("list",i),[Z,ce,ne]=Dr(T);let re=E;typeof re=="boolean"&&(re={spinning:re});const he=!!(re!=null&&re.spinning),ze=pn(w);let ve="";switch(ze){case"large":ve="lg";break;case"small":ve="sm";break}const Ce=ie(T,{[`${T}-vertical`]:h==="vertical",[`${T}-${ve}`]:ve,[`${T}-split`]:r,[`${T}-bordered`]:o,[`${T}-loading`]:he,[`${T}-grid`]:!!y,[`${T}-something-after-last-item`]:D,[`${T}-rtl`]:G==="rtl"},$,c,l,ce,ne),X=Yo(B,{total:g.length,current:I,pageSize:R},t||{}),Ie=Math.ceil(X.total/X.pageSize);X.current=Math.min(X.current,Ie);const ye=t&&d.createElement("div",{className:ie(`${T}-pagination`)},d.createElement(qi,Object.assign({align:"end"},X,{onChange:M,onShowSizeChange:K})));let Ge=qt(g);t&&g.length>(X.current-1)*X.pageSize&&(Ge=qt(g).splice((X.current-1)*X.pageSize,X.pageSize));const rt=Object.keys(y||{}).some(J=>["xs","sm","md","lg","xl","xxl"].includes(J)),Ye=Ki(rt),we=d.useMemo(()=>{for(let J=0;J<$n.length;J+=1){const de=$n[J];if(Ye[de])return de}},[Ye]),at=d.useMemo(()=>{if(!y)return;const J=we&&y[we]?y[we]:y.column;if(J)return{width:`${100/J}%`,maxWidth:`${100/J}%`}},[JSON.stringify(y),we]);let qe=he&&d.createElement("div",{style:{minHeight:53}});if(Ge.length>0){const J=Ge.map(oe);qe=y?d.createElement(Xi,{gutter:y.gutter},d.Children.map(J,de=>d.createElement("div",{key:de==null?void 0:de.key,style:at},de))):d.createElement("ul",{className:`${T}-items`},J)}else!u&&!he&&(qe=d.createElement("div",{className:`${T}-empty-text`},(C==null?void 0:C.emptyText)||(L==null?void 0:L("List"))||d.createElement(Yi,{componentName:"List"})));const Te=X.position,ae=d.useMemo(()=>({grid:y,itemLayout:h}),[JSON.stringify(y),h]);return Z(d.createElement(vn.Provider,{value:ae},d.createElement("div",Object.assign({ref:n,style:Object.assign(Object.assign({},k),s),className:Ce},z),(Te==="top"||Te==="both")&&ye,b&&d.createElement("div",{className:`${T}-header`},b),d.createElement(ct,Object.assign({},re),qe,u),m&&d.createElement("div",{className:`${T}-footer`},m),f||(Te==="bottom"||Te==="both")&&ye)))}const Br=d.forwardRef(Lr),Ke=Br;Ke.Item=hi;function et(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Io(e))||n){t&&(e=t);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r,c=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return c=u.done,u},e:function(u){l=!0,r=u},f:function(){try{c||t.return==null||t.return()}finally{if(l)throw r}}}}var ot,xt;function xe(e,n,t){if(n<0||n>31||e>>>n)throw new RangeError("Value out of range");for(var i=n-1;i>=0;i--)t.push(e>>>i&1)}function He(e,n){return(e>>>n&1)!=0}function Se(e){if(!e)throw new Error("Assertion error")}var De=function(){function e(n,t){yt(this,e),Q(this,"modeBits",void 0),Q(this,"numBitsCharCount",void 0),this.modeBits=n,this.numBitsCharCount=t}return vt(e,[{key:"numCharCountBits",value:function(t){return this.numBitsCharCount[Math.floor((t+7)/17)]}}]),e}();ot=De;Q(De,"NUMERIC",new ot(1,[10,12,14]));Q(De,"ALPHANUMERIC",new ot(2,[9,11,13]));Q(De,"BYTE",new ot(4,[8,16,16]));Q(De,"KANJI",new ot(8,[8,10,12]));Q(De,"ECI",new ot(7,[0,0,0]));var Re=vt(function e(n,t){yt(this,e),Q(this,"ordinal",void 0),Q(this,"formatBits",void 0),this.ordinal=n,this.formatBits=t});xt=Re;Q(Re,"LOW",new xt(0,1));Q(Re,"MEDIUM",new xt(1,0));Q(Re,"QUARTILE",new xt(2,3));Q(Re,"HIGH",new xt(3,2));var Xe=function(){function e(n,t,i){if(yt(this,e),Q(this,"mode",void 0),Q(this,"numChars",void 0),Q(this,"bitData",void 0),this.mode=n,this.numChars=t,this.bitData=i,t<0)throw new RangeError("Invalid argument");this.bitData=i.slice()}return vt(e,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(t){var i=[],o=et(t),r;try{for(o.s();!(r=o.n()).done;){var c=r.value;xe(c,8,i)}}catch(l){o.e(l)}finally{o.f()}return new e(De.BYTE,t.length,i)}},{key:"makeNumeric",value:function(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");for(var i=[],o=0;o<t.length;){var r=Math.min(t.length-o,3);xe(parseInt(t.substring(o,o+r),10),r*3+1,i),o+=r}return new e(De.NUMERIC,t.length,i)}},{key:"makeAlphanumeric",value:function(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");var i=[],o;for(o=0;o+2<=t.length;o+=2){var r=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(o))*45;r+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(o+1)),xe(r,11,i)}return o<t.length&&xe(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(o)),6,i),new e(De.ALPHANUMERIC,t.length,i)}},{key:"makeSegments",value:function(t){return t==""?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}},{key:"makeEci",value:function(t){var i=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)xe(t,8,i);else if(t<16384)xe(2,2,i),xe(t,14,i);else if(t<1e6)xe(6,3,i),xe(t,21,i);else throw new RangeError("ECI assignment value out of range");return new e(De.ECI,0,i)}},{key:"isNumeric",value:function(t){return e.NUMERIC_REGEX.test(t)}},{key:"isAlphanumeric",value:function(t){return e.ALPHANUMERIC_REGEX.test(t)}},{key:"getTotalBits",value:function(t,i){var o=0,r=et(t),c;try{for(r.s();!(c=r.n()).done;){var l=c.value,s=l.mode.numCharCountBits(i);if(l.numChars>=1<<s)return 1/0;o+=4+s+l.bitData.length}}catch(u){r.e(u)}finally{r.f()}return o}},{key:"toUtf8ByteArray",value:function(t){for(var i=encodeURI(t),o=[],r=0;r<i.length;r++)i.charAt(r)!="%"?o.push(i.charCodeAt(r)):(o.push(parseInt(i.substring(r+1,r+3),16)),r+=2);return o}}]),e}();Q(Xe,"NUMERIC_REGEX",/^[0-9]*$/);Q(Xe,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+.\/:-]*$/);Q(Xe,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");var Fe=function(){function e(n,t,i,o){yt(this,e),Q(this,"size",void 0),Q(this,"mask",void 0),Q(this,"modules",[]),Q(this,"isFunction",[]),Q(this,"version",void 0),Q(this,"errorCorrectionLevel",void 0);var r=o;if(this.version=n,this.errorCorrectionLevel=t,n<e.MIN_VERSION||n>e.MAX_VERSION)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=n*4+17;for(var c=[],l=0;l<this.size;l++)c.push(!1);for(var s=0;s<this.size;s++)this.modules.push(c.slice()),this.isFunction.push(c.slice());this.drawFunctionPatterns();var u=this.addEccAndInterleave(i);if(this.drawCodewords(u),r==-1)for(var h=1e9,f=0;f<8;f++){this.applyMask(f),this.drawFormatBits(f);var y=this.getPenaltyScore();y<h&&(r=f,h=y),this.applyMask(f)}Se(0<=r&&r<=7),this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}return vt(e,[{key:"getModule",value:function(t,i){return 0<=t&&t<this.size&&0<=i&&i<this.size&&this.modules[i][t]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var t=0;t<this.size;t++)this.setFunctionModule(6,t,t%2==0),this.setFunctionModule(t,6,t%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var i=this.getAlignmentPatternPositions(),o=i.length,r=0;r<o;r++)for(var c=0;c<o;c++)r==0&&c==0||r==0&&c==o-1||r==o-1&&c==0||this.drawAlignmentPattern(i[r],i[c]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(t){for(var i=this.errorCorrectionLevel.formatBits<<3|t,o=i,r=0;r<10;r++)o=o<<1^(o>>>9)*1335;var c=(i<<10|o)^21522;Se(c>>>15==0);for(var l=0;l<=5;l++)this.setFunctionModule(8,l,He(c,l));this.setFunctionModule(8,7,He(c,6)),this.setFunctionModule(8,8,He(c,7)),this.setFunctionModule(7,8,He(c,8));for(var s=9;s<15;s++)this.setFunctionModule(14-s,8,He(c,s));for(var u=0;u<8;u++)this.setFunctionModule(this.size-1-u,8,He(c,u));for(var h=8;h<15;h++)this.setFunctionModule(8,this.size-15+h,He(c,h));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var t=this.version,i=0;i<12;i++)t=t<<1^(t>>>11)*7973;var o=this.version<<12|t;Se(o>>>18==0);for(var r=0;r<18;r++){var c=He(o,r),l=this.size-11+r%3,s=Math.floor(r/3);this.setFunctionModule(l,s,c),this.setFunctionModule(s,l,c)}}}},{key:"drawFinderPattern",value:function(t,i){for(var o=-4;o<=4;o++)for(var r=-4;r<=4;r++){var c=Math.max(Math.abs(r),Math.abs(o)),l=t+r,s=i+o;0<=l&&l<this.size&&0<=s&&s<this.size&&this.setFunctionModule(l,s,c!=2&&c!=4)}}},{key:"drawAlignmentPattern",value:function(t,i){for(var o=-2;o<=2;o++)for(var r=-2;r<=2;r++)this.setFunctionModule(t+r,i+o,Math.max(Math.abs(r),Math.abs(o))!=1)}},{key:"setFunctionModule",value:function(t,i,o){this.modules[i][t]=o,this.isFunction[i][t]=!0}},{key:"addEccAndInterleave",value:function(t){var i=this.version,o=this.errorCorrectionLevel;if(t.length!=e.getNumDataCodewords(i,o))throw new RangeError("Invalid argument");for(var r=e.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][i],c=e.ECC_CODEWORDS_PER_BLOCK[o.ordinal][i],l=Math.floor(e.getNumRawDataModules(i)/8),s=r-l%r,u=Math.floor(l/r),h=[],f=e.reedSolomonComputeDivisor(c),y=0,g=0;y<r;y++){var w=t.slice(g,g+u-c+(y<s?0:1));g+=w.length;var b=e.reedSolomonComputeRemainder(w,f);y<s&&w.push(0),h.push(w.concat(b))}for(var m=[],E=function(C){h.forEach(function(z,O){(C!=u-c||O>=s)&&m.push(z[C])})},x=0;x<h[0].length;x++)E(x);return Se(m.length==l),m}},{key:"drawCodewords",value:function(t){if(t.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var i=0,o=this.size-1;o>=1;o-=2){o==6&&(o=5);for(var r=0;r<this.size;r++)for(var c=0;c<2;c++){var l=o-c,s=(o+1&2)==0,u=s?this.size-1-r:r;!this.isFunction[u][l]&&i<t.length*8&&(this.modules[u][l]=He(t[i>>>3],7-(i&7)),i++)}}Se(i==t.length*8)}},{key:"applyMask",value:function(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(var i=0;i<this.size;i++)for(var o=0;o<this.size;o++){var r=void 0;switch(t){case 0:r=(o+i)%2==0;break;case 1:r=i%2==0;break;case 2:r=o%3==0;break;case 3:r=(o+i)%3==0;break;case 4:r=(Math.floor(o/3)+Math.floor(i/2))%2==0;break;case 5:r=o*i%2+o*i%3==0;break;case 6:r=(o*i%2+o*i%3)%2==0;break;case 7:r=((o+i)%2+o*i%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[i][o]&&r&&(this.modules[i][o]=!this.modules[i][o])}}},{key:"getPenaltyScore",value:function(){for(var t=0,i=0;i<this.size;i++){for(var o=!1,r=0,c=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[i][l]==o?(r++,r==5?t+=e.PENALTY_N1:r>5&&t++):(this.finderPenaltyAddHistory(r,c),o||(t+=this.finderPenaltyCountPatterns(c)*e.PENALTY_N3),o=this.modules[i][l],r=1);t+=this.finderPenaltyTerminateAndCount(o,r,c)*e.PENALTY_N3}for(var s=0;s<this.size;s++){for(var u=!1,h=0,f=[0,0,0,0,0,0,0],y=0;y<this.size;y++)this.modules[y][s]==u?(h++,h==5?t+=e.PENALTY_N1:h>5&&t++):(this.finderPenaltyAddHistory(h,f),u||(t+=this.finderPenaltyCountPatterns(f)*e.PENALTY_N3),u=this.modules[y][s],h=1);t+=this.finderPenaltyTerminateAndCount(u,h,f)*e.PENALTY_N3}for(var g=0;g<this.size-1;g++)for(var w=0;w<this.size-1;w++){var b=this.modules[g][w];b==this.modules[g][w+1]&&b==this.modules[g+1][w]&&b==this.modules[g+1][w+1]&&(t+=e.PENALTY_N2)}var m=0,E=et(this.modules),x;try{for(E.s();!(x=E.n()).done;){var p=x.value;m=p.reduce(function(O,I){return O+(I?1:0)},m)}}catch(O){E.e(O)}finally{E.f()}var C=this.size*this.size,z=Math.ceil(Math.abs(m*20-C*10)/C)-1;return Se(0<=z&&z<=9),t+=z*e.PENALTY_N4,Se(0<=t&&t<=2568888),t}},{key:"getAlignmentPatternPositions",value:function(){if(this.version==1)return[];for(var t=Math.floor(this.version/7)+2,i=this.version==32?26:Math.ceil((this.version*4+4)/(t*2-2))*2,o=[6],r=this.size-7;o.length<t;r-=i)o.splice(1,0,r);return o}},{key:"finderPenaltyCountPatterns",value:function(t){var i=t[1];Se(i<=this.size*3);var o=i>0&&t[2]==i&&t[3]==i*3&&t[4]==i&&t[5]==i;return(o&&t[0]>=i*4&&t[6]>=i?1:0)+(o&&t[6]>=i*4&&t[0]>=i?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(t,i,o){var r=i;return t&&(this.finderPenaltyAddHistory(r,o),r=0),r+=this.size,this.finderPenaltyAddHistory(r,o),this.finderPenaltyCountPatterns(o)}},{key:"finderPenaltyAddHistory",value:function(t,i){var o=t;i[0]==0&&(o+=this.size),i.pop(),i.unshift(o)}}],[{key:"encodeText",value:function(t,i){var o=Xe.makeSegments(t);return e.encodeSegments(o,i)}},{key:"encodeBinary",value:function(t,i){var o=Xe.makeBytes(t);return e.encodeSegments([o],i)}},{key:"encodeSegments",value:function(t,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:40,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(!(e.MIN_VERSION<=o&&o<=r&&r<=e.MAX_VERSION)||c<-1||c>7)throw new RangeError("Invalid value");var s,u;for(s=o;;s++){var h=e.getNumDataCodewords(s,i)*8,f=Xe.getTotalBits(t,s);if(f<=h){u=f;break}if(s>=r)throw new RangeError("Data too long")}for(var y=i,g=0,w=[Re.MEDIUM,Re.QUARTILE,Re.HIGH];g<w.length;g++){var b=w[g];l&&u<=e.getNumDataCodewords(s,b)*8&&(y=b)}var m=[],E=et(t),x;try{for(E.s();!(x=E.n()).done;){var p=x.value;xe(p.mode.modeBits,4,m),xe(p.numChars,p.mode.numCharCountBits(s),m);var C=et(p.getData()),z;try{for(C.s();!(z=C.n()).done;){var O=z.value;m.push(O)}}catch(A){C.e(A)}finally{C.f()}}}catch(A){E.e(A)}finally{E.f()}Se(m.length==u);var I=e.getNumDataCodewords(s,y)*8;Se(m.length<=I),xe(0,Math.min(4,I-m.length),m),xe(0,(8-m.length%8)%8,m),Se(m.length%8==0);for(var j=236;m.length<I;j^=253)xe(j,8,m);for(var R=[];R.length*8<m.length;)R.push(0);return m.forEach(function(A,V){R[V>>>3]|=A<<7-(V&7)}),new e(s,y,R,c)}},{key:"getNumRawDataModules",value:function(t){if(t<e.MIN_VERSION||t>e.MAX_VERSION)throw new RangeError("Version number out of range");var i=(16*t+128)*t+64;if(t>=2){var o=Math.floor(t/7)+2;i-=(25*o-10)*o-55,t>=7&&(i-=36)}return Se(208<=i&&i<=29648),i}},{key:"getNumDataCodewords",value:function(t,i){return Math.floor(e.getNumRawDataModules(t)/8)-e.ECC_CODEWORDS_PER_BLOCK[i.ordinal][t]*e.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][t]}},{key:"reedSolomonComputeDivisor",value:function(t){if(t<1||t>255)throw new RangeError("Degree out of range");for(var i=[],o=0;o<t-1;o++)i.push(0);i.push(1);for(var r=1,c=0;c<t;c++){for(var l=0;l<i.length;l++)i[l]=e.reedSolomonMultiply(i[l],r),l+1<i.length&&(i[l]^=i[l+1]);r=e.reedSolomonMultiply(r,2)}return i}},{key:"reedSolomonComputeRemainder",value:function(t,i){var o=i.map(function(){return 0}),r=et(t),c;try{var l=function(){var u=c.value,h=u^o.shift();o.push(0),i.forEach(function(f,y){o[y]^=e.reedSolomonMultiply(f,h)})};for(r.s();!(c=r.n()).done;)l()}catch(s){r.e(s)}finally{r.f()}return o}},{key:"reedSolomonMultiply",value:function(t,i){if(t>>>8||i>>>8)throw new RangeError("Byte out of range");for(var o=0,r=7;r>=0;r--)o=o<<1^(o>>>7)*285,o^=(i>>>r&1)*t;return Se(o>>>8==0),o}}]),e}();Q(Fe,"MIN_VERSION",1);Q(Fe,"MAX_VERSION",40);Q(Fe,"PENALTY_N1",3);Q(Fe,"PENALTY_N2",3);Q(Fe,"PENALTY_N3",40);Q(Fe,"PENALTY_N4",10);Q(Fe,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]);Q(Fe,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]);var Hr={L:Re.LOW,M:Re.MEDIUM,Q:Re.QUARTILE,H:Re.HIGH},ui=128,pi="L",fi="#FFFFFF",mi="#000000",gi=!1,vi=1,_r=4,Wr=0,Fr=.1,yi=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=[];return n.forEach(function(o,r){var c=null;o.forEach(function(l,s){if(!l&&c!==null){i.push("M".concat(c+t," ").concat(r+t,"h").concat(s-c,"v1H").concat(c+t,"z")),c=null;return}if(s===o.length-1){if(!l)return;c===null?i.push("M".concat(s+t,",").concat(r+t," h1v1H").concat(s+t,"z")):i.push("M".concat(c+t,",").concat(r+t," h").concat(s+1-c,"v1H").concat(c+t,"z"));return}l&&c===null&&(c=s)})}),i.join("")},wi=function(n,t){return n.slice().map(function(i,o){return o<t.y||o>=t.y+t.h?i:i.map(function(r,c){return c<t.x||c>=t.x+t.w?r:!1})})},Ur=function(n,t,i,o){if(o==null)return null;var r=n.length+i*2,c=Math.floor(t*Fr),l=r/t,s=(o.width||c)*l,u=(o.height||c)*l,h=o.x==null?n.length/2-s/2:o.x*l,f=o.y==null?n.length/2-u/2:o.y*l,y=o.opacity==null?1:o.opacity,g=null;if(o.excavate){var w=Math.floor(h),b=Math.floor(f),m=Math.ceil(s+h-w),E=Math.ceil(u+f-b);g={x:w,y:b,w:m,h:E}}var x=o.crossOrigin;return{x:h,y:f,h:u,w:s,excavation:g,opacity:y,crossOrigin:x}},Vr=function(n,t){return t!=null?Math.max(Math.floor(t),0):n?_r:Wr},Gr=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),xi=function(n){var t=n.value,i=n.level,o=n.minVersion,r=n.includeMargin,c=n.marginSize,l=n.imageSettings,s=n.size,u=n.boostLevel,h=_.useMemo(function(){var f=Array.isArray(t)?t:[t],y=f.reduce(function(g,w){return g.push.apply(g,qt(Xe.makeSegments(w))),g},[]);return Fe.encodeSegments(y,Hr[i],o,void 0,void 0,u)},[t,i,o,u]);return _.useMemo(function(){var f=h.getModules(),y=Vr(r,c),g=f.length+y*2,w=Ur(f,s,y,l);return{cells:f,margin:y,numCells:g,calculatedImageSettings:w,qrcode:h}},[h,s,l,r,c])},qr=["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","style","imageSettings","boostLevel"],Kr=_.forwardRef(function(e,n){var t=e.value,i=e.size,o=i===void 0?ui:i,r=e.level,c=r===void 0?pi:r,l=e.bgColor,s=l===void 0?fi:l,u=e.fgColor,h=u===void 0?mi:u,f=e.includeMargin,y=f===void 0?gi:f,g=e.minVersion,w=g===void 0?vi:g,b=e.marginSize,m=e.style,E=e.imageSettings,x=e.boostLevel,p=Nt(e,qr),C=E==null?void 0:E.src,z=_.useRef(null),O=_.useRef(null),I=_.useCallback(function(M){z.current=M,typeof n=="function"?n(M):n&&(n.current=M)},[n]),j=_.useState(!1),R=ut(j,2),A=R[1],V=xi({value:t,level:c,minVersion:w,includeMargin:y,marginSize:b,imageSettings:E,size:o,boostLevel:x}),G=V.margin,$=V.cells,k=V.numCells,L=V.calculatedImageSettings;_.useEffect(function(){if(z.current){var M=z.current,K=M.getContext("2d");if(!K)return;var oe=$,D=O.current,T=L!=null&&D!==null&&D.complete&&D.naturalHeight!==0&&D.naturalWidth!==0;T&&L.excavation!=null&&(oe=wi($,L.excavation));var Z=window.devicePixelRatio||1;M.height=M.width=o*Z;var ce=o/k*Z;K.scale(ce,ce),K.fillStyle=s,K.fillRect(0,0,k,k),K.fillStyle=h,Gr?K.fill(new Path2D(yi(oe,G))):$.forEach(function(ne,re){ne.forEach(function(he,ze){he&&K.fillRect(ze+G,re+G,1,1)})}),L&&(K.globalAlpha=L.opacity),T&&K.drawImage(D,L.x+G,L.y+G,L.w,L.h)}}),_.useEffect(function(){A(!1)},[C]);var B=je({height:o,width:o},m),U=null;return C!=null&&(U=_.createElement("img",{alt:"QR-Code",src:C,key:C,style:{display:"none"},onLoad:function(){A(!0)},ref:O,crossOrigin:L==null?void 0:L.crossOrigin})),_.createElement(_.Fragment,null,_.createElement("canvas",We({style:B,height:o,width:o,ref:I,role:"img"},p)),U)}),Xr=["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings","boostLevel"],Yr=_.forwardRef(function(e,n){var t=e.value,i=e.size,o=i===void 0?ui:i,r=e.level,c=r===void 0?pi:r,l=e.bgColor,s=l===void 0?fi:l,u=e.fgColor,h=u===void 0?mi:u,f=e.includeMargin,y=f===void 0?gi:f,g=e.minVersion,w=g===void 0?vi:g,b=e.title,m=e.marginSize,E=e.imageSettings,x=e.boostLevel,p=Nt(e,Xr),C=xi({value:t,level:c,minVersion:w,includeMargin:y,marginSize:m,imageSettings:E,size:o,boostLevel:x}),z=C.margin,O=C.cells,I=C.numCells,j=C.calculatedImageSettings,R=O,A=null;E!=null&&j!=null&&(j.excavation!=null&&(R=wi(O,j.excavation)),A=_.createElement("image",{href:E.src,height:j.h,width:j.w,x:j.x+z,y:j.y+z,preserveAspectRatio:"none",opacity:j.opacity,crossOrigin:j.crossOrigin}));var V=yi(R,z);return _.createElement("svg",We({height:o,width:o,viewBox:"0 0 ".concat(I," ").concat(I),ref:n,role:"img"},p),!!b&&_.createElement("title",null,b),_.createElement("path",{fill:s,d:"M0,0 h".concat(I,"v").concat(I,"H0z"),shapeRendering:"crispEdges"}),_.createElement("path",{fill:h,d:V,shapeRendering:"crispEdges"}),A)}),Qr=function(n,t){return d.createElement(Oo,We({},n,{ref:t,icon:Qi}))},Jr=d.forwardRef(Qr);const Zr=_.createElement(ct,null);function ea({prefixCls:e,locale:n,onRefresh:t,statusRender:i,status:o}){const r=_.createElement(_.Fragment,null,_.createElement("p",{className:`${e}-expired`},n==null?void 0:n.expired),t&&_.createElement(le,{type:"link",icon:_.createElement(Jr,null),onClick:t},n==null?void 0:n.refresh)),c=_.createElement("p",{className:`${e}-scanned`},n==null?void 0:n.scanned),l={expired:r,loading:Zr,scanned:c};return(i??(h=>l[h.status]))({status:o,locale:n,onRefresh:t})}const ta=e=>{const{componentCls:n,lineWidth:t,lineType:i,colorSplit:o}=e;return{[n]:Object.assign(Object.assign({},mt(e)),{display:"flex",justifyContent:"center",alignItems:"center",padding:e.paddingSM,backgroundColor:e.colorWhite,borderRadius:e.borderRadiusLG,border:`${q(t)} ${i} ${o}`,position:"relative",overflow:"hidden",[`& > ${n}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:e.colorText,lineHeight:e.lineHeight,background:e.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${n}-expired, & > ${n}-scanned`]:{color:e.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:e.marginXS,fontSize:e.controlHeight}}),[`${n}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}},na=e=>({QRCodeMaskBackgroundColor:new Zn(e.colorBgContainer).setA(.96).toRgbString()}),ia=nt("QRCode",e=>{const n=wt(e,{QRCodeTextColor:e.colorText});return ta(n)},na);var oa=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(t[i[o]]=e[i[o]]);return t};const ra=e=>{var n,t,i,o;const[,r]=ko(),{value:c,type:l="canvas",icon:s="",size:u=160,iconSize:h,color:f=r.colorText,errorLevel:y="M",status:g="active",bordered:w=!0,onRefresh:b,style:m,className:E,rootClassName:x,prefixCls:p,bgColor:C="transparent",statusRender:z,boostLevel:O}=e,I=oa(e,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender","boostLevel"]),{getPrefixCls:j}=d.useContext(it),R=j("qrcode",p),[A,V,G]=ia(R),$={src:s,x:void 0,y:void 0,height:typeof h=="number"?h:(n=h==null?void 0:h.height)!==null&&n!==void 0?n:40,width:typeof h=="number"?h:(t=h==null?void 0:h.width)!==null&&t!==void 0?t:40,excavate:!0,crossOrigin:"anonymous"},k=ft(I,!0),L=Mo(I,Object.keys(k)),B=Object.assign({value:c,size:u,level:y,bgColor:C,fgColor:f,style:{width:m==null?void 0:m.width,height:m==null?void 0:m.height},imageSettings:s?$:void 0,boostLevel:O},k),[U]=Qo("QRCode");if(!c)return null;const M=ie(R,E,x,V,G,{[`${R}-borderless`]:!w}),K=Object.assign(Object.assign({backgroundColor:C},m),{width:(i=m==null?void 0:m.width)!==null&&i!==void 0?i:u,height:(o=m==null?void 0:m.height)!==null&&o!==void 0?o:u});return A(_.createElement("div",Object.assign({},L,{className:M,style:K}),g!=="active"&&_.createElement("div",{className:`${R}-mask`},_.createElement(ea,{prefixCls:R,locale:U,status:g,onRefresh:b,statusRender:z})),l==="canvas"?_.createElement(Kr,Object.assign({},B)):_.createElement(Yr,Object.assign({},B))))};var aa=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],bi=d.forwardRef(function(e,n){var t,i=e.prefixCls,o=i===void 0?"rc-switch":i,r=e.className,c=e.checked,l=e.defaultChecked,s=e.disabled,u=e.loadingIcon,h=e.checkedChildren,f=e.unCheckedChildren,y=e.onClick,g=e.onChange,w=e.onKeyDown,b=Nt(e,aa),m=Yn(!1,{value:c,defaultValue:l}),E=ut(m,2),x=E[0],p=E[1];function C(j,R){var A=x;return s||(A=j,p(A),g==null||g(A,R)),A}function z(j){j.which===lt.LEFT?C(!1,j):j.which===lt.RIGHT&&C(!0,j),w==null||w(j)}function O(j){var R=C(!x,j);y==null||y(R,j)}var I=ie(o,r,(t={},Q(t,"".concat(o,"-checked"),x),Q(t,"".concat(o,"-disabled"),s),t));return d.createElement("button",We({},b,{type:"button",role:"switch","aria-checked":x,disabled:s,className:I,ref:n,onKeyDown:z,onClick:O}),u,d.createElement("span",{className:"".concat(o,"-inner")},d.createElement("span",{className:"".concat(o,"-inner-checked")},h),d.createElement("span",{className:"".concat(o,"-inner-unchecked")},f)))});bi.displayName="Switch";const sa=e=>{const{componentCls:n,trackHeightSM:t,trackPadding:i,trackMinWidthSM:o,innerMinMarginSM:r,innerMaxMarginSM:c,handleSizeSM:l,calc:s}=e,u=`${n}-inner`,h=q(s(l).add(s(i).mul(2)).equal()),f=q(s(c).mul(2).equal());return{[n]:{[`&${n}-small`]:{minWidth:o,height:t,lineHeight:q(t),[`${n}-inner`]:{paddingInlineStart:c,paddingInlineEnd:r,[`${u}-checked, ${u}-unchecked`]:{minHeight:t},[`${u}-checked`]:{marginInlineStart:`calc(-100% + ${h} - ${f})`,marginInlineEnd:`calc(100% - ${h} + ${f})`},[`${u}-unchecked`]:{marginTop:s(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:l,height:l},[`${n}-loading-icon`]:{top:s(s(l).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:r,paddingInlineEnd:c,[`${u}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${u}-unchecked`]:{marginInlineStart:`calc(100% - ${h} + ${f})`,marginInlineEnd:`calc(-100% + ${h} - ${f})`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${q(s(l).add(i).equal())})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${u}`]:{[`${u}-unchecked`]:{marginInlineStart:s(e.marginXXS).div(2).equal(),marginInlineEnd:s(e.marginXXS).mul(-1).div(2).equal()}},[`&${n}-checked ${u}`]:{[`${u}-checked`]:{marginInlineStart:s(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:s(e.marginXXS).div(2).equal()}}}}}}},la=e=>{const{componentCls:n,handleSize:t,calc:i}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:i(i(t).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},ca=e=>{const{componentCls:n,trackPadding:t,handleBg:i,handleShadow:o,handleSize:r,calc:c}=e,l=`${n}-handle`;return{[n]:{[l]:{position:"absolute",top:t,insetInlineStart:t,width:r,height:r,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:i,borderRadius:c(r).div(2).equal(),boxShadow:o,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${l}`]:{insetInlineStart:`calc(100% - ${q(c(r).add(t).equal())})`},[`&:not(${n}-disabled):active`]:{[`${l}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${l}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},da=e=>{const{componentCls:n,trackHeight:t,trackPadding:i,innerMinMargin:o,innerMaxMargin:r,handleSize:c,calc:l}=e,s=`${n}-inner`,u=q(l(c).add(l(i).mul(2)).equal()),h=q(l(r).mul(2).equal());return{[n]:{[s]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:r,paddingInlineEnd:o,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${s}-checked, ${s}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:t},[`${s}-checked`]:{marginInlineStart:`calc(-100% + ${u} - ${h})`,marginInlineEnd:`calc(100% - ${u} + ${h})`},[`${s}-unchecked`]:{marginTop:l(t).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${s}`]:{paddingInlineStart:o,paddingInlineEnd:r,[`${s}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${s}-unchecked`]:{marginInlineStart:`calc(100% - ${u} + ${h})`,marginInlineEnd:`calc(-100% + ${u} - ${h})`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${s}`]:{[`${s}-unchecked`]:{marginInlineStart:l(i).mul(2).equal(),marginInlineEnd:l(i).mul(-1).mul(2).equal()}},[`&${n}-checked ${s}`]:{[`${s}-checked`]:{marginInlineStart:l(i).mul(-1).mul(2).equal(),marginInlineEnd:l(i).mul(2).equal()}}}}}},ha=e=>{const{componentCls:n,trackHeight:t,trackMinWidth:i}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},mt(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:i,height:t,lineHeight:q(t),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),Jn(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},ua=e=>{const{fontSize:n,lineHeight:t,controlHeight:i,colorWhite:o}=e,r=n*t,c=i/2,l=2,s=r-l*2,u=c-l*2;return{trackHeight:r,trackHeightSM:c,trackMinWidth:s*2+l*4,trackMinWidthSM:u*2+l*2,trackPadding:l,handleBg:o,handleSize:s,handleSizeSM:u,handleShadow:`0 2px 4px 0 ${new Zn("#00230b").setA(.2).toRgbString()}`,innerMinMargin:s/2,innerMaxMargin:s+l+l*2,innerMinMarginSM:u/2,innerMaxMarginSM:u+l+l*2}},pa=nt("Switch",e=>{const n=wt(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[ha(n),da(n),ca(n),la(n),sa(n)]},ua);var fa=function(e,n){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(t[i[o]]=e[i[o]]);return t};const ma=d.forwardRef((e,n)=>{const{prefixCls:t,size:i,disabled:o,loading:r,className:c,rootClassName:l,style:s,checked:u,value:h,defaultChecked:f,defaultValue:y,onChange:g}=e,w=fa(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[b,m]=Yn(!1,{value:u??h,defaultValue:f??y}),{getPrefixCls:E,direction:x,switch:p}=d.useContext(it),C=d.useContext(No),z=(o??C)||r,O=E("switch",t),I=d.createElement("div",{className:`${O}-handle`},r&&d.createElement(Zo,{className:`${O}-loading-icon`})),[j,R,A]=pa(O),V=pn(i),G=ie(p==null?void 0:p.className,{[`${O}-small`]:V==="small",[`${O}-loading`]:r,[`${O}-rtl`]:x==="rtl"},c,l,R,A),$=Object.assign(Object.assign({},p==null?void 0:p.style),s),k=(...L)=>{m(L[0]),g==null||g.apply(void 0,L)};return j(d.createElement(Jo,{component:"Switch",disabled:z},d.createElement(bi,Object.assign({},w,{checked:b,onChange:k,prefixCls:O,className:G,style:$,disabled:z,ref:n,loadingIcon:I}))))}),Si=ma;Si.__ANT_SWITCH=!0;var ga={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917.7 148.8l-42.4-42.4c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-76.1 76.1a199.27 199.27 0 00-112.1-34.3c-51.2 0-102.4 19.5-141.5 58.6L432.3 308.7a8.03 8.03 0 000 11.3L704 591.7c1.6 1.6 3.6 2.3 5.7 2.3 2 0 4.1-.8 5.7-2.3l101.9-101.9c68.9-69 77-175.7 24.3-253.5l76.1-76.1c3.1-3.2 3.1-8.3 0-11.4zM769.1 441.7l-59.4 59.4-186.8-186.8 59.4-59.4c24.9-24.9 58.1-38.7 93.4-38.7 35.3 0 68.4 13.7 93.4 38.7 24.9 24.9 38.7 58.1 38.7 93.4 0 35.3-13.8 68.4-38.7 93.4zm-190.2 105a8.03 8.03 0 00-11.3 0L501 613.3 410.7 523l66.7-66.7c3.1-3.1 3.1-8.2 0-11.3L441 408.6a8.03 8.03 0 00-11.3 0L363 475.3l-43-43a7.85 7.85 0 00-5.7-2.3c-2 0-4.1.8-5.7 2.3L206.8 534.2c-68.9 69-77 175.7-24.3 253.5l-76.1 76.1a8.03 8.03 0 000 11.3l42.4 42.4c1.6 1.6 3.6 2.3 5.7 2.3s4.1-.8 5.7-2.3l76.1-76.1c33.7 22.9 72.9 34.3 112.1 34.3 51.2 0 102.4-19.5 141.5-58.6l101.9-101.9c3.1-3.1 3.1-8.2 0-11.3l-43-43 66.7-66.7c3.1-3.1 3.1-8.2 0-11.3l-36.6-36.2zM441.7 769.1a131.32 131.32 0 01-93.4 38.7c-35.3 0-68.4-13.7-93.4-38.7a131.32 131.32 0 01-38.7-93.4c0-35.3 13.7-68.4 38.7-93.4l59.4-59.4 186.8 186.8-59.4 59.4z"}}]},name:"api",theme:"outlined"};function Xt(){return Xt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xt.apply(this,arguments)}const va=(e,n)=>d.createElement(ge,Xt({},e,{ref:n,icon:ga})),Ci=d.forwardRef(va);var ya={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]},name:"appstore-add",theme:"outlined"};function Yt(){return Yt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Yt.apply(this,arguments)}const wa=(e,n)=>d.createElement(ge,Yt({},e,{ref:n,icon:ya})),xa=d.forwardRef(wa);var ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"}}]},name:"appstore",theme:"outlined"};function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qt.apply(this,arguments)}const Sa=(e,n)=>d.createElement(ge,Qt({},e,{ref:n,icon:ba})),Ln=d.forwardRef(Sa);var Ca={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function Jt(){return Jt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Jt.apply(this,arguments)}const $a=(e,n)=>d.createElement(ge,Jt({},e,{ref:n,icon:Ca})),Ea=d.forwardRef($a);var ja={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"};function Zt(){return Zt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Zt.apply(this,arguments)}const Ra=(e,n)=>d.createElement(ge,Zt({},e,{ref:n,icon:ja})),Bn=d.forwardRef(Ra);var za={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 140H96c-17.7 0-32 14.3-32 32v496c0 17.7 14.3 32 32 32h380v112H304c-8.8 0-16 7.2-16 16v48c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-48c0-8.8-7.2-16-16-16H548V700h380c17.7 0 32-14.3 32-32V172c0-17.7-14.3-32-32-32zm-40 488H136V212h752v416z"}}]},name:"desktop",theme:"outlined"};function en(){return en=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},en.apply(this,arguments)}const Ia=(e,n)=>d.createElement(ge,en({},e,{ref:n,icon:za})),Oa=d.forwardRef(Ia);function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},tn.apply(this,arguments)}const ka=(e,n)=>d.createElement(ge,tn({},e,{ref:n,icon:Ji})),Ma=d.forwardRef(ka);function nn(){return nn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},nn.apply(this,arguments)}const Na=(e,n)=>d.createElement(ge,nn({},e,{ref:n,icon:Zi})),Ot=d.forwardRef(Na);function on(){return on=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},on.apply(this,arguments)}const Pa=(e,n)=>d.createElement(ge,on({},e,{ref:n,icon:eo})),Aa=d.forwardRef(Pa);var Da={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm144 452H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm445.7 51.5l-93.3-93.3C814.7 780.7 828 743.9 828 704c0-97.2-78.8-176-176-176s-176 78.8-176 176 78.8 176 176 176c35.8 0 69-10.7 96.8-29l94.7 94.7c1.6 1.6 3.6 2.3 5.6 2.3s4.1-.8 5.6-2.3l31-31a7.9 7.9 0 000-11.2zM652 816c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"file-search",theme:"outlined"};function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},rn.apply(this,arguments)}const Ta=(e,n)=>d.createElement(ge,rn({},e,{ref:n,icon:Da})),an=d.forwardRef(Ta);var La={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"};function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},sn.apply(this,arguments)}const Ba=(e,n)=>d.createElement(ge,sn({},e,{ref:n,icon:La})),Ha=d.forwardRef(Ba);var _a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};function ln(){return ln=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ln.apply(this,arguments)}const Wa=(e,n)=>d.createElement(ge,ln({},e,{ref:n,icon:_a})),Fa=d.forwardRef(Wa);function cn(){return cn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},cn.apply(this,arguments)}const Ua=(e,n)=>d.createElement(ge,cn({},e,{ref:n,icon:Ir})),Va=d.forwardRef(Ua);var Ga={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M800 64H224c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h576c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64zm-8 824H232V136h560v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"tablet",theme:"outlined"};function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},dn.apply(this,arguments)}const qa=(e,n)=>d.createElement(ge,dn({},e,{ref:n,icon:Ga})),Ka=d.forwardRef(qa);function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},hn.apply(this,arguments)}const Xa=(e,n)=>d.createElement(ge,hn({},e,{ref:n,icon:to})),Ya=d.forwardRef(Xa),Hn="axhub-admin-active-tab",_n="axhub-admin-create-mode",Wn="axhub-admin-generate-axure",Fn="axhub-admin-create-reference",Wt=[{id:"desktop",name:"",width:0,height:0,type:"desktop"},{id:"mobile",name:"",width:10,height:21.7,type:"mobile",ratio:"21.7:10"},{id:"tablet",name:"",width:10,height:14.3,type:"tablet",ratio:"10:14.3"}],un={async deleteItem(e){const n=await fetch("/api/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})});if(!n.ok){const t=await n.json();throw new Error(t.error||"")}return n.json()},async unsetReference(e){const n=await fetch("/api/unset-reference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})});if(!n.ok){const t=await n.json();throw new Error(t.error||"")}return n.json()},async getWsClients(){const e=await fetch("/api/ws/clients");return e.ok?(await e.json()).clients||[]:[]},async sendWsMessage(e){const n=await fetch("/api/ws/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const t=await n.text();throw new Error(t||"")}return n.json()},async fetchCode(e){const n=await fetch(e);if(!n.ok)throw new Error(` AI : ${n.statusText}`);return n.text()},async fetchHackCss(e,n){const t=`${window.location.origin}/${e}/${n}/hack.css`;try{const i=await fetch(t);if(i.ok)return await i.text()}catch(i){console.warn("fetch hack.css failed",i)}return""},async fetchSpecMd(e,n){const t=`${window.location.origin}/${e}/${n}/spec.md`;try{const i=await fetch(t);if(i.ok)return await i.text()}catch(i){console.warn("Error fetching spec.md",i)}return""},async reviewCode(e){const n=await fetch("/api/code-review",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:e})});if(!n.ok){const t=await n.json();throw new Error(t.error||"")}return n.json()}},{TextArea:Qa}=dt,{Text:Je}=mn,Ja=({open:e,onClose:n,imageConfig:t,setImageConfig:i,onDimensionChange:o,onSwapDimensions:r,onDimensionBlur:c,isExporting:l,onExport:s,onCopyConfig:u,activeTab:h,itemName:f})=>{const y=h==="elements"?"":"",[g,w]=d.useState(null),[b,m]=d.useState(!1),[E,x]=d.useState(!1),[p,C]=gn.useMessage(),[z,O]=d.useState("export"),[I,j]=d.useState(""),[R,A]=d.useState(""),[V,G]=d.useState(!1);d.useEffect(()=>{(async()=>{if(R&&z==="copyConfig"){G(!0);try{const K=await u(R);j(K)}catch{p.error(""),j("")}finally{G(!1)}}})()},[R,z,u,p]),d.useEffect(()=>{e||(O("export"),A(""),j(""))},[e]);const $=async()=>{if(!f)return!0;x(!0);try{const M=`${h}/${f}`,K=await un.reviewCode(M);return K.passed?!0:(w(K),m(!0),!1)}catch(M){return console.error(":",M),!0}finally{x(!1)}},k=async()=>{await $()&&s()},L=async()=>{if(!I){p.warning("");return}try{await navigator.clipboard.writeText(I),p.success("")}catch{p.error("")}},B=M=>{M.target.select()},U=async()=>{if(!g)return;const M=g.issues.filter(D=>D.type==="error"),K=g.issues.filter(D=>D.type==="warning");let oe=`

`;oe+=`${g.file}

`,M.length>0&&(oe+=`  (${M.length} ):
`,M.forEach((D,T)=>{oe+=`
${T+1}. [${D.rule}] ${D.message}
`,D.suggestion&&(oe+=`   : ${D.suggestion}
`)})),K.length>0&&(oe+=`
  (${K.length} ):
`,K.forEach((D,T)=>{oe+=`
${T+1}. [${D.rule}] ${D.message}
`,D.suggestion&&(oe+=`   : ${D.suggestion}
`)}));try{await navigator.clipboard.writeText(oe),p.success(""),m(!1)}catch{p.error("")}};return a.jsxs(a.Fragment,{children:[C,a.jsx(Mt,{title:" Axure",open:e,onCancel:n,footer:z==="export"?[a.jsx(le,{type:"primary",loading:l||E,onClick:k,children:""},"export")]:[a.jsx(le,{type:"primary",disabled:!I,onClick:L,children:""},"copy")],width:800,children:a.jsx(ei,{activeKey:z,onChange:O,items:[{key:"export",label:"",children:a.jsxs("div",{style:{display:"flex",gap:"20px",height:"400px"},children:[a.jsx("div",{style:{flex:1,border:"1px solid #f0f0f0",borderRadius:"8px",overflow:"hidden",background:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center"},children:t.previewUrl?a.jsx("img",{src:t.previewUrl,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}}):a.jsx(ct,{tip:"..."})}),a.jsxs("div",{style:{width:"240px",display:"flex",flexDirection:"column",gap:"16px"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"8px",fontWeight:500,display:"flex",alignItems:"center",gap:"4px"},children:["",a.jsx(Ae,{title:" Axure ",children:a.jsx(It,{style:{color:"#999",cursor:"help"}})})]}),a.jsxs(pt,{children:[a.jsx(En,{value:t.width,onChange:M=>o("width",M),onBlur:c,placeholder:"",style:{width:100},min:1}),a.jsx(Va,{onClick:r,style:{color:"#999",cursor:"pointer",fontSize:14}}),a.jsx(En,{value:t.height,onChange:M=>o("height",M),onBlur:c,placeholder:"",style:{width:100},min:1})]})]}),a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"8px",fontWeight:500,display:"flex",alignItems:"center",gap:"4px"},children:["",a.jsx(Ae,{title:" Axure ",children:a.jsx(It,{style:{color:"#999",cursor:"help"}})})]}),a.jsx(_t.Group,{value:t.contentType,onChange:M=>i(K=>({...K,contentType:M.target.value})),children:a.jsxs(pt,{direction:"vertical",children:[a.jsxs(_t,{value:"title",children:[y,""]}),a.jsxs(_t,{value:"screenshot",children:[y,""]})]})})]}),a.jsxs("div",{children:[a.jsxs("div",{style:{marginBottom:"8px",fontWeight:500,display:"flex",alignItems:"center",gap:"4px"},children:["",a.jsx(Ae,{title:" Axure",children:a.jsx(It,{style:{color:"#999",cursor:"help"}})})]}),a.jsx(_e,{value:t.includeConfig,onChange:M=>i(K=>({...K,includeConfig:M})),style:{width:"100%"},options:[{label:"",value:"none"},{label:"",value:"code"},{label:" + ",value:"codeAndDocs"},{label:" +  + ",value:"codeAndDocsAndSource"}]})]})]})]})},{key:"copyConfig",label:"",children:a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",height:"400px"},children:[a.jsx(Kt,{message:" html  Axure Cloud ",type:"info",showIcon:!0}),a.jsxs("div",{children:[a.jsx("div",{style:{marginBottom:"8px",fontWeight:500},children:""}),a.jsx(_e,{value:R||void 0,onChange:A,placeholder:"",style:{width:"100%"},options:[{label:"",value:"",disabled:!0},{label:"",value:"code"},{label:" + ",value:"codeAndDocs"},{label:" +  + ",value:"codeAndDocsAndSource"}]})]}),R&&a.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column"},children:[a.jsx("div",{style:{marginBottom:"8px",fontWeight:500},children:""}),V?a.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #d9d9d9",borderRadius:"6px"},children:a.jsx(ct,{tip:"..."})}):a.jsx(Qa,{value:I,readOnly:!0,onFocus:B,style:{flex:1,fontFamily:"monospace",fontSize:"12px"},placeholder:""})]})]})}]})}),a.jsx(Mt,{title:"",open:b,onCancel:()=>m(!1),width:600,footer:[a.jsx(le,{onClick:()=>m(!1),children:""},"cancel"),a.jsx(le,{type:"primary",icon:a.jsx(ti,{}),onClick:U,children:" AI "},"copy")],children:g&&a.jsxs("div",{style:{maxHeight:"500px",overflowY:"auto"},children:[a.jsx(Kt,{description:"",type:"error",showIcon:!0,style:{marginBottom:"24px"}}),g.issues.filter(M=>M.type==="error").length>0&&a.jsxs("div",{style:{marginBottom:"24px"},children:[a.jsx(Pn,{orientation:"left",style:{margin:"0 0 16px 0",fontSize:"14px"},children:a.jsx(Je,{type:"danger",children:" ()"})}),a.jsx(Ke,{size:"small",dataSource:g.issues.filter(M=>M.type==="error"),renderItem:M=>a.jsx(Ke.Item,{style:{padding:"12px 0",borderBottom:"1px solid #f0f0f0"},children:a.jsxs("div",{style:{width:"100%"},children:[a.jsxs("div",{style:{marginBottom:"4px"},children:[a.jsxs(Je,{strong:!0,children:["[",M.rule,"]"]})," ",a.jsx(Je,{children:M.message})]}),M.suggestion&&a.jsxs("div",{style:{fontSize:"13px",color:"#8c8c8c",background:"#fafafa",padding:"8px",borderRadius:"4px"},children:[": ",M.suggestion]})]})})})]}),g.issues.filter(M=>M.type==="warning").length>0&&a.jsxs("div",{children:[a.jsx(Pn,{orientation:"left",style:{margin:"0 0 16px 0",fontSize:"14px"},children:a.jsx(Je,{type:"warning",children:" ()"})}),a.jsx(Ke,{size:"small",dataSource:g.issues.filter(M=>M.type==="warning"),renderItem:M=>a.jsx(Ke.Item,{style:{padding:"12px 0",borderBottom:"1px solid #f0f0f0"},children:a.jsxs("div",{style:{width:"100%"},children:[a.jsxs("div",{style:{marginBottom:"4px"},children:[a.jsxs(Je,{strong:!0,children:["[",M.rule,"]"]})," ",a.jsx(Je,{children:M.message})]}),M.suggestion&&a.jsxs("div",{style:{fontSize:"13px",color:"#8c8c8c",background:"#fafafa",padding:"8px",borderRadius:"4px"},children:[": ",M.suggestion]})]})})})]})]})})]})},{Sider:Za}=ht,{useToken:es}=fn;function ts({collapsed:e,loading:n,activeTab:t,handleTabChange:i,data:o,searchText:r,setSearchText:c,filteredItems:l,selectedItem:s,handleMenuClick:u,handleDownloadItemSource:h,handleRenameItem:f,handleSetReference:y,handleUnsetReference:g,handleDeleteItem:w,setCreateDialogVisible:b}){const{token:m}=es(),E=d.useMemo(()=>l.map(x=>{const p=s&&s.name===x.name,C=[{key:"download-source",label:"",icon:a.jsx(Ot,{})},{key:"rename",label:"",icon:a.jsx(Xn,{})},{type:"divider"},...x.isReference?[{key:"unset-reference",label:"",icon:a.jsx(an,{})}]:[{key:"set-reference",label:"",icon:a.jsx(an,{})}],{key:"delete",label:`${t==="elements"?"":""}`,icon:a.jsx(no,{}),danger:!0,disabled:x.isReference}];return{key:x.name,label:a.jsxs("div",{className:`menu-item-wrapper ${p?"is-selected":""}`,style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",gap:6,overflow:"hidden",flex:1},children:a.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.displayName})}),a.jsx(Vt,{trigger:["click"],menu:{items:C,onClick:({key:z})=>{z==="download-source"?h(x):z==="rename"?f(x):z==="set-reference"?y(x):z==="unset-reference"?g(x):z==="delete"&&w(x)}},children:a.jsx(le,{type:"text",size:"small",className:"more-btn",icon:a.jsx(io,{}),onClick:z=>{z.stopPropagation()}})})]}),icon:t==="elements"?a.jsx(Ln,{}):a.jsx(kt,{})}}),[l,t,s,h,f,y,g,w]);return a.jsx(Za,{trigger:null,collapsible:!0,collapsed:e,width:240,collapsedWidth:0,style:{background:m.colorBgContainer,borderRight:`1px solid ${m.colorBorder}`,overflow:"hidden",height:"calc(100vh - 48px)",position:"sticky",top:48},children:a.jsxs("div",{style:{height:"100%",position:"relative"},children:[a.jsxs("div",{style:{height:"100%",overflowY:"auto"},children:[a.jsx("div",{style:{padding:"8px"},children:!e&&a.jsxs(a.Fragment,{children:[a.jsx(ei,{activeKey:t,size:"small",centered:!0,onChange:x=>i(x),items:[{key:"pages",label:` (${o.pages.length})`,icon:a.jsx(kt,{})},{key:"elements",label:` (${o.elements.length})`,icon:a.jsx(Ln,{})}]}),a.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:a.jsx(dt,{placeholder:"...",prefix:a.jsx(oo,{}),value:r,onChange:x=>c(x.target.value),allowClear:!0,style:{flex:1}})})]})}),n?a.jsx("div",{style:{textAlign:"center",padding:"40px 0"},children:a.jsx(ct,{tip:"..."})}):a.jsxs(a.Fragment,{children:[a.jsx(ro,{mode:"inline",selectedKeys:s?[s.name]:[],items:E,onClick:u,style:{borderRight:0}}),a.jsx("div",{style:{height:80}})]})]}),!e&&a.jsx(ao,{icon:a.jsx(so,{}),type:"primary",style:{position:"absolute",left:24,bottom:24},onClick:()=>b(!0),tooltip:t==="elements"?"":""})]})})}const{Text:ns,Paragraph:is}=mn,os=[{name:"Axhub",description:" Axure  AI ",type:"Streamable HTTP",url:"http://127.0.0.1:12308/mcp"},{name:"DeepWiki",description:"AI  GitHub ",type:"SSE",url:"https://mcp.deepwiki.com/sse"},{name:"Chrome DevTools",description:" AI  Chrome ",type:"Command",command:"npx -y chrome-devtools-mcp@latest"},{name:"Playwright",description:" Playwright ",type:"Command",command:"npx @playwright/mcp@latest"},{name:" MCP",description:" MCP ",type:"Info",url:""}],rs=[{label:"Trae ()",value:"trae"},{label:"Trae ()",value:"trae-global"},{label:"Claude Desktop",value:"claude"},{label:"Cursor",value:"cursor"},{label:"Windsurf",value:"windsurf"},{label:"VS Code (Cline)",value:"cline"},{label:"VS Code (Roo-Cline)",value:"roo-cline"},{label:"Witsy",value:"witsy"},{label:"Enconvo",value:"enconvo"}],as=({open:e,onClose:n})=>{const[t,i]=d.useState("trae-global"),[o,r]=d.useState(!1),[c,l]=gn.useMessage(),s=async()=>{if(!t){c.warning("");return}r(!0);try{const u=await fetch("/api/install-mcp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client:t,override:!0})}),h=await u.json();if(u.ok&&h.success)c.success({content:"",duration:5});else throw new Error(h.error||"")}catch(u){console.error("MCP Install Error:",u),c.error(`: ${u.message}`)}finally{r(!1)}};return a.jsxs(Mt,{title:a.jsxs(pt,{children:[a.jsx(Ci,{}),a.jsx("span",{children:"MCP "})]}),open:e,onCancel:n,footer:[a.jsx(le,{onClick:n,children:""},"close"),a.jsx(le,{type:"primary",icon:a.jsx(Ea,{}),loading:o,onClick:s,children:""},"install")],width:720,children:[l,a.jsxs("div",{style:{marginBottom:16,marginTop:16},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[a.jsx("span",{children:""}),a.jsx(_e,{style:{width:240},placeholder:" AI ",options:rs,value:t,onChange:i})]}),a.jsx(ns,{type:"secondary",style:{fontSize:"12px"},children:""})]}),a.jsx(Ke,{grid:{gutter:16,column:2},dataSource:os,renderItem:u=>a.jsx(Ke.Item,{children:a.jsx(lo,{size:"small",title:a.jsx(pt,{size:4,children:u.name}),style:{height:"100%"},bodyStyle:{padding:"12px"},children:a.jsx(is,{type:"secondary",style:{fontSize:"13px",marginBottom:0,height:"40px",lineHeight:"20px"},ellipsis:{rows:2},children:u.description})})}),style:{marginBottom:0}})]})},{Header:ss}=ht,{useToken:ls}=fn,cs=e=>a.jsx("span",{role:"img","aria-label":"figma",className:"anticon anticon-figma",...e,children:a.jsxs("svg",{fill:"currentColor",fillRule:"evenodd",height:"1em",width:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",style:{verticalAlign:"middle"},children:[a.jsx("title",{children:"Figma"}),a.jsx("path",{clipRule:"evenodd",d:"M6.082 8.241C4.83 7.441 4 6.057 4 4.483 4 2.007 6.05 0 8.578 0h7.844C18.95 0 21 2.007 21 4.483c0 1.574-.829 2.959-2.082 3.758C20.17 9.041 21 10.426 21 12c0 2.476-2.05 4.483-4.578 4.483h-.084A4.615 4.615 0 0113.24 15.3v4.176C13.24 21.98 11.145 24 8.599 24 6.076 24 4 21.998 4 19.517c0-1.574.829-2.959 2.082-3.758C4.829 14.959 4 13.574 4 12c0-1.574.829-2.959 2.082-3.759zM13.24 12c0 1.676 1.387 3.034 3.098 3.034h.084c1.711 0 3.099-1.358 3.099-3.034 0-1.676-1.388-3.034-3.1-3.034h-.083c-1.71 0-3.098 1.358-3.098 3.034zm-1.48-3.034H8.578C6.867 8.966 5.48 10.324 5.48 12c0 1.672 1.382 3.029 3.089 3.034H11.76V8.966zm-3.182 7.517h-.01c-1.707.005-3.089 1.362-3.089 3.034 0 1.67 1.403 3.034 3.12 3.034 1.74 0 3.161-1.381 3.161-3.075v-2.993H8.578zm3.182-8.966H8.578c-1.711 0-3.099-1.358-3.099-3.034 0-1.676 1.388-3.034 3.1-3.034h3.181v6.068zm4.662 0H13.24V1.45h3.182c1.711 0 3.099 1.358 3.099 3.034 0 1.676-1.388 3.034-3.1 3.034z"})]})});function ds({collapsed:e,setCollapsed:n,selectedItem:t,viewMode:i,setViewMode:o,activeTab:r,selectedDeviceId:c,setSelectedDeviceId:l,deviceSegmentOptions:s,handleOpenInspect:u,handleRefreshElement:h,handleCopyLocalLink:f,handleDownloadZip:y,getLocalUrl:g,qrCodeVisible:w,setQrCodeVisible:b,wsClients:m,checkConnection:E,handlePushToFigma:x,handleDownloadFigmaJson:p,setIsExportModalOpen:C,handleOpenIdeFile:z,isDarkMode:O,setIsDarkMode:I,currentSpecDocKey:j="spec"}){const[R,A]=_.useState(null),[V,G]=_.useState(!1),{token:$}=ls();return _.useEffect(()=>{let k=!1;return fetch("/api/version").then(L=>L.ok?L.json():Promise.reject(new Error("Request failed"))).then(L=>{if(k)return;const B=typeof(L==null?void 0:L.version)=="string"?L.version:null;A(B)}).catch(()=>{k||A(null)}),()=>{k=!0}},[]),a.jsxs(ss,{hasSider:!0,style:{height:"48px",display:"flex",alignItems:"center",justifyContent:"space-between",background:$.colorBgContainer,padding:"0 16px",position:"sticky",top:0,zIndex:1e3,boxShadow:`0 2px 8px ${$.colorBorderSecondary}`},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",width:224},children:[a.jsx(le,{type:"text",icon:e?a.jsx(co,{}):a.jsx(ho,{}),onClick:()=>n(!e),style:{fontSize:"16px",height:40}}),a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:a.jsxs("span",{style:{fontSize:"18px",fontWeight:600,color:$.colorText},children:["Axhub ",a.jsx("span",{style:{color:"#008F5D"},children:"Make"})]})})]}),a.jsx("div",{style:{flex:1,display:"flex",alignItems:"center"},children:a.jsx(jn,{value:i,size:"small",style:{fontSize:"12px"},onChange:k=>o(k),options:[{label:"",value:"demo",icon:a.jsx(Aa,{})},{label:"",value:"spec",icon:a.jsx(an,{})}]})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(Ae,{title:O?"":"",children:a.jsx(le,{type:"text",icon:O?a.jsx(uo,{}):a.jsx(po,{}),onClick:()=>I(!O)})}),a.jsx(Vt,{menu:{items:[{key:"assets",label:"",icon:a.jsx(kt,{}),onClick:()=>window.open(new URL("/assets.html",window.location.origin).toString(),"_blank")},{key:"mcp",label:"MCP ",icon:a.jsx(Ci,{}),onClick:()=>G(!0)},{key:"help",label:"",icon:a.jsx(mo,{}),onClick:()=>window.open("https://axhub-work.feishu.cn/wiki/space/7585489740036606927","_blank")},{key:"training",label:"",icon:a.jsx(go,{}),onClick:()=>window.open("https://axhub-work.feishu.cn/wiki/CF1iwm7D3iwFsZkOecGc7ktQnug","_blank")},{key:"plugin",label:"",icon:a.jsx(xa,{}),extra:a.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[a.jsx(Rn,{status:m.some(k=>k.type==="vscode"||k.type==="cursor")?"success":"default"}),a.jsx("span",{style:{marginLeft:4,fontSize:12,color:m.some(k=>k.type==="vscode"||k.type==="cursor")?"#52c41a":$.colorTextSecondary},children:m.some(k=>k.type==="vscode"||k.type==="cursor")?"":""})]}),onClick:()=>window.open("https://static.axhub.im/chrome/axhub.vsix","_blank")},{key:"site",label:"Axhub ",icon:a.jsx(vo,{}),onClick:()=>window.open("https://axhub.im/","_blank")},{type:"divider"},{key:"version",label:"",icon:a.jsx(It,{}),extra:a.jsx("span",{style:{fontSize:12,color:$.colorTextSecondary},children:R?`v${R}`:"-"})}]},placement:"bottomRight",children:a.jsx(le,{type:"text",icon:a.jsx(fo,{})})})]}),(t||i==="spec")&&a.jsx("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center"},children:a.jsx(pt,{size:"small",children:i==="spec"?a.jsx(a.Fragment,{children:a.jsx(Ae,{title:` ${j==="prd"?"PRD":"SPEC"} `,children:a.jsx(le,{type:"text",size:"small",icon:a.jsx(zn,{}),onClick:z})})}):t&&a.jsxs(a.Fragment,{children:[r==="pages"&&a.jsx(jn,{value:c,size:"small",shape:"round",onChange:k=>l(k),options:s}),a.jsx(Ae,{title:"",children:a.jsx(le,{type:"text",size:"small",icon:a.jsx(zn,{}),onClick:z})}),a.jsx(Ae,{title:"Inspecta ",children:a.jsx(le,{type:"text",size:"small",icon:a.jsx(Xn,{}),onClick:u})}),a.jsx(Ae,{title:"",children:a.jsx(le,{type:"text",size:"small",icon:a.jsx(yo,{}),onClick:h})}),a.jsx(wo,{content:a.jsxs("div",{style:{width:160},children:[a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[a.jsx(le,{type:"text",icon:a.jsx(ti,{}),onClick:f,style:{justifyContent:"flex-start",padding:"4px 8px",height:32},block:!0,children:""}),a.jsx(le,{type:"text",icon:a.jsx(Ot,{}),onClick:y,style:{justifyContent:"flex-start",padding:"4px 8px",height:32},block:!0,children:""}),a.jsx(le,{type:"text",icon:a.jsx(Bn,{}),disabled:!0,style:{justifyContent:"flex-start",padding:"4px 8px",height:32},block:!0,children:""})]}),a.jsx("div",{style:{height:1,background:$.colorBorder,margin:"8px 0"}}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"8px 0px 4px"},children:[a.jsx(ra,{value:g(),size:128,bordered:!1,style:{marginBottom:8}}),a.jsx(mn.Text,{type:"secondary",style:{fontSize:12,textAlign:"center"},children:" WiFi "})]})]}),trigger:"click",placement:"bottomRight",open:w,onOpenChange:b,arrow:!1,children:a.jsx(Ae,{title:"",children:a.jsx(le,{type:"text",size:"small",icon:a.jsx(Fa,{})})})}),a.jsx(Vt,{trigger:["click"],placement:"bottomCenter",onOpenChange:k=>{k&&E()},menu:{items:[{key:"push",label:"",extra:a.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[a.jsx(Rn,{status:m.some(k=>k.type==="figma")?"success":"default"}),a.jsx("span",{style:{marginLeft:4},children:m.some(k=>k.type==="figma")?"":""})]}),icon:a.jsx(Bn,{}),disabled:!m.some(k=>k.type==="figma")},{type:"divider"},{key:"download-json",label:" JSON",icon:a.jsx(Ot,{})},{key:"download-axure",label:" JSON",extra:" Axure",icon:a.jsx(kt,{})}],onClick:({key:k})=>{k==="push"?x():k==="download-json"?p(!0):k==="download-axure"&&p(!1)}},children:a.jsx(Ae,{trigger:["click","hover"],title:" Figma",children:a.jsx(le,{type:"text",size:"small",icon:a.jsx(cs,{})})})}),a.jsx(le,{type:"primary",size:"small",style:{fontSize:"12px"},icon:a.jsx(Ot,{}),onClick:()=>{C(!0)},children:" Axure"})]})})}),a.jsx(as,{open:V,onClose:()=>G(!1)})]})}var ue=function(){return ue=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ue.apply(this,arguments)},Un={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Vn={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},$t={width:"20px",height:"20px",position:"absolute",zIndex:1},hs={top:ue(ue({},Un),{top:"-5px"}),right:ue(ue({},Vn),{left:void 0,right:"-5px"}),bottom:ue(ue({},Un),{top:void 0,bottom:"-5px"}),left:ue(ue({},Vn),{left:"-5px"}),topRight:ue(ue({},$t),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:ue(ue({},$t),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:ue(ue({},$t),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:ue(ue({},$t),{left:"-10px",top:"-10px",cursor:"nw-resize"})},us=d.memo(function(e){var n=e.onResizeStart,t=e.direction,i=e.children,o=e.replaceStyles,r=e.className,c=d.useCallback(function(u){n(u,t)},[n,t]),l=d.useCallback(function(u){n(u,t)},[n,t]),s=d.useMemo(function(){return ue(ue({position:"absolute",userSelect:"none"},hs[t]),o??{})},[o,t]);return a.jsx("div",{className:r||void 0,style:s,onMouseDown:c,onTouchStart:l,children:i})}),ps=function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Pe=function(){return Pe=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Pe.apply(this,arguments)},fs={width:"auto",height:"auto"},Et=function(e,n,t){return Math.max(Math.min(e,t),n)},Gn=function(e,n,t){var i=Math.round(e/n);return i*n+t*(i-1)},Ze=function(e,n){return new RegExp(e,"i").test(n)},jt=function(e){return!!(e.touches&&e.touches.length)},ms=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},qn=function(e,n,t){t===void 0&&(t=0);var i=n.reduce(function(r,c,l){return Math.abs(c-e)<Math.abs(n[r]-e)?l:r},0),o=Math.abs(n[i]-e);return t===0||o<t?n[i]:e},Ft=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:"".concat(e,"px")},Rt=function(e,n,t,i){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var o=Number(e.replace("%",""))/100;return n*o}if(e.endsWith("vw")){var o=Number(e.replace("vw",""))/100;return t*o}if(e.endsWith("vh")){var o=Number(e.replace("vh",""))/100;return i*o}}return e},gs=function(e,n,t,i,o,r,c){return i=Rt(i,e.width,n,t),o=Rt(o,e.height,n,t),r=Rt(r,e.width,n,t),c=Rt(c,e.height,n,t),{maxWidth:typeof i>"u"?void 0:Number(i),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof r>"u"?void 0:Number(r),minHeight:typeof c>"u"?void 0:Number(c)}},vs=function(e){return Array.isArray(e)?e:[e,e]},ys=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Kn="__resizable_base__",ws=function(e){ps(n,e);function n(t){var i,o,r,c,l=e.call(this,t)||this;return l.ratio=1,l.resizable=null,l.parentLeft=0,l.parentTop=0,l.resizableLeft=0,l.resizableRight=0,l.resizableTop=0,l.resizableBottom=0,l.targetLeft=0,l.targetTop=0,l.delta={width:0,height:0},l.appendBase=function(){if(!l.resizable||!l.window)return null;var s=l.parentNode;if(!s)return null;var u=l.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(Kn):u.className+=Kn,s.appendChild(u),u},l.removeBase=function(s){var u=l.parentNode;u&&u.removeChild(s)},l.state={isResizing:!1,width:(o=(i=l.propsSize)===null||i===void 0?void 0:i.width)!==null&&o!==void 0?o:"auto",height:(c=(r=l.propsSize)===null||r===void 0?void 0:r.height)!==null&&c!==void 0?c:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},l.onResizeStart=l.onResizeStart.bind(l),l.onMouseMove=l.onMouseMove.bind(l),l.onMouseUp=l.onMouseUp.bind(l),l}return Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||fs},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"size",{get:function(){var t=0,i=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,r=this.resizable.offsetHeight,c=this.resizable.style.position;c!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,i=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:r,this.resizable.style.position=c}return{width:t,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"sizeStyle",{get:function(){var t=this,i=this.props.size,o=function(l){var s;if(typeof t.state[l]>"u"||t.state[l]==="auto")return"auto";if(t.propsSize&&t.propsSize[l]&&(!((s=t.propsSize[l])===null||s===void 0)&&s.toString().endsWith("%"))){if(t.state[l].toString().endsWith("%"))return t.state[l].toString();var u=t.getParentSize(),h=Number(t.state[l].toString().replace("px","")),f=h/u[l]*100;return"".concat(f,"%")}return Ft(t.state[l])},r=i&&typeof i.width<"u"&&!this.state.isResizing?Ft(i.width):o("width"),c=i&&typeof i.height<"u"&&!this.state.isResizing?Ft(i.height):o("height");return{width:r,height:c}},enumerable:!1,configurable:!0}),n.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var i=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(i=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var r={width:t.offsetWidth,height:t.offsetHeight};return i&&(this.parentNode.style.flexWrap=o),this.removeBase(t),r},n.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},n.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},n.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},n.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},n.prototype.createSizeForCssProperty=function(t,i){var o=this.propsSize&&this.propsSize[i];return this.state[i]==="auto"&&this.state.original[i]===t&&(typeof o>"u"||o==="auto")?"auto":t},n.prototype.calculateNewMaxFromBoundary=function(t,i){var o=this.props.boundsByDirection,r=this.state.direction,c=o&&Ze("left",r),l=o&&Ze("top",r),s,u;if(this.props.bounds==="parent"){var h=this.parentNode;h&&(s=c?this.resizableRight-this.parentLeft:h.offsetWidth+(this.parentLeft-this.resizableLeft),u=l?this.resizableBottom-this.parentTop:h.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(s=c?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=l?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(s=c?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=l?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return s&&Number.isFinite(s)&&(t=t&&t<s?t:s),u&&Number.isFinite(u)&&(i=i&&i<u?i:u),{maxWidth:t,maxHeight:i}},n.prototype.calculateNewSizeFromDirection=function(t,i){var o=this.props.scale||1,r=vs(this.props.resizeRatio||1),c=r[0],l=r[1],s=this.state,u=s.direction,h=s.original,f=this.props,y=f.lockAspectRatio,g=f.lockAspectRatioExtraHeight,w=f.lockAspectRatioExtraWidth,b=h.width,m=h.height,E=g||0,x=w||0;return Ze("right",u)&&(b=h.width+(t-h.x)*c/o,y&&(m=(b-x)/this.ratio+E)),Ze("left",u)&&(b=h.width-(t-h.x)*c/o,y&&(m=(b-x)/this.ratio+E)),Ze("bottom",u)&&(m=h.height+(i-h.y)*l/o,y&&(b=(m-E)*this.ratio+x)),Ze("top",u)&&(m=h.height-(i-h.y)*l/o,y&&(b=(m-E)*this.ratio+x)),{newWidth:b,newHeight:m}},n.prototype.calculateNewSizeFromAspectRatio=function(t,i,o,r){var c=this.props,l=c.lockAspectRatio,s=c.lockAspectRatioExtraHeight,u=c.lockAspectRatioExtraWidth,h=typeof r.width>"u"?10:r.width,f=typeof o.width>"u"||o.width<0?t:o.width,y=typeof r.height>"u"?10:r.height,g=typeof o.height>"u"||o.height<0?i:o.height,w=s||0,b=u||0;if(l){var m=(y-w)*this.ratio+b,E=(g-w)*this.ratio+b,x=(h-b)/this.ratio+w,p=(f-b)/this.ratio+w,C=Math.max(h,m),z=Math.min(f,E),O=Math.max(y,x),I=Math.min(g,p);t=Et(t,C,z),i=Et(i,O,I)}else t=Et(t,h,f),i=Et(i,y,g);return{newWidth:t,newHeight:i}},n.prototype.setBoundingClientRect=function(){var t=1/(this.props.scale||1);if(this.props.bounds==="parent"){var i=this.parentNode;if(i){var o=i.getBoundingClientRect();this.parentLeft=o.left*t,this.parentTop=o.top*t}}if(this.props.bounds&&typeof this.props.bounds!="string"){var r=this.props.bounds.getBoundingClientRect();this.targetLeft=r.left*t,this.targetTop=r.top*t}if(this.resizable){var c=this.resizable.getBoundingClientRect(),l=c.left,s=c.top,u=c.right,h=c.bottom;this.resizableLeft=l*t,this.resizableRight=u*t,this.resizableTop=s*t,this.resizableBottom=h*t}},n.prototype.onResizeStart=function(t,i){if(!(!this.resizable||!this.window)){var o=0,r=0;if(t.nativeEvent&&ms(t.nativeEvent)?(o=t.nativeEvent.clientX,r=t.nativeEvent.clientY):t.nativeEvent&&jt(t.nativeEvent)&&(o=t.nativeEvent.touches[0].clientX,r=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var c=this.props.onResizeStart(t,i,this.resizable);if(c===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var l,s=this.window.getComputedStyle(this.resizable);if(s.flexBasis!=="auto"){var u=this.parentNode;if(u){var h=this.window.getComputedStyle(u).flexDirection;this.flexDir=h.startsWith("row")?"row":"column",l=s.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var f={original:{x:o,y:r,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Pe(Pe({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:i,flexBasis:l};this.setState(f)}},n.prototype.onMouseMove=function(t){var i=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&jt(t))try{t.preventDefault(),t.stopPropagation()}catch{}var o=this.props,r=o.maxWidth,c=o.maxHeight,l=o.minWidth,s=o.minHeight,u=jt(t)?t.touches[0].clientX:t.clientX,h=jt(t)?t.touches[0].clientY:t.clientY,f=this.state,y=f.direction,g=f.original,w=f.width,b=f.height,m=this.getParentSize(),E=gs(m,this.window.innerWidth,this.window.innerHeight,r,c,l,s);r=E.maxWidth,c=E.maxHeight,l=E.minWidth,s=E.minHeight;var x=this.calculateNewSizeFromDirection(u,h),p=x.newHeight,C=x.newWidth,z=this.calculateNewMaxFromBoundary(r,c);this.props.snap&&this.props.snap.x&&(C=qn(C,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(p=qn(p,this.props.snap.y,this.props.snapGap));var O=this.calculateNewSizeFromAspectRatio(C,p,{width:z.maxWidth,height:z.maxHeight},{width:l,height:s});if(C=O.newWidth,p=O.newHeight,this.props.grid){var I=Gn(C,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),j=Gn(p,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),R=this.props.snapGap||0,A=R===0||Math.abs(I-C)<=R?I:C,V=R===0||Math.abs(j-p)<=R?j:p;C=A,p=V}var G={width:C-g.width,height:p-g.height};if(this.delta=G,w&&typeof w=="string"){if(w.endsWith("%")){var $=C/m.width*100;C="".concat($,"%")}else if(w.endsWith("vw")){var k=C/this.window.innerWidth*100;C="".concat(k,"vw")}else if(w.endsWith("vh")){var L=C/this.window.innerHeight*100;C="".concat(L,"vh")}}if(b&&typeof b=="string"){if(b.endsWith("%")){var $=p/m.height*100;p="".concat($,"%")}else if(b.endsWith("vw")){var k=p/this.window.innerWidth*100;p="".concat(k,"vw")}else if(b.endsWith("vh")){var L=p/this.window.innerHeight*100;p="".concat(L,"vh")}}var B={width:this.createSizeForCssProperty(C,"width"),height:this.createSizeForCssProperty(p,"height")};this.flexDir==="row"?B.flexBasis=B.width:this.flexDir==="column"&&(B.flexBasis=B.height);var U=this.state.width!==B.width,M=this.state.height!==B.height,K=this.state.flexBasis!==B.flexBasis,oe=U||M||K;oe&&Po.flushSync(function(){i.setState(B)}),this.props.onResize&&oe&&this.props.onResize(t,y,this.resizable,G)}},n.prototype.onMouseUp=function(t){var i,o,r=this.state,c=r.isResizing,l=r.direction;r.original,!(!c||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(t,l,this.resizable,this.delta),this.props.size&&this.setState({width:(i=this.props.size.width)!==null&&i!==void 0?i:"auto",height:(o=this.props.size.height)!==null&&o!==void 0?o:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Pe(Pe({},this.state.backgroundStyle),{cursor:"auto"})}))},n.prototype.updateSize=function(t){var i,o;this.setState({width:(i=t.width)!==null&&i!==void 0?i:"auto",height:(o=t.height)!==null&&o!==void 0?o:"auto"})},n.prototype.renderResizer=function(){var t=this,i=this.props,o=i.enable,r=i.handleStyles,c=i.handleClasses,l=i.handleWrapperStyle,s=i.handleWrapperClass,u=i.handleComponent;if(!o)return null;var h=Object.keys(o).map(function(f){return o[f]!==!1?a.jsx(us,{direction:f,onResizeStart:t.onResizeStart,replaceStyles:r&&r[f],className:c&&c[f],children:u&&u[f]?u[f]:null},f):null});return a.jsx("div",{className:s,style:l,children:h})},n.prototype.render=function(){var t=this,i=Object.keys(this.props).reduce(function(c,l){return ys.indexOf(l)!==-1||(c[l]=t.props[l]),c},{}),o=Pe(Pe(Pe({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var r=this.props.as||"div";return a.jsxs(r,Pe({style:o,className:this.props.className},i,{ref:function(c){c&&(t.resizable=c)},children:[this.state.isResizing&&a.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},n.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},n}(d.PureComponent);const xs=({width:e,height:n,children:t,scale:i=1})=>a.jsx("div",{style:{position:"relative",padding:"12px",background:"#1f1f1f",borderRadius:"40px",boxShadow:"0 20px 40px rgba(0,0,0,0.2)",border:"4px solid #333",display:"flex",flexDirection:"column",transform:`scale(${i})`,transformOrigin:"center center"},children:a.jsx("div",{style:{width:e,height:n,background:"#fff",borderRadius:"32px",overflow:"hidden",position:"relative"},children:t})}),{Content:bs}=ht,{useToken:Ss}=fn;function Cs({containerRef:e,selectedItem:n,activeTab:t,currentDevice:i,displaySize:o,scale:r,elementIframeKey:c,iframeUrl:l,elementIframeSize:s,setElementIframeSize:u,viewMode:h}){const{token:f}=Ss();return a.jsx(bs,{ref:e,style:{background:f.colorBgLayout,position:"relative",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:n?h==="spec"?a.jsx("iframe",{src:l,style:{width:"100%",height:"100%",border:"none",display:"block"},title:n.displayName},c):t==="pages"&&i.id!=="desktop"?a.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(xs,{width:o.width,height:o.height,scale:r,children:a.jsx("iframe",{src:l,style:{width:"100%",height:"100%",border:"none"},title:n.displayName},c)})}):t==="elements"?a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:a.jsx("div",{style:{position:"relative",display:"inline-block"},children:a.jsx(ws,{size:s,onResize:(y,g,w)=>{if(w){const b=w.getBoundingClientRect();u({width:b.width,height:b.height})}},minWidth:50,minHeight:50,bounds:"window",enable:{top:!1,right:!0,bottom:!0,left:!1,topRight:!1,bottomRight:!0,bottomLeft:!1,topLeft:!1},handleStyles:{right:{width:"8px",right:"-4px",background:"transparent",borderRadius:"4px",transition:"all 0.2s"},bottom:{height:"8px",bottom:"-4px",background:"transparent",borderRadius:"4px",transition:"all 0.2s"},bottomRight:{width:"12px",height:"12px",right:"-6px",bottom:"-6px",background:"transparent",borderRadius:"0 0 6px 0",transition:"all 0.2s"}},handleClasses:{right:"resize-handle-right",bottom:"resize-handle-bottom",bottomRight:"resize-handle-bottomRight"},style:{border:`1px solid ${f.colorBorder}`,borderRadius:6,overflow:"hidden",background:f.colorBgContainer,boxShadow:f.boxShadow,transition:"box-shadow 0.2s"},className:"ant-card-hoverable",children:a.jsx("iframe",{src:l,style:{width:"100%",height:"100%",border:"none"},title:n.displayName},c)})})}):a.jsx("iframe",{src:l,style:{width:"100%",height:"100%",border:"none",display:"block"},title:n.displayName},c):a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:f.colorTextSecondary},children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx(Ha,{style:{fontSize:"64px",marginBottom:"16px"}}),a.jsxs("div",{style:{fontSize:"16px"},children:["",t==="elements"?"":""]})]})})})}function $s({visible:e,onClose:n,onOk:t,onSendPrompt:i,activeTab:o,createName:r,setCreateName:c,createReference:l,setCreateReference:s,createMode:u,setCreateMode:h,generateAxure:f,setGenerateAxure:y,referenceItems:g,selectedThemes:w,setSelectedThemes:b,availableThemes:m,selectedLibraries:E,setSelectedLibraries:x,availableLibraries:p,selectedDocs:C,setSelectedDocs:z,availableDocs:O,selectedDataAssets:I,setSelectedDataAssets:j,availableDataAssets:R}){const[A,V]=d.useState(!0),G=o==="elements";return d.useEffect(()=>{e&&V(!0)},[e]),a.jsx(ci,{placement:"left",destroyOnClose:!0,title:o==="elements"?"":"",open:e,onClose:n,width:480,footer:a.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[a.jsx(le,{onClick:i,disabled:!1,children:" Cursor"}),a.jsx(le,{type:"primary",onClick:t,disabled:!1,children:" Prompt"})]}),styles:{body:{padding:24,overflow:"auto"}},children:a.jsxs(Be,{requiredMark:!1,labelCol:{style:{width:"120px"}},wrapperCol:{style:{minWidth:0}},children:[a.jsx(Be.Item,{label:o==="elements"?"":"",children:a.jsx(dt,{placeholder:" AI ",value:r,onChange:$=>c($.target.value),maxLength:20,showCount:!0})}),g.length>0&&a.jsx(Be.Item,{label:"",tooltip:`${o==="elements"?"":""}`,children:a.jsx(_e,{style:{width:"100%"},placeholder:"",value:l||void 0,onChange:$=>s($||""),allowClear:!0,options:g.map($=>({value:$.name,label:$.displayName}))})}),a.jsx("div",{children:a.jsx(le,{type:"link",onClick:()=>V(!A),icon:A?a.jsx(Ma,{}):a.jsx(Ya,{}),style:{padding:0},children:A?"":""})}),!A&&a.jsxs(a.Fragment,{children:[m.length>0&&a.jsx(Be.Item,{label:"",tooltip:"AI ",children:a.jsx(_e,{mode:"multiple",style:{width:"100%"},placeholder:"",value:w,onChange:$=>b($),allowClear:!0,options:m.map($=>({value:$.name,label:$.displayName}))})}),R.length>0&&a.jsx(Be.Item,{label:"",tooltip:"AI ",children:a.jsx(_e,{mode:"multiple",style:{width:"100%"},placeholder:"",value:I,onChange:$=>j($),allowClear:!0,options:R.map($=>({value:$.name,label:$.displayName}))})}),p.length>0&&a.jsx(Be.Item,{label:"",tooltip:"AI ",children:a.jsx(_e,{mode:"multiple",style:{width:"100%"},placeholder:"",value:E,onChange:$=>x($),allowClear:!0,options:p.map($=>({value:$.name,label:$.displayName}))})}),O.length>0&&a.jsx(Be.Item,{label:"",tooltip:"AI ",children:a.jsx(_e,{mode:"multiple",style:{width:"100%"},placeholder:"",value:C,onChange:$=>z($),options:O.map($=>({value:$.name,label:$.displayName}))})}),a.jsx(Be.Item,{label:"",children:a.jsx(_e,{style:{width:"100%"},value:u,onChange:$=>h($),options:[{value:"simultaneous",label:""},{value:"specFirst",label:"  >  "},...G?[]:[{value:"fullProcess",label:"  >  >  "}]]})}),a.jsx(Be.Item,{label:"Axure ",tooltip:" Axure  Axure ",children:a.jsx(Si,{checked:f,onChange:$=>y($)})})]})]})})}const tt={simultaneous:{mode:"simultaneous",displayName:"",description:"",steps:[" spec.md  index.tsx"],templates:["all-in-spec-template.md"],requiresConfirmation:[!1]},specFirst:{mode:"specFirst",displayName:"",description:"",steps:[" spec.md"," index.tsx"],templates:["spec-template.md"],requiresConfirmation:[!0,!1]},fullProcess:{mode:"fullProcess",displayName:"",description:" PRD",steps:[" prd.md"," spec.md"," index.tsx"],templates:["prd-template.md","spec-template.md"],requiresConfirmation:[!0,!0,!1]}};function Es(e,n){const t=n==="elements"?"":"",i=n==="elements"?"elements":"pages",o=`src/${i}/${e.name}`,r=`src/${i}/ref-${e.name}`;return` \`${o}\` 

1.  \`${r}\`
2.  \`/rules/development-standards.md\`
3.  index.tsx 
\`\`\`typescript
/**
 * @name ${e.displayName}
 *  Axhub ${t}
 *  @name 
 */
\`\`\`
4.  \`// \` PropsStateuseImperativeHandleJSX
5. """"`}function js(e){return Object.prototype.hasOwnProperty.call(tt,e)}function Rs(e){const{hasName:n,displayName:t,itemType:i,hasReference:o,referenceDisplayName:r}=e,c=o&&r?`
${r}`:"";return n?`****
- /
- 

****
\`\`\`
 **${t}** ${i}${c}


\`\`\``:`****
- /
- 

****
\`\`\`
${i}${c}

${i}
\`\`\``}function zs(e){return e?`

**Axure API** 
-  Axure API 
- **  \`/rules/axure-api-guide.md\`**
-  Axure API `:`

**Axure API** 
-  React  Axure API`}function Ut(){return`   - index.tsx/spec.md/style.css
   - Design Tokens 
   - State 
   -  Component`}function Is(e){const{createMode:n,modeConfig:t,generateAxure:i}=e;return n==="simultaneous"?`

****${t.displayName}
- ${t.description}
- ${t.steps.join("  ")}
-  spec.md  index.tsx

** **
1. **\`/rules/development-standards.md\`**  
${Ut()}

2. **\`/assets/templates/all-in-spec-template.md\`** 
   - spec.md Axure API 
   -  spec.md ${i?`

3. **\`/rules/axure-api-guide.md\`**  Axure API 
   - Axure API 
   - Props 
   - Container `:""}`:n==="specFirst"?`

****${t.displayName}
- ${t.description}
- ${t.steps.join("  ")}
- **** spec.md
- **** spec.md index.tsx

** **
1. **\`/rules/development-standards.md\`**  
${Ut()}

2. **\`/rules/requirements-alignment.md\`**
   - 
   - 

3. **\`/assets/templates/spec-template.md\`**
   - spec.md Axure API 
   -  spec.md ${i?`

4. **\`/rules/axure-api-guide.md\`**  Axure API 
   - Axure API 
   - Props 
   - Container `:""}

****
-  spec.md "spec.md "
-  index.tsx`:n==="fullProcess"?`

****${t.displayName}
- ${t.description}
- ${t.steps.join("  ")}
- **** prd.md
- **** spec.md
- **** index.tsx

** **
1. **\`/rules/development-standards.md\`**  
${Ut()}

2. **\`/rules/requirements-alignment.md\`**
   - 
   - 

3. **\`/assets/templates/prd-template.md\`**
   - PRD 
   -  prd.md 

4. **\`/assets/templates/spec-template.md\`**
   - spec.md Axure API 
   -  spec.md 
   - "" prd.md

****
-  prd.md "prd.md  spec.md"
-  spec.md "spec.md "
- `:`

****${tt.simultaneous.displayName}
- ${tt.simultaneous.description}
- ${tt.simultaneous.steps.join("  ")}

** **
1. **\`/rules/development-standards.md\`**  
2. **\`/assets/templates/all-in-spec-template.md\`** ${i?"\n3. **`/rules/axure-api-guide.md`**  Axure API ":""}`}function Os(e){const{referencePath:n,referenceDisplayName:t}=e;return n?`

** ** 
- \`${n}\`
- ${t}
- ****
- `:""}function zt(e){const{title:n,selected:t,available:i,toLine:o}=e;return t.length===0?"":`

${n}${t.map(r=>{const c=i.find(l=>l.name===r);return`
${o(r,c)}`}).join("")}`}function ks(e,n,t,i,o,r=[],c=[],l=[],s=[],u=[],h=[],f=[],y=[],g=!0){t==="requirementFirst"&&(t="fullProcess");const w=n==="elements",b=w?"":"",m=w?"elements":"pages",E=e.trim().length>0,x=e.trim(),p=i?o.find(B=>B.name===i):null,C=p?`src/${m}/${p.name}`:null,z=js(t)?tt[t]:tt.simultaneous,O=E?`**** Axhub Make  ${b}**${x}**`:`**** Axhub Make ${b}`,I=E?`****
- displayName**${x}**
- name
- \`src/${m}/[]\``:`****
- displayName****
- name
- \`src/${m}/[]\`
- **${b}${b}**`,j=Rs({hasName:E,displayName:x,itemType:b,hasReference:!!p,referenceDisplayName:p==null?void 0:p.displayName}),R=zs(g),A=Is({createMode:t,modeConfig:z,generateAxure:g}),V=Os({referencePath:C,referenceDisplayName:p==null?void 0:p.displayName}),G=zt({title:"** ** /assets/docs/",selected:r,available:c,toLine:(B,U)=>`- **\`/assets/docs/${B}\`** - ${(U==null?void 0:U.displayName)||B}`}),$=zt({title:"** ** /src/themes/",selected:l,available:s,toLine:(B,U)=>`- **\`/src/themes/${B}/designToken.json\`** - ${(U==null?void 0:U.displayName)||B} Design Tokens`}),k=zt({title:"** ** /assets/libraries/",selected:u,available:h,toLine:(B,U)=>`- **\`/assets/libraries/${B}\`** - ${(U==null?void 0:U.displayName)||B}`}),L=zt({title:"** ** /assets/database/",selected:f,available:y,toLine:(B,U)=>`- **\`/assets/database/${B}\`** - ${(U==null?void 0:U.displayName)||B}`});return`${O}

 ****
${A}${V}${$}${L}${k}${G}${R}

${I}

${j}`}function Ms(e,n,t){const i=D=>D==="requirementFirst"?"fullProcess":D,[o,r]=d.useState(!1),[c,l]=d.useState(""),[s,u]=d.useState(()=>localStorage.getItem(Fn)||""),[h,f]=d.useState(()=>i(localStorage.getItem(_n)||"simultaneous")),[y,g]=d.useState(()=>localStorage.getItem(Wn)==="true"),[w,b]=d.useState([]),[m,E]=d.useState([]),[x,p]=d.useState([]),[C,z]=d.useState([]),[O,I]=d.useState([]),[j,R]=d.useState([]),[A,V]=d.useState([]),[G,$]=d.useState([]),[k,L]=d.useState(!1);d.useEffect(()=>{localStorage.setItem(_n,h)},[h]),d.useEffect(()=>{localStorage.setItem(Wn,String(y))},[y]),d.useEffect(()=>{localStorage.setItem(Fn,s)},[s]),d.useEffect(()=>{e==="elements"&&h==="fullProcess"&&f("simultaneous")},[e,h]);const B=d.useMemo(()=>(e==="elements"?n.elements:n.pages).filter(T=>T.isReference),[n,e]);d.useEffect(()=>{if(!k)return;(async()=>{try{const T=await fetch("/api/docs");if(T.ok){const Z=await T.json();R(Z);const ce=Z.find(ne=>ne.name===".UIGuidelines.md"||ne.name.startsWith(".UIGuidelines"));ce&&O.length===0&&I([ce.name])}}catch(T){console.error("Failed to load docs:",T)}})()},[k]),d.useEffect(()=>{if(!k)return;(async()=>{try{const T=await fetch("/api/themes");if(T.ok){const Z=await T.json();E(Z)}}catch(T){console.error("Failed to load themes:",T)}})()},[k]),d.useEffect(()=>{if(!k)return;(async()=>{try{const T=await fetch("/api/libraries");if(T.ok){const Z=await T.json();z(Z)}}catch(T){console.error("Failed to load libraries:",T)}})()},[k]),d.useEffect(()=>{if(!k)return;(async()=>{try{const T=await fetch("/api/data/tables");if(T.ok){const ce=(await T.json()).map(ne=>({name:`${ne.fileName}.json`,displayName:ne.tableName}));$(ce)}}catch(T){console.error("Failed to load data assets:",T)}})()},[k]),d.useEffect(()=>{o&&(s&&(B.some(T=>T.name===s)||u("")),L(!0))},[o,B,s]);const U=()=>{console.log("===  AI Prompt  ==="),console.log("createName:",c),console.log("createReference:",s),console.log("createMode:",h),console.log("activeTab:",e);const D=M();D&&(console.log(" Prompt ..."),console.log("Prompt :",D.length),navigator.clipboard.writeText(D).then(()=>{console.log(" "),r(!1),l(""),I([]),b([]),p([]),V([]),t.success(" IDE  AI"),L(!1),R([]),E([]),z([]),$([])}))},M=()=>ks(c,e,h,s,B,O,j,w,m,x,C,A,G,y);return{createDialogVisible:o,createName:c,createReference:s,createMode:h,generateAxure:y,referenceItems:B,selectedThemes:w,availableThemes:m,selectedLibraries:x,availableLibraries:C,selectedDocs:O,availableDocs:j,selectedDataAssets:A,availableDataAssets:G,setCreateDialogVisible:r,setCreateName:l,setCreateReference:u,setCreateMode:f,setGenerateAxure:g,setSelectedThemes:b,setSelectedLibraries:p,setSelectedDocs:I,setSelectedDataAssets:V,handleCreateSubmit:U,handleSendPrompt:async()=>{const D=M();if(!D)return;const T=t.loading(" Prompt...",0);try{const Z=async(ce,ne)=>{const re=await fetch("/api/ws/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:ce,payload:ne})});if(!re.ok){const he=await re.json().catch(()=>null);throw new Error((he==null?void 0:he.error)||"")}};await Z("handshake","test-client"),await Z("insert",D),t.success(" WebSocket "),L(!1),R([]),E([]),z([]),$([])}catch(Z){t.error((Z==null?void 0:Z.message)||"")}finally{T()}},handleCreateCancel:()=>{r(!1),l(""),I([]),b([]),p([]),V([]),L(!1),R([]),E([]),z([]),$([])}}}function Ns({isDarkMode:e,setIsDarkMode:n}){const[t,i]=d.useState(!0),[o,r]=d.useState({elements:[],pages:[]}),[c,l]=d.useState(!1),[s,u]=d.useState(()=>{const v=localStorage.getItem(Hn);return v==="elements"||v==="pages"?v:"elements"}),[h,f]=d.useState(null),[y,g]=d.useState("desktop"),[w,b]=d.useState(1),m=_.useRef(null),[E,x]=d.useState(""),[p,C]=gn.useMessage(),[z,O]=Mt.useModal(),[I,j]=d.useState({width:600,height:400}),[R,A]=d.useState(0),[V,G]=d.useState(!1),[$,k]=d.useState("demo"),[L,B]=d.useState("spec"),{createDialogVisible:U,createName:M,createReference:K,createMode:oe,generateAxure:D,referenceItems:T,selectedThemes:Z,availableThemes:ce,selectedLibraries:ne,availableLibraries:re,selectedDocs:he,availableDocs:ze,selectedDataAssets:ve,availableDataAssets:Ce,setCreateDialogVisible:X,setCreateName:Ie,setCreateReference:ye,setCreateMode:Ge,setGenerateAxure:rt,setSelectedThemes:Ye,setSelectedLibraries:we,setSelectedDocs:at,setSelectedDataAssets:qe,handleCreateSubmit:Te,handleSendPrompt:ae,handleCreateCancel:J}=Ms(s,o,p),de=()=>{const v=bn();navigator.clipboard.writeText(v).then(()=>{p.success("")}).catch(S=>{p.error(""),console.error(":",S)}),G(!1)},pe=()=>{window.open("/api/download-dist","_blank"),G(!1)},$e=async()=>{let v="",S="";const N=["vscode","cursor"];if(h){const P=h;if($==="spec"){const F=L==="prd"?"prd.md":"spec.md";v=`src/${s}/${h.name}/${F}`,S=`[${h.displayName} - ${F==="prd.md"?"PRD":"SPEC"}](${yn(h)}/${F})`}else{if(P.filePath){const F=P.filePath.indexOf("src/");F>=0?v=P.filePath.substring(F):v=P.filePath}else v=`src/${s}/${h.name}/index.tsx`;S=`[${h.displayName}](${yn(h)})`}}else{p.warning("");return}const W=p.loading(" IDE...",0);try{S&&await navigator.clipboard.writeText(S);const P=await un.sendWsMessage({type:"handshake",payload:"prototype-admin",targetClientTypes:N});if(!(P!=null&&P.sent)){p.warning("");return}const F=await un.sendWsMessage({type:"open-file",payload:v,targetClientTypes:N});if(!(F!=null&&F.sent)){p.warning("");return}p.success("")}catch(P){p.error((P==null?void 0:P.message)||"")}finally{W()}},st=d.useMemo(()=>[{value:"desktop",icon:a.jsx(Oa,{})},{value:"mobile",icon:a.jsx(xo,{})},{value:"tablet",icon:a.jsx(Ka,{})}],[]),[Qe,Pt]=d.useState(!1),[$i,At]=d.useState(!1),[H,Le]=d.useState({width:1920,height:1080,includeConfig:"code",contentType:"title",rawScreenshotUrl:"",screenshotWidth:0,screenshotHeight:0,previewUrl:""});d.useEffect(()=>{St()},[]),d.useEffect(()=>{const v=S=>{S.data&&S.data.type==="SCREENSHOT_CAPTURED"?Le(N=>({...N,rawScreenshotUrl:S.data.dataUrl,screenshotWidth:S.data.width,screenshotHeight:S.data.height})):S.data&&S.data.type==="spec-doc-changed"&&(console.log("Spec document changed:",S.data.activeDocKey),B(S.data.activeDocKey))};return window.addEventListener("message",v),()=>window.removeEventListener("message",v)},[]),d.useEffect(()=>{if(!h)return;if(H.contentType==="screenshot"&&!H.rawScreenshotUrl){Le(S=>({...S,previewUrl:""}));return}(async()=>{const S=s==="elements"?"":"",N=Dt(H.rawScreenshotUrl,H,h.displayName,S),W=new Blob([N],{type:"image/svg+xml;charset=utf-8"}),P=URL.createObjectURL(W);Le(F=>({...F,previewUrl:P}))})()},[H.rawScreenshotUrl,H.width,H.height,H.contentType,h,s]);const Dt=(v,S,N,W)=>{if(S.contentType==="title"){const P=S.width,F=S.height,Y=P/2,ee=F/2;return`<svg width="${P}" height="${F}" viewBox="0 0 ${P} ${F}" xmlns="http://www.w3.org/2000/svg" role="img">
              <rect width="100%" height="100%" fill="white"/>
              <g id="textGroup" transform="translate(${Y},${ee})">
                <!-- Main Title -->
                <text id="mainTitle"
                      x="0" y="-12"
                      text-anchor="middle"
                      font-family="Arial, Helvetica, sans-serif"
                      font-size="28"
                      font-weight="700"
                      fill="#333">
                  ${N}
                </text>

                <!-- Description -->
                <text id="description"
                      x="0" y="18"
                      text-anchor="middle"
                      font-family="Arial, Helvetica, sans-serif"
                      font-size="14"
                      font-weight="400"
                      fill="#999">
                  Axhub Runtime ${W}
                </text>
              </g>
            </svg>`}else return`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${S.width}" height="${S.height}" viewBox="0 0 ${S.width} ${S.height}">
                <rect width="100%" height="100%" fill="white"/>
                <image x="0" y="0" width="${S.width}" height="${S.height}" preserveAspectRatio="xMidYMin meet" xlink:href="${v}"/>
            </svg>`},bt=_.useRef(!1);d.useEffect(()=>{if(bt.current=!1,H.contentType==="screenshot"){const v=s==="pages"?1920:500,S=s==="pages"?1080:300;Le(N=>({...N,width:v,height:S,screenshotWidth:0,screenshotHeight:0,rawScreenshotUrl:""}))}else H.contentType==="title"&&Le(v=>({...v,width:500,height:300}))},[s,H.contentType]),d.useEffect(()=>{bt.current||H.contentType==="screenshot"&&(!H.screenshotWidth||!H.screenshotHeight||Le(v=>({...v,width:H.screenshotWidth,height:H.screenshotHeight})))},[H.screenshotWidth,H.screenshotHeight]);const Ei=(v,S)=>{bt.current=!0,Le(N=>({...N,[v]:S||0}))},ji=()=>{H.contentType==="screenshot"&&Qe&&Lt()},Ri=()=>{bt.current=!0;const v=H.width,S=H.height;Le(N=>({...N,width:S,height:v})),setTimeout(()=>{H.contentType==="screenshot"&&Qe&&Lt(S,v)},0)};d.useEffect(()=>{localStorage.setItem(Hn,s)},[s]),d.useEffect(()=>{if(!t&&o&&s!=="data"){const v=s==="elements"?o.elements:o.pages;v.length>0?(f(v[0]),s==="elements"&&j({width:600,height:400})):f(null)}},[t,o,s]);async function St(){var v,S;try{const N=await fetch("/api/entries.json");if(!N.ok)throw new Error("Failed to fetch data");const W=await N.json();console.log("Loaded data:",W),console.log("Reference elements:",(v=W.elements)==null?void 0:v.filter(P=>P.isReference)),console.log("Reference pages:",(S=W.pages)==null?void 0:S.filter(P=>P.isReference)),r(W)}catch(N){p.error(": "+N.message)}finally{i(!1)}}const yn=v=>{const S=v;if(S.filePath){const W=S.filePath.indexOf("src/");if(W>=0){let P=S.filePath.substring(W);return P=P.replace(/\/index\.(t|j)sx?$/i,""),P}return S.filePath}return`${s==="pages"?"src/pages":"src/elements"}/${v.name}`},zi=v=>{const S=`${s}/${v.name}`,N=`/api/zip?path=${encodeURIComponent(S)}`;window.open(N,"_blank")},Ii=v=>{const S=Es(v,s);navigator.clipboard.writeText(S).then(()=>{p.success({content:a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"bold",marginBottom:4},children:"  Prompt "}),a.jsx("div",{style:{fontSize:12,color:"#666"},children:" AI  Prompt  AI "})]}),duration:5,style:{marginTop:"20vh"}})}).catch(()=>{p.error(""),z.info({title:" Prompt",width:700,content:a.jsxs("div",{children:[a.jsx("p",{style:{marginBottom:12},children:" IDE  AI "}),a.jsx(dt.TextArea,{value:S,rows:15,readOnly:!0,style:{fontFamily:"monospace",fontSize:12}})]})})})},Oi=v=>{const S=s==="elements"?`elements/${v.name}`:`pages/${v.name}`;z.confirm({title:` "${v.displayName}" `,content:"",okText:"",cancelText:"",async onOk(){const N=p.loading("...",0);try{const W=await fetch("/api/unset-reference",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:S})});if(!W.ok){const P=await W.json();throw new Error(P.error||"")}p.success(""),f(null),St()}catch(W){p.error(W.message||"")}finally{N()}}})},ki=v=>{const S=s==="elements"?"":"",N=s==="elements"?`elements/${v.name}`:`pages/${v.name}`;let W=v.displayName;z.confirm({title:`${S}`,content:a.jsx("div",{children:a.jsx(dt,{autoFocus:!0,defaultValue:v.displayName,placeholder:"",onChange:P=>{W=P.target.value}})}),okText:"",cancelText:"",async onOk(){const P=W.trim();if(!P)return p.error(""),Promise.reject();if(P===v.displayName)return;const F=p.loading("...",0);try{const Y=await fetch("/api/rename",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:N,newName:P})});if(!Y.ok){const ee=await Y.json().catch(()=>({}));throw new Error(ee.error||"")}p.success(""),f(null),St()}catch(Y){return p.error(Y.message||""),Promise.reject()}finally{F()}}})},Mi=v=>{if(v.isReference){p.error("");return}const S=s==="elements"?"":"",N=s==="elements"?`elements/${v.name}`:`pages/${v.name}`;z.confirm({title:`${S} "${v.displayName}" `,content:"",okText:"",okType:"danger",cancelText:"",async onOk(){const W=p.loading("...",0);try{const P=await fetch("/api/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:N})});if(!P.ok){const F=await P.json();throw new Error(F.error||"")}p.success(""),f(null),St()}catch(P){p.error(P.message||"")}finally{W()}}})},wn=d.useMemo(()=>{const v=s==="elements"?o.elements:o.pages;if(!E)return v;const S=E.toLowerCase();return v.filter(N=>N.displayName.toLowerCase().includes(S)||N.name.toLowerCase().includes(S))},[o,s,E]),Ni=({key:v})=>{const S=wn.find(N=>N.name===v);S&&(f(S),B("spec"),s==="elements"&&j({width:600,height:400}))},Pi=v=>{u(v),x(""),f(null),B("spec")},Ai=()=>{A(v=>v+1)},Di=()=>{if(!h)return"";const v=window.location.origin+h.demoUrl,S=new URL(v,window.location.origin);if(S.searchParams.set("inspecta","true"),Ue.id!=="desktop"){const N=Tt.width?Math.round(Tt.width):Ue.width;N&&S.searchParams.set("width",String(N))}return S.toString()},Ti=()=>{const v=Di();v&&window.open(v,"_blank")},xn=(v=!0)=>new Promise((S,N)=>{const W=document.querySelectorAll("iframe"),P=W[W.length-1];if(!P||!P.contentWindow){N(new Error(""));return}const F=window.setTimeout(()=>{window.removeEventListener("message",Y),N(new Error(""))},15e3),Y=ee=>{if(ee.source===P.contentWindow&&!(!ee.data||ee.data.type!=="FIGMA_JSON_READY"))if(window.removeEventListener("message",Y),window.clearTimeout(F),ee.data.success){const te=ee.data.json??ee.data.data??ee.data.payload;if(te===void 0){N(new Error(" json/data/payload "));return}const se=Array.isArray(te)?te:te.layers||[];S({layers:se,widgetId:ee.data.widgetId,pageId:ee.data.pageId})}else N(new Error(ee.data.error||""))};window.addEventListener("message",Y),P.contentWindow.postMessage({type:"EXPORT_FIGMA_JSON",rootName:(h==null?void 0:h.displayName)||(h==null?void 0:h.name),enableAutoLayout:v},"*")}),Li=async(v=!0)=>{if(!h){p.warning("");return}const S=p.loading(" Figma JSON...",0);try{const{layers:N,widgetId:W,pageId:P}=await xn(v),F={layers:N,...W?{widgetId:W}:{},...P?{pageId:P}:{}},Y=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),ee=URL.createObjectURL(Y),te=document.createElement("a");te.href=ee,te.download=`${h.name}-${s}.json`,document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(ee),p.success("JSON ")}catch(N){p.error((N==null?void 0:N.message)||"")}finally{S()}},bn=()=>{if(!h)return"";const v=h.demoUrl,S=window.__LOCAL_IP__||"localhost",N=window.location.port||(window.location.protocol==="https:"?"443":"80");return`${window.location.protocol}//${S}:${N}${v}`},Ue=d.useMemo(()=>Wt.find(v=>v.id===y)||Wt[0],[y]);d.useEffect(()=>{Wt.some(S=>S.id===y)||g("desktop")},[y]);const[Tt,Sn]=d.useState({width:0,height:0});d.useEffect(()=>{if(Ue.id==="desktop"||Ue.width===0||!m.current){Sn({width:0,height:0}),b(1);return}const v=()=>{if(!m.current)return;const S=m.current.clientWidth*.9,N=m.current.clientHeight*.9,W=Ue.width,P=Ue.height,ee=24+8,te=(S-ee)/W,se=(N-ee)/P,be=Math.min(te,se),fe=W*be,ke=P*be;Sn({width:fe,height:ke}),b(1)};return v(),window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[Ue,c]);const Lt=(v,S)=>{const N=v??H.width,W=S??H.height,P=document.querySelectorAll("iframe"),F=P[P.length-1];F&&F.contentWindow&&F.contentWindow.postMessage({type:"CAPTURE_SCREENSHOT",targetWidth:N,targetHeight:W},"*")};d.useEffect(()=>{if(Qe&&H.contentType==="screenshot"){const v=s==="pages"?1920:500,S=s==="pages"?1080:300;H.width===v&&H.height===S&&Lt()}if(!Qe){const v=document.querySelectorAll("iframe"),S=v[v.length-1];S&&S.contentWindow&&S.contentWindow.postMessage({type:"RESET_SCREENSHOT_STYLES"},"*")}},[Qe,H.contentType,H.width,H.height]);const[Bi,Bt]=d.useState([]),Hi=window.location.port||(window.location.protocol==="https:"?"443":"80"),Ht=async()=>{try{const v=await fetch("/api/ws/clients");if(v.ok){const N=(await v.json()).clients||[];return Bt(N),N}else return Bt([]),[]}catch(v){return console.error("Failed to check WS clients",v),Bt([]),[]}};d.useEffect(()=>{Ht()},[]);const _i=async()=>{if(!h){p.warning("");return}const v=p.loading("...",0),S=await Ht();v(),S.length===0?z.confirm({title:" Figma ",content:a.jsxs("div",{children:[a.jsx("p",{children:" Figma "}),a.jsxs("p",{style:{color:"#999",fontSize:12},children:[": ",Hi]})]}),okText:"",cancelText:"",onOk:()=>Cn()}):Cn()},Cn=async()=>{const v=p.loading("...",0);try{const{layers:S,widgetId:N,pageId:W}=await xn();if(v(),!S||!Array.isArray(S)||S.length===0){p.error("");return}let P;s==="elements"?(N||p.warning(" widgetId"),P={type:"sync-widget-content",widgetId:N||`element-${(h==null?void 0:h.name)||"unknown"}-${Date.now()}`,data:{layers:S},blurImages:!1,metadata:{source:"extension",timestamp:Date.now()}}):P={type:"sync-page-content",...W?{pageId:W}:{},data:{layers:S},blurImages:!1,metadata:{source:"extension",timestamp:Date.now()}};const F=p.loading(" Figma...",0);try{const Y=await fetch("/api/ws/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(Y.ok)await Y.json(),p.success("");else{const ee=await Y.text();throw new Error(ee||"")}}catch(Y){p.error(": "+Y.message)}finally{F()}}catch(S){v(),p.error((S==null?void 0:S.message)||"")}},Wi=(v,S,N,W=2)=>new Promise((P,F)=>{const Y=new Image,ee=new Blob([v],{type:"image/svg+xml;charset=utf-8"}),te=URL.createObjectURL(ee);Y.onload=()=>{const se=document.createElement("canvas");se.width=S*W,se.height=N*W;const be=se.getContext("2d");if(!be){F(new Error("Could not get canvas context"));return}be.fillStyle="#ffffff",be.fillRect(0,0,se.width,se.height),be.drawImage(Y,0,0,se.width,se.height),URL.revokeObjectURL(te),P(se.toDataURL("image/png"))},Y.onerror=se=>{URL.revokeObjectURL(te),F(se)},Y.src=te}),Fi=async()=>{if(h){At(!0);try{const v=window.location.origin+h.jsUrl,S=await fetch(v);if(!S.ok)throw new Error(`Failed to fetch code: ${S.statusText}`);const N=await S.text();let W="";if(h){const F=`${window.location.origin}/${s}/${h.name}/hack.css`;try{const Y=await fetch(F);Y.ok&&(W=await Y.text())}catch(Y){console.warn("fetch hack.css failed",Y)}}const P=async(F=!1)=>{const Y=`${window.location.origin}/${s}/${h.name}`,ee=["spec","prd"],te={};for(const fe of ee){const ke=`${Y}/${fe}.md`;try{const Ee=await fetch(ke);if(Ee.ok){const Oe=await Ee.text(),Me={spec:"",prd:""};te[fe]={name:Me[fe],content:Oe}}}catch(Ee){console.warn(`Failed to fetch ${fe}.md`,Ee)}}if(F){const fe=`${s}/${h.name}`,ke=`${window.location.origin}/api/source?path=${encodeURIComponent(fe)}`;try{const Ee=await fetch(ke);if(Ee.ok){const Me=`\`\`\`tsx
${await Ee.text()}
\`\`\`
`;te.code={name:"",content:Me}}}catch(Ee){console.warn("Failed to fetch source code",Ee)}}const se=Object.keys(te);return se.length>1?te:se.length===1?te[se[0]].content:null};if(H.contentType==="screenshot"&&!H.rawScreenshotUrl){p.warning("..."),At(!1);return}try{let F="",Y="";if(H.includeConfig!=="none"&&(F=N,H.includeConfig==="codeAndDocs"||H.includeConfig==="codeAndDocsAndSource")){const Ne=H.includeConfig==="codeAndDocsAndSource",Ve=await P(Ne);Ve&&(Y=Ve)}const ee=s==="elements"?"":"";let te="";if(H.contentType==="title"){const Ne=Dt("",H,h.displayName,ee),Ve=await Wi(Ne,H.width,H.height,2);te=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${H.width}" height="${H.height}" viewBox="0 0 ${H.width} ${H.height}">
                            <rect width="100%" height="100%" fill="white"/>
                            <image x="0" y="0" width="${H.width}" height="${H.height}" preserveAspectRatio="xMidYMin meet" xlink:href="${Ve}"/>
                        </svg>`}else te=Dt(H.rawScreenshotUrl,H,h.displayName,ee);const be=new DOMParser().parseFromString(te,"image/svg+xml"),fe=be.querySelector("svg");if(!fe)throw new Error("SVG generation failed");if(F||Y){const Ne={code:F,spec:Y};fe.setAttribute("AxExtraData",encodeURIComponent(JSON.stringify(Ne)))}if(H.includeConfig!=="none"){const Ne={time:Math.floor(Date.now()/1e3),config:{codeLink:v,...s==="pages"?{isFullScreen:!0}:{},...W?{hackCss:W}:{}}};fe.setAttribute("AxData",encodeURIComponent(JSON.stringify(Ne)))}const Ee=new XMLSerializer().serializeToString(be),Oe=new Blob([Ee],{type:"image/svg+xml;charset=utf-8"}),Me=URL.createObjectURL(Oe),me=document.createElement("a");me.href=Me,me.download=`${h.name}.svg`,document.body.appendChild(me),me.click(),document.body.removeChild(me),URL.revokeObjectURL(Me),p.success("SVG "),Pt(!1)}catch(F){console.error("Image export failed:",F),p.error("")}}catch(v){p.error(`: ${v.message}`),console.error(":",v)}finally{At(!1)}}},Ui=async v=>{if(!h)throw new Error("");const S=window.location.origin+h.jsUrl,N=await fetch(S);if(!N.ok)throw new Error(`Failed to fetch code: ${N.statusText}`);const W=await N.text();let P="";const F=`${window.location.origin}/${s}/${h.name}/hack.css`;try{const te=await fetch(F);te.ok&&(P=await te.text())}catch{}const Y=async(te=!1)=>{const se=`${window.location.origin}/${s}/${h.name}`,be=["spec","prd"],fe={};for(const Oe of be){const Me=`${se}/${Oe}.md`;try{const me=await fetch(Me);if(me.ok){const Ne=await me.text(),Ve={spec:"",prd:""};fe[Oe]={name:Ve[Oe],content:Ne}}}catch(me){console.warn(`Failed to fetch ${Oe}.md`,me)}}if(te){const Oe=`${s}/${h.name}`,Me=`${window.location.origin}/api/source?path=${encodeURIComponent(Oe)}`;try{const me=await fetch(Me);if(me.ok){const Ve=`\`\`\`tsx
${await me.text()}
\`\`\`
`;fe.code={name:"",content:Ve}}}catch(me){console.warn("Failed to fetch source code",me)}}const ke=Object.keys(fe);return ke.length>1?fe:ke.length===1?fe[ke[0]].content:null},ee={time:Math.floor(Date.now()/1e3),config:{code:W,...s==="pages"?{isFullScreen:!0}:{},...P?{hackCss:P}:{}}};if(v==="codeAndDocs"||v==="codeAndDocsAndSource"){const se=await Y(v==="codeAndDocsAndSource");se&&(ee.config.spec=se)}return JSON.stringify(ee,null,2)},Vi=h?$==="spec"?h.specUrl:h.demoUrl:"";return a.jsxs(ht,{style:{minHeight:"100vh"},children:[C,a.jsx("style",{children:`
                .resize-handle-right {
                    cursor: ew-resize !important;
                    z-index: 100 !important;
                }
                .resize-handle-right::before {
                    content: '';
                    position: absolute;
                    right: 50%;
                    top: 50%;
                    transform: translate(50%, -50%);
                    width: 2px;
                    height: 40px;
                    background: var(--ant-color-border);
                    border-radius: 1px;
                    transition: all 0.2s;
                    z-index: 100;
                }
                .resize-handle-right:hover::before,
                .resize-handle-right:active::before {
                    background: var(--ant-color-text-secondary);
                    width: 3px;
                    height: 50px;
                }
                .resize-handle-bottom {
                    cursor: ns-resize !important;
                    z-index: 100 !important;
                }
                .resize-handle-bottom::before {
                    content: '';
                    position: absolute;
                    left: 50%;
                    bottom: 50%;
                    transform: translate(-50%, 50%);
                    width: 40px;
                    height: 2px;
                    background: var(--ant-color-border);
                    border-radius: 1px;
                    transition: all 0.2s;
                    z-index: 100;
                }
                .resize-handle-bottom:hover::before,
                .resize-handle-bottom:active::before {
                    background: var(--ant-color-text-secondary);
                    width: 50px;
                    height: 3px;
                }
                .resize-handle-bottomRight {
                    cursor: nwse-resize !important;
                    z-index: 100 !important;
                }
                .resize-handle-bottomRight::before {
                    content: '';
                    position: absolute;
                    right: 0;
                    bottom: 0;
                    width: 12px;
                    height: 12px;
                    background: var(--ant-color-border);
                    border-radius: 0 0 6px 0;
                    transition: all 0.2s;
                    z-index: 100;
                }
                .resize-handle-bottomRight:hover::before,
                .resize-handle-bottomRight:active::before {
                    background: var(--ant-color-border-secondary);
                    width: 16px;
                    height: 16px;
                }
                /*  */
                .ant-card-hoverable:hover .resize-handle-right::before,
                .ant-card-hoverable:hover .resize-handle-bottom::before,
                .ant-card-hoverable:hover .resize-handle-bottomRight::before {
                    background: var(--ant-color-border-secondary);
                }

                /*  hover  */
                .menu-item-wrapper .more-btn {
                    opacity: 0;
                    transition: opacity 0.2s;
                }
                .menu-item-wrapper:hover .more-btn,
                .menu-item-wrapper.is-selected .more-btn,
                .menu-item-wrapper .more-btn.ant-dropdown-open {
                    opacity: 1;
                }
            `}),a.jsx(ds,{collapsed:c,setCollapsed:l,selectedItem:h,viewMode:$,setViewMode:k,activeTab:s,selectedDeviceId:y,setSelectedDeviceId:g,deviceSegmentOptions:st,handleOpenInspect:Ti,handleRefreshElement:Ai,handleCopyLocalLink:de,handleDownloadZip:pe,getLocalUrl:bn,qrCodeVisible:V,setQrCodeVisible:G,wsClients:Bi,checkConnection:Ht,handlePushToFigma:_i,handleDownloadFigmaJson:Li,setIsExportModalOpen:Pt,handleOpenIdeFile:$e,isDarkMode:e,setIsDarkMode:n,currentSpecDocKey:L}),a.jsxs(ht,{children:[a.jsx(ts,{collapsed:c,loading:t,activeTab:s,handleTabChange:Pi,data:o,searchText:E,setSearchText:x,filteredItems:wn,selectedItem:h,handleMenuClick:Ni,handleDownloadItemSource:zi,handleRenameItem:ki,handleSetReference:Ii,handleUnsetReference:Oi,handleDeleteItem:Mi,setCreateDialogVisible:X}),a.jsx(Cs,{containerRef:m,selectedItem:h,activeTab:s,currentDevice:Ue,displaySize:Tt,scale:w,elementIframeKey:R,iframeUrl:Vi,elementIframeSize:I,setElementIframeSize:j,viewMode:$})]}),a.jsx($s,{visible:U,onClose:J,onOk:Te,onSendPrompt:ae,activeTab:s,createName:M,setCreateName:Ie,createReference:K,setCreateReference:ye,createMode:oe,setCreateMode:Ge,generateAxure:D,setGenerateAxure:rt,referenceItems:T,selectedDocs:he,setSelectedDocs:at,availableDocs:ze,selectedThemes:Z,setSelectedThemes:Ye,availableThemes:ce,selectedDataAssets:ve,setSelectedDataAssets:qe,availableDataAssets:Ce,selectedLibraries:ne,setSelectedLibraries:we,availableLibraries:re}),a.jsx(Ja,{open:Qe,onClose:()=>Pt(!1),imageConfig:H,setImageConfig:Le,onDimensionChange:Ei,onSwapDimensions:Ri,onDimensionBlur:ji,isExporting:$i,onExport:Fi,onCopyConfig:Ui,activeTab:s,itemName:h==null?void 0:h.name}),C,O]})}function Ps(){const[e,n]=d.useState(!1);return a.jsx(Do,{theme:To(e),children:a.jsx(er,{children:a.jsx(Ns,{isDarkMode:e,setIsDarkMode:n})})})}const As=Ao.createRoot(document.getElementById("root"));As.render(a.jsx(Ps,{}));
