const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/toImg-CuXmJV8N.js","assets/rasterize-JS5G2XHH-BL-bzy3w.js","assets/toCanvas-DVMVkpBd.js","assets/dev-template-bootstrap.js","assets/Skeleton-DjKEVLsr.js","assets/AntdIcon-BrIkvUk3.js","assets/useVariants-CquK75TE.js","assets/index-CnF7cj0Z.js","assets/CopyOutlined-BSzoNvmG.js","assets/toBlob-CR7Dx9eJ.js","assets/download-zSKRNPwB.js"])))=>i.map(i=>d[i]);
import{_ as U}from"./dev-template-bootstrap.js";var S={image:new Map,background:new Map,resource:new Map,defaultStyle:new Map,baseStyle:new Map,computedStyle:new WeakMap,font:new Set,session:{styleMap:new Map,styleCache:new WeakMap,nodeMap:new Map}};function qt(e="soft"){switch(S.session.__counterEpoch=(S.session.__counterEpoch||0)+1,e){case"auto":{S.session.styleMap=new Map,S.session.nodeMap=new Map;return}case"soft":{S.session.styleMap=new Map,S.session.nodeMap=new Map,S.session.styleCache=new WeakMap;return}case"full":return;case"disabled":{S.session.styleMap=new Map,S.session.nodeMap=new Map,S.session.styleCache=new WeakMap,S.computedStyle=new WeakMap,S.baseStyle=new Map,S.defaultStyle=new Map,S.image=new Map,S.background=new Map,S.resource=new Map,S.font=new Set;return}default:{S.session.styleMap=new Map,S.session.nodeMap=new Map,S.session.styleCache=new WeakMap;return}}}function Ue(e){let t=e.match(/url\((['"]?)(.*?)(\1)\)/);if(!t)return null;let n=t[2].trim();return n.startsWith("#")?null:n}function jt(e){if(!e||e==="none")return"";let t=e.replace(/translate[XY]?\([^)]*\)/g,"");return t=t.replace(/matrix\(([^)]+)\)/g,(n,r)=>{let o=r.split(",").map(a=>a.trim());return o.length!==6?`matrix(${r})`:(o[4]="0",o[5]="0",`matrix(${o.join(", ")})`)}),t=t.replace(/matrix3d\(([^)]+)\)/g,(n,r)=>{let o=r.split(",").map(a=>a.trim());return o.length!==16?`matrix3d(${r})`:(o[12]="0",o[13]="0",`matrix3d(${o.join(", ")})`)}),t.trim().replace(/\s{2,}/g," ")}function ve(e){if(/%[0-9A-Fa-f]{2}/.test(e))return e;try{return encodeURI(e)}catch{return e}}function Ut(e="[snapDOM]",{ttlMs:t=5*6e4,maxEntries:n=12}={}){let r=new Map,o=0;function a(i,u,l){if(o>=n)return;let f=Date.now();(r.get(u)||0)>f||(r.set(u,f+t),o++,i==="warn"&&console&&console.warn?console.warn(`${e} ${l}`):console&&console.error&&console.error(`${e} ${l}`))}return{warnOnce(i,u){a("warn",i,u)},errorOnce(i,u){a("error",i,u)},reset(){r.clear(),o=0}}}var Ye=Ut("[snapDOM]",{ttlMs:3*6e4,maxEntries:10}),Fe=new Map,xe=new Map;function Vt(e){return/^data:|^blob:|^about:blank$/i.test(e)}function Ht(e,t){try{let n=typeof location<"u"&&location.href?location.href:"http://localhost/",r=t.includes("{url}")?t.split("{url}")[0]:t,o=new URL(r||".",n),a=new URL(e,n);if(a.origin===o.origin)return!0;let i=a.searchParams;if(i&&(i.has("url")||i.has("target")))return!0}catch{}return!1}function zt(e,t){if(!t||Vt(e)||Ht(e,t))return!1;try{let n=typeof location<"u"&&location.href?location.href:"http://localhost/",r=new URL(e,n);return typeof location<"u"?r.origin!==location.origin:!0}catch{return!!t}}function Bt(e,t){if(!t)return e;if(t.includes("{url}"))return t.replace("{urlRaw}",ve(e)).replace("{url}",encodeURIComponent(e));if(/[?&]url=?$/.test(t))return`${t}${encodeURIComponent(e)}`;if(t.endsWith("?"))return`${t}url=${encodeURIComponent(e)}`;if(t.endsWith("/"))return`${t}${ve(e)}`;let n=t.includes("?")?"&":"?";return`${t}${n}url=${encodeURIComponent(e)}`}function Ge(e){return new Promise((t,n)=>{let r=new FileReader;r.onload=()=>t(String(r.result||"")),r.onerror=()=>n(new Error("read_failed")),r.readAsDataURL(e)})}function Xt(e,t){return[t.as||"blob",t.timeout??3e3,t.useProxy||"",t.errorTTL??8e3,e].join("|")}async function K(e,t={}){let n=t.as??"blob",r=t.timeout??3e3,o=t.useProxy||"",a=t.errorTTL??8e3,i=t.headers||{},u=!!t.silent;if(/^data:/i.test(e))try{if(n==="text")return{ok:!0,data:String(e),status:200,url:e,fromCache:!1};if(n==="dataURL")return{ok:!0,data:String(e),status:200,url:e,fromCache:!1,mime:String(e).slice(5).split(";")[0]||""};let[,c="",y=""]=String(e).match(/^data:([^,]*),(.*)$/)||[],x=/;base64/i.test(c)?atob(y):decodeURIComponent(y),C=new Uint8Array([...x].map(E=>E.charCodeAt(0))),M=new Blob([C],{type:(c||"").split(";")[0]||""});return{ok:!0,data:M,status:200,url:e,fromCache:!1,mime:M.type||""}}catch{return{ok:!1,data:null,status:0,url:e,fromCache:!1,reason:"special_url_error"}}if(/^blob:/i.test(e))try{let c=await fetch(e);if(!c.ok)return{ok:!1,data:null,status:c.status,url:e,fromCache:!1,reason:"http_error"};let y=await c.blob(),x=y.type||c.headers.get("content-type")||"";return n==="dataURL"?{ok:!0,data:await Ge(y),status:c.status,url:e,fromCache:!1,mime:x}:n==="text"?{ok:!0,data:await y.text(),status:c.status,url:e,fromCache:!1,mime:x}:{ok:!0,data:y,status:c.status,url:e,fromCache:!1,mime:x}}catch{return{ok:!1,data:null,status:0,url:e,fromCache:!1,reason:"network"}}if(/^about:blank$/i.test(e))return n==="dataURL"?{ok:!0,data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==",status:200,url:e,fromCache:!1,mime:"image/png"}:{ok:!0,data:n==="text"?"":new Blob([]),status:200,url:e,fromCache:!1};let l=Xt(e,{as:n,timeout:r,useProxy:o,errorTTL:a}),f=xe.get(l);if(f&&f.until>Date.now())return{...f.result,fromCache:!0};f&&xe.delete(l);let d=Fe.get(l);if(d)return d;let p=zt(e,o)?Bt(e,o):e,h=t.credentials;if(!h)try{let c=typeof location<"u"&&location.href?location.href:"http://localhost/",y=new URL(e,c);h=typeof location<"u"&&y.origin===location.origin?"include":"omit"}catch{h="omit"}let g=new AbortController,m=setTimeout(()=>g.abort("timeout"),r),s=(async()=>{try{let c=await fetch(p,{signal:g.signal,credentials:h,headers:i});if(!c.ok){let C={ok:!1,data:null,status:c.status,url:p,fromCache:!1,reason:"http_error"};if(a>0&&xe.set(l,{until:Date.now()+a,result:C}),!u){let M=`${c.status} ${c.statusText||""}`.trim();Ye.warnOnce(`http:${c.status}:${n}:${new URL(e,(location==null?void 0:location.href)??"http://localhost/").origin}`,`HTTP error ${M} while fetching ${n} ${e}`)}return t.onError&&t.onError(C),C}if(n==="text")return{ok:!0,data:await c.text(),status:c.status,url:p,fromCache:!1};let y=await c.blob(),x=y.type||c.headers.get("content-type")||"";return n==="dataURL"?{ok:!0,data:await Ge(y),status:c.status,url:p,fromCache:!1,mime:x}:{ok:!0,data:y,status:c.status,url:p,fromCache:!1,mime:x}}catch(c){let y=c&&typeof c=="object"&&"name"in c&&c.name==="AbortError"?String(c.message||"").includes("timeout")?"timeout":"abort":"network",x={ok:!1,data:null,status:0,url:p,fromCache:!1,reason:y};if(!/^blob:/i.test(e)&&a>0&&xe.set(l,{until:Date.now()+a,result:x}),!u){let C=`${y}:${n}:${new URL(e,(location==null?void 0:location.href)??"http://localhost/").origin}`,M=y==="timeout"?`Timeout after ${r}ms. Consider increasing timeout or using a proxy for ${e}`:y==="abort"?`Request aborted while fetching ${n} ${e}`:`Network/CORS issue while fetching ${n} ${e}. A proxy may be required`;Ye.errorOnce(C,M)}return t.onError&&t.onError(x),x}finally{clearTimeout(m),Fe.delete(l)}})();return Fe.set(l,s),s}async function ht(e,t={}){if(/^((repeating-)?(linear|radial|conic)-gradient)\(/i.test(e)||e.trim()==="none")return e;let n=Ue(e);if(!n)return e;let r=ve(n);if(S.background.has(r)){let o=S.background.get(r);return o?`url("${o}")`:"none"}try{let o=await K(r,{as:"dataURL",useProxy:t.useProxy});return o.ok?(S.background.set(r,o.data),`url("${o.data}")`):(S.background.set(r,null),"none")}catch{return S.background.set(r,null),"none"}}var Yt=new Set(["meta","script","noscript","title","link","template"]),Ve=new Set(["meta","link","style","title","noscript","script","template","g","defs","use","marker","mask","clipPath","pattern","path","polygon","polyline","line","circle","ellipse","rect","filter","lineargradient","radialgradient","stop"]);function Gt(e){if(e=String(e).toLowerCase(),Ve.has(e)){let a={};return S.defaultStyle.set(e,a),a}if(S.defaultStyle.has(e))return S.defaultStyle.get(e);let t=document.getElementById("snapdom-sandbox");t||(t=document.createElement("div"),t.id="snapdom-sandbox",t.setAttribute("data-snapdom-sandbox","true"),t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="0px",t.style.height="0px",t.style.overflow="hidden",document.body.appendChild(t));let n=document.createElement(e);n.style.all="initial",t.appendChild(n);let r=getComputedStyle(n),o={};for(let a of r){if(pt(a))continue;let i=r.getPropertyValue(a);o[a]=i}return t.removeChild(n),S.defaultStyle.set(e,o),o}var Jt=/(?:^|-)(animation|transition)(?:-|$)/i,Qt=/^(--|view-timeline|scroll-timeline|animation-trigger|offset-|position-try|app-region|interactivity|overlay|view-transition|-webkit-locale|-webkit-user-(?:drag|modify)|-webkit-tap-highlight-color|-webkit-text-security)$/i,Kt=new Set(["cursor","pointer-events","touch-action","user-select","print-color-adjust","speak","reading-flow","reading-order","anchor-name","anchor-scope","container-name","container-type","timeline-scope"]);function pt(e){let t=String(e).toLowerCase();return!!(Kt.has(t)||Qt.test(t)||Jt.test(t))}function Te(e,t){if(t=String(t||"").toLowerCase(),Ve.has(t))return"";let n=[],r=Gt(t);for(let[o,a]of Object.entries(e)){if(pt(o))continue;let i=r[o];a&&a!==i&&n.push(`${o}:${a}`)}return n.sort(),n.join(";")}function Zt(e){let t=new Set;return e.nodeType!==Node.ELEMENT_NODE&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?[]:(e.tagName&&t.add(e.tagName.toLowerCase()),typeof e.querySelectorAll=="function"&&e.querySelectorAll("*").forEach(n=>t.add(n.tagName.toLowerCase())),Array.from(t))}function en(e){let t=new Map;for(let r of e){let o=S.defaultStyle.get(r);if(!o)continue;let a=Object.entries(o).map(([i,u])=>`${i}:${u};`).sort().join("");a&&(t.has(a)||t.set(a,[]),t.get(a).push(r))}let n="";for(let[r,o]of t.entries())n+=`${o.join(",")} { ${r} }
`;return n}function tn(e){let t=Array.from(new Set(e.values())).filter(Boolean).sort(),n=new Map,r=1;for(let o of t)n.set(o,`c${r++}`);return n}function gt(e,t=null){if(!(e instanceof Element))return window.getComputedStyle(e,t);let n=S.computedStyle.get(e);if(n||(n=new Map,S.computedStyle.set(e,n)),!n.has(t)){let r=window.getComputedStyle(e,t);n.set(t,r)}return n.get(t)}function Je(e){let t={};for(let n of e)t[n]=e.getPropertyValue(n);return t}function yt(e){let t=[],n=0,r=0;for(let o=0;o<e.length;o++){let a=e[o];a==="("&&n++,a===")"&&n--,a===","&&n===0&&(t.push(e.slice(r,o).trim()),r=o+1)}return t.push(e.slice(r).trim()),t}var nn=[/font\s*awesome/i,/material\s*icons/i,/ionicons/i,/glyphicons/i,/feather/i,/bootstrap\s*icons/i,/remix\s*icons/i,/heroicons/i,/layui/i,/lucide/i],se=Object.assign({materialIconsFilled:"https://fonts.gstatic.com/s/materialicons/v48/flUhRq6tzZclQEJ-Vdg-IuiaDsNcIhQ8tQ.woff2",materialIconsOutlined:"https://fonts.gstatic.com/s/materialiconsoutlined/v110/gok-H7zzDkdnRel8-DQ6KAXJ69wP1tGnf4ZGhUcel5euIg.woff2",materialIconsRound:"https://fonts.gstatic.com/s/materialiconsround/v109/LDItaoyNOAY6Uewc665JcIzCKsKc_M9flwmPq_HTTw.woff2",materialIconsSharp:"https://fonts.gstatic.com/s/materialiconssharp/v110/oPWQ_lt5nv4pWNJpghLP75WiFR4kLh3kvmvRImcycg.woff2"},typeof window<"u"&&window.__SNAPDOM_ICON_FONTS__||{}),Pe=[];function rn(e){let t=Array.isArray(e)?e:[e];for(let n of t)n instanceof RegExp?Pe.push(n):typeof n=="string"?Pe.push(new RegExp(n,"i")):console.warn("[snapdom] Ignored invalid iconFont value:",n)}function ee(e){let t=typeof e=="string"?e:"",n=[...nn,...Pe];for(let r of n)if(r instanceof RegExp&&r.test(t))return!0;return!!(/icon/i.test(t)||/glyph/i.test(t)||/symbols/i.test(t)||/feather/i.test(t)||/fontawesome/i.test(t))}function on(e=""){let t=String(e).toLowerCase();return/\bmaterial\s*icons\b/.test(t)||/\bmaterial\s*symbols\b/.test(t)}var Qe=new Map;function an(e=""){let t=Object.create(null),n=String(e||""),r=/['"]?\s*([A-Za-z]{3,4})\s*['"]?\s*([+-]?\d+(?:\.\d+)?)\s*/g,o;for(;o=r.exec(n);)t[o[1].toUpperCase()]=Number(o[2]);return t}async function ln(e,t,n){let r=String(e||""),o=r.toLowerCase(),a=String(t||"").toLowerCase();if(/\bmaterial\s*icons\b/.test(o)&&!/\bsymbols\b/.test(o))return{familyForMeasure:r,familyForCanvas:r};if(!/\bmaterial\s*symbols\b/.test(o))return{familyForMeasure:r,familyForCanvas:r};let i=n&&(n.FILL??n.fill),u="outlined";/\brounded\b/.test(a)||/\bround\b/.test(a)?u="rounded":/\bsharp\b/.test(a)?u="sharp":/\boutlined\b/.test(a)&&(u="outlined");let l=i===1,f=null;if(l&&(u==="outlined"&&se.materialIconsFilled?f={url:se.materialIconsFilled,alias:"snapdom-mi-filled"}:u==="rounded"&&se.materialIconsRound?f={url:se.materialIconsRound,alias:"snapdom-mi-round"}:u==="sharp"&&se.materialIconsSharp&&(f={url:se.materialIconsSharp,alias:"snapdom-mi-sharp"})),!f)return{familyForMeasure:r,familyForCanvas:r};if(!Qe.has(f.alias))try{let p=new FontFace(f.alias,`url(${f.url})`,{style:"normal",weight:"400"});document.fonts.add(p),await p.load(),Qe.set(f.alias,!0)}catch{return{familyForMeasure:r,familyForCanvas:r}}let d=`"${f.alias}"`;return{familyForMeasure:d,familyForCanvas:d}}async function sn(e="Material Icons",t=24){try{await Promise.all([document.fonts.load(`400 ${t}px "${String(e).replace(/["']/g,"")}"`),document.fonts.ready])}catch{}}function un(e){var o,a;let t=((o=e.getPropertyValue("-webkit-text-fill-color"))==null?void 0:o.trim())||"",n=/^transparent$/i.test(t)||/rgba?\(\s*0\s*,\s*0\s*,\s*0\s*,\s*0\s*\)/i.test(t);if(t&&!n&&t.toLowerCase()!=="currentcolor")return t;let r=(a=e.color)==null?void 0:a.trim();return r&&r!=="inherit"?r:"#000"}async function cn(e,{family:t="Material Icons",weight:n="normal",fontSize:r=32,color:o="#000",variation:a="",className:i=""}={}){let u=String(t||"").replace(/^['"]+|['"]+$/g,""),l=window.devicePixelRatio||1,f=an(a),{familyForMeasure:d,familyForCanvas:p}=await ln(u,i,f);await sn(p.replace(/^["']+|["']+$/g,""),r);let h=document.createElement("span");h.textContent=e,h.style.position="absolute",h.style.visibility="hidden",h.style.left="-99999px",h.style.whiteSpace="nowrap",h.style.fontFamily=d,h.style.fontWeight=String(n||"normal"),h.style.fontSize=`${r}px`,h.style.lineHeight="1",h.style.margin="0",h.style.padding="0",h.style.fontFeatureSettings="'liga' 1",h.style.fontVariantLigatures="normal",h.style.color=o,document.body.appendChild(h);let g=h.getBoundingClientRect(),m=Math.max(1,Math.ceil(g.width)),s=Math.max(1,Math.ceil(g.height));document.body.removeChild(h);let c=document.createElement("canvas");c.width=m*l,c.height=s*l;let y=c.getContext("2d");y.scale(l,l),y.font=`${n?`${n} `:""}${r}px ${p}`,y.textAlign="left",y.textBaseline="top",y.fillStyle=o;try{y.fontKerning="normal"}catch{}return y.fillText(e,0,0),{dataUrl:c.toDataURL(),width:m,height:s}}async function fn(e,t){if(!(e instanceof Element))return 0;let n='.material-icons, [class*="material-symbols"]',r=Array.from(e.querySelectorAll(n)).filter(i=>i&&i.textContent&&i.textContent.trim());if(r.length===0)return 0;let o=t instanceof Element?Array.from(t.querySelectorAll(n)).filter(i=>i&&i.textContent&&i.textContent.trim()):[],a=0;for(let i=0;i<r.length;i++){let u=r[i],l=o[i]||null;try{let f=getComputedStyle(l||u),d=f.fontFamily||"Material Icons";if(!on(d))continue;let p=(l||u).textContent.trim();if(!p)continue;let h=parseInt(f.fontSize,10)||24,g=f.fontWeight&&f.fontWeight!=="normal"?f.fontWeight:"normal",m=un(f),s=f.fontVariationSettings&&f.fontVariationSettings!=="normal"?f.fontVariationSettings:"",c=(l||u).className||"",{dataUrl:y,width:x,height:C}=await cn(p,{family:d,weight:g,fontSize:h,color:m,variation:s,className:c});u.textContent="";let M=u.ownerDocument.createElement("img");M.src=y,M.alt=p,M.style.height=`${h}px`,M.style.width=`${Math.max(1,Math.round(x/C*h))}px`,M.style.objectFit="contain",M.style.verticalAlign=getComputedStyle(u).verticalAlign||"baseline",u.appendChild(M),a++}catch{}}return a}async function dn(e,t,n,r=32,o="#000"){t=t.replace(/^['"]+|['"]+$/g,"");let a=window.devicePixelRatio||1;try{await document.fonts.ready}catch{}let i=document.createElement("span");i.textContent=e,i.style.position="absolute",i.style.visibility="hidden",i.style.fontFamily=`"${t}"`,i.style.fontWeight=n||"normal",i.style.fontSize=`${r}px`,i.style.lineHeight="1",i.style.whiteSpace="nowrap",i.style.padding="0",i.style.margin="0",document.body.appendChild(i);let u=i.getBoundingClientRect(),l=Math.ceil(u.width),f=Math.ceil(u.height);document.body.removeChild(i);let d=document.createElement("canvas");d.width=Math.max(1,l*a),d.height=Math.max(1,f*a);let p=d.getContext("2d");return p.scale(a,a),p.font=n?`${n} ${r}px "${t}"`:`${r}px "${t}"`,p.textAlign="left",p.textBaseline="top",p.fillStyle=o,p.fillText(e,0,0),{dataUrl:d.toDataURL(),width:l,height:f}}var mn=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","emoji","math","fangsong","ui-serif","ui-sans-serif","ui-monospace","ui-rounded"]);function Ae(e){if(!e)return"";for(let t of e.split(",")){let n=t.trim().replace(/^['"]+|['"]+$/g,"");if(n&&!mn.has(n.toLowerCase()))return n}return""}function Ce(e){let t=String(e??"400").trim().toLowerCase();if(t==="normal")return 400;if(t==="bold")return 700;let n=parseInt(t,10);return Number.isFinite(n)?Math.min(900,Math.max(100,n)):400}function Me(e){let t=String(e??"normal").trim().toLowerCase();return t.startsWith("italic")?"italic":t.startsWith("oblique")?"oblique":"normal"}function hn(e){let t=String(e??"100%").match(/(\d+(?:\.\d+)?)\s*%/);return t?Math.max(50,Math.min(200,parseFloat(t[1]))):100}function pn(e){let t=String(e||"400").trim(),n=t.match(/^(\d{2,3})\s+(\d{2,3})$/);if(n){let o=Ce(n[1]),a=Ce(n[2]);return{min:Math.min(o,a),max:Math.max(o,a)}}let r=Ce(t);return{min:r,max:r}}function gn(e){let t=String(e||"normal").trim().toLowerCase();return t==="italic"?{kind:"italic"}:t.startsWith("oblique")?{kind:"oblique"}:{kind:"normal"}}function yn(e){let t=String(e||"100%").trim(),n=t.match(/(\d+(?:\.\d+)?)\s*%\s+(\d+(?:\.\d+)?)\s*%/);if(n){let a=parseFloat(n[1]),i=parseFloat(n[2]);return{min:Math.min(a,i),max:Math.max(a,i)}}let r=t.match(/(\d+(?:\.\d+)?)\s*%/),o=r?parseFloat(r[1]):100;return{min:o,max:o}}function wn(e,t){if(!e)return!1;try{let n=new URL(e,location.href);if(n.origin===location.origin)return!0;let r=n.host.toLowerCase();if(["fonts.googleapis.com","fonts.gstatic.com","use.typekit.net","p.typekit.net","kit.fontawesome.com","use.fontawesome.com"].some(a=>r.endsWith(a)))return!0;let o=(n.pathname+n.search).toLowerCase();if(/\bfont(s)?\b/.test(o)||/\.woff2?(\b|$)/.test(o))return!0;for(let a of t){let i=a.toLowerCase().replace(/\s+/g,"+"),u=a.toLowerCase().replace(/\s+/g,"-");if(o.includes(i)||o.includes(u))return!0}return!1}catch{return!1}}function bn(e){var n;let t=new Set;for(let r of e||[]){let o=(n=String(r).split("__")[0])==null?void 0:n.trim();o&&t.add(o)}return t}function Ke(e,t){return e&&e.replace(/url\(\s*(['"]?)([^)'"]+)\1\s*\)/g,(n,r,o)=>{let a=(o||"").trim();if(!a||/^data:|^blob:|^https?:|^file:|^about:/i.test(a))return n;let i=a;try{i=new URL(a,t||location.href).href}catch{}return`url("${i}")`})}var Re=/@import\s+(?:url\(\s*(['"]?)([^)"']+)\1\s*\)|(['"])([^"']+)\3)([^;]*);/g,ke=4;async function xn(e,t,n){if(!e)return e;let r=new Set;function o(u,l){try{return new URL(u,l||location.href).href}catch{return u}}async function a(u,l,f=0){if(f>ke)return console.warn(`[snapDOM] @import depth exceeded (${ke}) at ${l}`),u;let d="",p=0,h;for(;h=Re.exec(u);){d+=u.slice(p,h.index),p=Re.lastIndex;let g=(h[2]||h[4]||"").trim(),m=o(g,l);if(r.has(m)){console.warn(`[snapDOM] Skipping circular @import: ${m}`);continue}r.add(m);let s="";try{let c=await K(m,{as:"text",useProxy:n,silent:!0});c.ok&&typeof c.data=="string"&&(s=c.data)}catch{}s?(s=Ke(s,m),s=await a(s,m,f+1),d+=`
/* inlined: ${m} */
${s}
`):d+=h[0]}return d+=u.slice(p),d}let i=Ke(e,t||location.href);return i=await a(i,t||location.href,0),i}var wt=/url\((["']?)([^"')]+)\1\)/g,Sn=/@font-face[^{}]*\{[^}]*\}/g;function bt(e){if(!e)return[];let t=[],n=e.split(",").map(r=>r.trim()).filter(Boolean);for(let r of n){let o=r.match(/^U\+([0-9A-Fa-f?]+)(?:-([0-9A-Fa-f?]+))?$/);if(!o)continue;let a=o[1],i=o[2],u=l=>{if(!l.includes("?"))return parseInt(l,16);let f=parseInt(l.replace(/\?/g,"0"),16),d=parseInt(l.replace(/\?/g,"F"),16);return[f,d]};if(i){let l=u(a),f=u(i),d=Array.isArray(l)?l[0]:l,p=Array.isArray(f)?f[1]:f;t.push([Math.min(d,p),Math.max(d,p)])}else{let l=u(a);Array.isArray(l)?t.push([l[0],l[1]]):t.push([l,l])}}return t}function xt(e,t){if(!t.length||!e||e.size===0)return!0;for(let n of e)for(let[r,o]of t)if(n>=r&&n<=o)return!0;return!1}function He(e,t){let n=[];if(!e)return n;for(let r of e.matchAll(wt)){let o=(r[2]||"").trim();if(!(!o||o.startsWith("data:"))){if(!/^https?:/i.test(o))try{o=new URL(o,t||location.href).href}catch{}n.push(o)}}return n}async function St(e,t,n=""){var o,a,i,u,l;let r=e;for(let f of e.matchAll(wt)){let d=Ue(f[0]);if(!d)continue;let p=d;if(!p.startsWith("http")&&!p.startsWith("data:"))try{p=new URL(p,t||location.href).href}catch{}if(!ee(p)){if((o=S.resource)!=null&&o.has(p)){(a=S.font)==null||a.add(p),r=r.replace(f[0],`url(${S.resource.get(p)})`);continue}if(!((i=S.font)!=null&&i.has(p)))try{let h=await K(p,{as:"dataURL",useProxy:n,silent:!0});if(h.ok&&typeof h.data=="string"){let g=h.data;(u=S.resource)==null||u.set(p,g),(l=S.font)==null||l.add(p),r=r.replace(f[0],`url(${g})`)}}catch{console.warn("[snapDOM] Failed to fetch font resource:",p)}}}return r}function Cn(e){if(!e.length)return null;let t=(i,u)=>e.some(([l,f])=>!(f<i||l>u)),n=t(0,255)||t(305,305),r=t(256,591)||t(7680,7935),o=t(880,1023),a=t(1024,1279);return t(7840,7929)||t(258,259)||t(416,417)||t(431,432)?"vietnamese":a?"cyrillic":o?"greek":r?"latin-ext":n?"latin":null}function Ze(e={}){let t=new Set((e.families||[]).map(o=>String(o).toLowerCase())),n=new Set((e.domains||[]).map(o=>String(o).toLowerCase())),r=new Set((e.subsets||[]).map(o=>String(o).toLowerCase()));return(o,a)=>{if(t.size&&t.has(o.family.toLowerCase()))return!0;if(n.size)for(let i of o.srcUrls)try{if(n.has(new URL(i).host.toLowerCase()))return!0}catch{}if(r.size){let i=Cn(a);if(i&&r.has(i))return!0}return!1}}function Mn(e){var a,i,u,l,f,d;if(!e)return e;let t=/@font-face[^{}]*\{[^}]*\}/gi,n=new Set,r=[];for(let p of e.match(t)||[]){let h=((a=p.match(/font-family:\s*([^;]+);/i))==null?void 0:a[1])||"",g=Ae(h),m=(((i=p.match(/font-weight:\s*([^;]+);/i))==null?void 0:i[1])||"400").trim(),s=(((u=p.match(/font-style:\s*([^;]+);/i))==null?void 0:u[1])||"normal").trim(),c=(((l=p.match(/font-stretch:\s*([^;]+);/i))==null?void 0:l[1])||"100%").trim(),y=(((f=p.match(/unicode-range:\s*([^;]+);/i))==null?void 0:f[1])||"").trim(),x=(((d=p.match(/src\s*:\s*([^;}]+)[;}]/i))==null?void 0:d[1])||"").trim(),C=He(x,location.href),M=C.length?C.map(b=>String(b).toLowerCase()).sort().join("|"):x.toLowerCase(),E=[String(g||"").toLowerCase(),m,s,c,y.toLowerCase(),M].join("|");n.has(E)||(n.add(E),r.push(p))}if(r.length===0)return e;let o=0;return e.replace(t,()=>r[o++]||"")}function $n(e,t,n,r){let o=Array.from(e||[]).sort().join("|"),a=t?JSON.stringify({families:(t.families||[]).map(u=>String(u).toLowerCase()).sort(),domains:(t.domains||[]).map(u=>String(u).toLowerCase()).sort(),subsets:(t.subsets||[]).map(u=>String(u).toLowerCase()).sort()}):"",i=(n||[]).map(u=>`${(u.family||"").toLowerCase()}::${u.weight||"normal"}::${u.style||"normal"}::${u.src||""}`).sort().join("|");return`fonts-embed-css::req=${o}::ex=${a}::lf=${i}::px=${r||""}`}async function Ct(e,t,n,r){let o;try{o=e.cssRules||[]}catch{return}let a=(i,u)=>{try{return new URL(i,u||location.href).href}catch{return i}};for(let i of o){if(i.type===CSSRule.IMPORT_RULE&&i.styleSheet){let u=i.href?a(i.href,t):t;if(r.depth>=ke){console.warn(`[snapDOM] CSSOM import depth exceeded (${ke}) at ${u}`);continue}if(u&&r.visitedSheets.has(u)){console.warn(`[snapDOM] Skipping circular CSSOM import: ${u}`);continue}u&&r.visitedSheets.add(u);let l={...r,depth:(r.depth||0)+1};await Ct(i.styleSheet,u,n,l);continue}if(i.type===CSSRule.FONT_FACE_RULE){let u=(i.style.getPropertyValue("font-family")||"").trim(),l=Ae(u);if(!l||ee(l))continue;let f=(i.style.getPropertyValue("font-weight")||"400").trim(),d=(i.style.getPropertyValue("font-style")||"normal").trim(),p=(i.style.getPropertyValue("font-stretch")||"100%").trim(),h=(i.style.getPropertyValue("src")||"").trim(),g=(i.style.getPropertyValue("unicode-range")||"").trim();if(!r.faceMatchesRequired(l,d,f,p))continue;let m=bt(g);if(!xt(r.usedCodepoints,m))continue;let s={family:l,weightSpec:f,styleSpec:d,stretchSpec:p,unicodeRange:g,srcRaw:h,srcUrls:He(h,t||location.href),href:t||location.href};if(r.simpleExcluder&&r.simpleExcluder(s,m))continue;if(/url\(/i.test(h)){let c=await St(h,t||location.href,r.useProxy);await n(`@font-face{font-family:${l};src:${c};font-style:${d};font-weight:${f};font-stretch:${p};${g?`unicode-range:${g};`:""}}`)}else await n(`@font-face{font-family:${l};src:${h};font-style:${d};font-weight:${f};font-stretch:${p};${g?`unicode-range:${g};`:""}}`)}}}async function vn({required:e,usedCodepoints:t,exclude:n=void 0,localFonts:r=[],useProxy:o=""}={}){var s,c,y,x,C,M,E,b,v,$,_,L,O,j,q,V,te,Y;e instanceof Set||(e=new Set),t instanceof Set||(t=new Set);let a=new Map;for(let w of e){let[N,P,W,F]=String(w).split("__");if(!N)continue;let k=a.get(N)||[];k.push({w:parseInt(P,10),s:W,st:parseInt(F,10)}),a.set(N,k)}function i(w,N,P,W){if(!a.has(w))return!1;let F=a.get(w),k=pn(P),R=gn(N),T=yn(W),z=k.min!==k.max,H=k.min,Z=I=>R.kind==="normal"&&I==="normal"||R.kind!=="normal"&&(I==="italic"||I==="oblique"),J=!1;for(let I of F){let B=z?I.w>=k.min&&I.w<=k.max:I.w===H,X=Z(Me(I.s)),me=I.st>=T.min&&I.st<=T.max;if(B&&X&&me){J=!0;break}}if(J)return!0;if(!z)for(let I of F){let B=Z(Me(I.s)),X=I.st>=T.min&&I.st<=T.max;if(Math.abs(H-I.w)<=300&&B&&X)return!0}if(!z&&R.kind==="normal"&&F.some(I=>Me(I.s)!=="normal"))for(let I of F){let B=Math.abs(H-I.w)<=300,X=I.st>=T.min&&I.st<=T.max;if(B&&X)return!0}return!1}let u=Ze(n),l=$n(e,n,r,o);if((s=S.resource)!=null&&s.has(l))return S.resource.get(l);let f=bn(e),d=[],p=Re;for(let w of document.querySelectorAll("style")){let N=w.textContent||"";for(let P of N.matchAll(p)){let W=(P[2]||P[4]||"").trim();!W||ee(W)||document.querySelector(`link[rel="stylesheet"][href="${W}"]`)||d.push(W)}}d.length&&await Promise.all(d.map(w=>new Promise(N=>{if(document.querySelector(`link[rel="stylesheet"][href="${w}"]`))return N(null);let P=document.createElement("link");P.rel="stylesheet",P.href=w,P.setAttribute("data-snapdom","injected-import"),P.onload=()=>N(P),P.onerror=()=>N(null),document.head.appendChild(P)})));let h="",g=Array.from(document.querySelectorAll('link[rel="stylesheet"]')).filter(w=>!!w.href);for(let w of g)try{if(ee(w.href))continue;let N="",P=!1;try{P=new URL(w.href,location.href).origin===location.origin}catch{}if(!P&&!wn(w.href,f))continue;if(P){let F=Array.from(document.styleSheets).find(k=>k.href===w.href);if(F)try{let k=F.cssRules||[];N=Array.from(k).map(R=>R.cssText).join("")}catch{}}if(!N&&(N=(await K(w.href,{as:"text",useProxy:o})).data,ee(w.href)))continue;N=await xn(N,w.href,o);let W="";for(let F of N.match(Sn)||[]){let k=(((c=F.match(/font-family:\s*([^;]+);/i))==null?void 0:c[1])||"").trim(),R=Ae(k);if(!R||ee(R))continue;let T=(((y=F.match(/font-weight:\s*([^;]+);/i))==null?void 0:y[1])||"400").trim(),z=(((x=F.match(/font-style:\s*([^;]+);/i))==null?void 0:x[1])||"normal").trim(),H=(((C=F.match(/font-stretch:\s*([^;]+);/i))==null?void 0:C[1])||"100%").trim(),Z=(((M=F.match(/unicode-range:\s*([^;]+);/i))==null?void 0:M[1])||"").trim(),J=(((E=F.match(/src\s*:\s*([^;}]+)[;}]/i))==null?void 0:E[1])||"").trim(),I=He(J,w.href);if(!i(R,z,T,H))continue;let B=bt(Z);if(!xt(t,B))continue;let X={family:R,weightSpec:T,styleSpec:z,stretchSpec:H,unicodeRange:Z,srcRaw:J,srcUrls:I,href:w.href};if(n&&u(X,B))continue;let me=/url\(/i.test(J)?await St(F,w.href,o):F;W+=me}W.trim()&&(h+=W)}catch{console.warn("[snapDOM] Failed to process stylesheet:",w.href)}let m={requiredIndex:a,usedCodepoints:t,faceMatchesRequired:i,simpleExcluder:n?Ze(n):null,useProxy:o,visitedSheets:new Set,depth:0};for(let w of document.styleSheets)if(!(w.href&&g.some(N=>N.href===w.href)))try{let N=w.href||location.href;N&&m.visitedSheets.add(N),await Ct(w,N,async P=>{h+=P},m)}catch{}try{for(let w of document.fonts||[]){if(!w||!w.family||w.status!=="loaded"||!w._snapdomSrc)continue;let N=String(w.family).replace(/^['"]+|['"]+$/g,"");if(ee(N)||!a.has(N)||n!=null&&n.families&&n.families.some(W=>String(W).toLowerCase()===N.toLowerCase()))continue;let P=w._snapdomSrc;if(!String(P).startsWith("data:")){if((b=S.resource)!=null&&b.has(w._snapdomSrc))P=S.resource.get(w._snapdomSrc),(v=S.font)==null||v.add(w._snapdomSrc);else if(!(($=S.font)!=null&&$.has(w._snapdomSrc)))try{let W=await K(w._snapdomSrc,{as:"dataURL",useProxy:o,silent:!0});if(W.ok&&typeof W.data=="string")P=W.data,(_=S.resource)==null||_.set(w._snapdomSrc,P),(L=S.font)==null||L.add(w._snapdomSrc);else continue}catch{console.warn("[snapDOM] Failed to fetch dynamic font src:",w._snapdomSrc);continue}}h+=`@font-face{font-family:'${N}';src:url(${P});font-style:${w.style||"normal"};font-weight:${w.weight||"normal"};}`}}catch{}for(let w of r){if(!w||typeof w!="object")continue;let N=String(w.family||"").replace(/^['"]+|['"]+$/g,"");if(!N||ee(N)||!a.has(N)||n!=null&&n.families&&n.families.some(T=>String(T).toLowerCase()===N.toLowerCase()))continue;let P=w.weight!=null?String(w.weight):"normal",W=w.style!=null?String(w.style):"normal",F=w.stretchPct!=null?`${w.stretchPct}%`:"100%",k=String(w.src||""),R=k;if(!R.startsWith("data:")){if((O=S.resource)!=null&&O.has(k))R=S.resource.get(k),(j=S.font)==null||j.add(k);else if(!((q=S.font)!=null&&q.has(k)))try{let T=await K(k,{as:"dataURL",useProxy:o,silent:!0});if(T.ok&&typeof T.data=="string")R=T.data,(V=S.resource)==null||V.set(k,R),(te=S.font)==null||te.add(k);else continue}catch{console.warn("[snapDOM] Failed to fetch localFonts src:",k);continue}}h+=`@font-face{font-family:'${N}';src:url(${R});font-style:${W};font-weight:${P};font-stretch:${F};}`}return h&&(h=Mn(h),(Y=S.resource)==null||Y.set(l,h)),h}function kn(e){let t=new Set;if(!e)return t;let n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null),r=i=>{let u=Ae(i.fontFamily);if(!u)return;let l=(f,d,p)=>`${u}__${Ce(f)}__${Me(d)}__${hn(p)}`;t.add(l(i.fontWeight,i.fontStyle,i.fontStretch))};r(getComputedStyle(e));let o=getComputedStyle(e,"::before");o&&o.content&&o.content!=="none"&&r(o);let a=getComputedStyle(e,"::after");for(a&&a.content&&a.content!=="none"&&r(a);n.nextNode();){let i=n.currentNode,u=getComputedStyle(i);r(u);let l=getComputedStyle(i,"::before");l&&l.content&&l.content!=="none"&&r(l);let f=getComputedStyle(i,"::after");f&&f.content&&f.content!=="none"&&r(f)}return t}function An(e){var o;let t=new Set,n=a=>{if(a)for(let i of a)t.add(i.codePointAt(0))},r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null);for(;r.nextNode();){let a=r.currentNode;if(a.nodeType===Node.TEXT_NODE)n(a.nodeValue||"");else if(a.nodeType===Node.ELEMENT_NODE){let i=a;for(let u of["::before","::after"]){let l=(o=getComputedStyle(i,u))==null?void 0:o.getPropertyValue("content");if(!(!l||l==="none"))if(/^"/.test(l)||/^'/.test(l))n(l.slice(1,-1));else{let f=l.match(/\\[0-9A-Fa-f]{1,6}/g);if(f)for(let d of f)try{t.add(parseInt(d.slice(1),16))}catch{}}}}}return t}async function En(e,t=2){try{await document.fonts.ready}catch{}let n=Array.from(e||[]).filter(Boolean);if(n.length===0)return;let r=()=>{let o=document.createElement("div");o.style.cssText="position:absolute!important;left:-9999px!important;top:0!important;opacity:0!important;pointer-events:none!important;contain:layout size style;";for(let a of n){let i=document.createElement("span");i.textContent="AaBbGg1234ÁÉÍÓÚçñ—∞",i.style.fontFamily=`"${a}"`,i.style.fontWeight="700",i.style.fontStyle="italic",i.style.fontSize="32px",i.style.lineHeight="1",i.style.whiteSpace="nowrap",i.style.margin="0",i.style.padding="0",o.appendChild(i)}document.body.appendChild(o),o.offsetWidth,document.body.removeChild(o)};for(let o=0;o<Math.max(1,t);o++)r(),await new Promise(a=>requestAnimationFrame(()=>requestAnimationFrame(a)))}async function _n(e,t,n,r={}){let o=[[e,t]],a=["background-image","mask","mask-image","-webkit-mask","-webkit-mask-image","mask-source","mask-box-image-source","mask-border-source","-webkit-mask-box-image-source","border-image","border-image-source"],i=["mask-position","mask-size","mask-repeat","-webkit-mask-position","-webkit-mask-size","-webkit-mask-repeat","mask-origin","mask-clip","-webkit-mask-origin","-webkit-mask-clip","-webkit-mask-position-x","-webkit-mask-position-y"],u=["background-position","background-position-x","background-position-y","background-size","background-repeat","background-origin","background-clip","background-attachment","background-blend-mode"],l=["border-image-slice","border-image-width","border-image-outset","border-image-repeat"];for(;o.length;){let[f,d]=o.shift(),p=n.get(f)||gt(f);n.has(f)||n.set(f,p);let h=(()=>{let s=p.getPropertyValue("border-image"),c=p.getPropertyValue("border-image-source");return s&&s!=="none"||c&&c!=="none"})();for(let s of u){let c=p.getPropertyValue(s);c&&d.style.setProperty(s,c)}for(let s of a){let c=p.getPropertyValue(s);if(!c||c==="none")continue;let y=yt(c),x=await Promise.all(y.map(C=>ht(C,r)));x.some(C=>C&&C!=="none"&&!/^url\(undefined/.test(C))&&d.style.setProperty(s,x.join(", "))}for(let s of i){let c=p.getPropertyValue(s);!c||c==="initial"||d.style.setProperty(s,c)}if(h)for(let s of l){let c=p.getPropertyValue(s);!c||c==="initial"||d.style.setProperty(s,c)}let g=Array.from(f.children),m=Array.from(d.children).filter(s=>!(s.dataset&&s.dataset.snapdomPseudo));for(let s=0;s<Math.min(g.length,m.length);s++)o.push([g[s],m[s]])}}function ce(e,{fast:t=!1}={}){if(t)return e();"requestIdleCallback"in window?requestIdleCallback(e,{timeout:50}):setTimeout(e,1)}function pe(){if(typeof navigator>"u")return!1;let e=navigator.userAgent||"",t=e.toLowerCase(),n=t.includes("safari")&&!t.includes("chrome")&&!t.includes("crios")&&!t.includes("fxios")&&!t.includes("android"),r=/applewebkit/i.test(e),o=/mobile/i.test(e),a=!/safari/i.test(e),i=r&&o&&a,u=/(micromessenger|wxwork|wecom|windowswechat|macwechat)/i.test(e),l=/(baiduboxapp|baidubrowser|baidusearch|baiduboxlite)/i.test(t),f=/ipad|iphone|ipod/.test(t)&&r;return n||i||u||l||f}var we=[];function Mt(e){if(!e)return null;if(Array.isArray(e)){let[t,n]=e;return typeof t=="function"?t(n):t}if(typeof e=="object"&&"plugin"in e){let{plugin:t,options:n}=e;return typeof t=="function"?t(n):t}return typeof e=="function"?e():e}function Fn(...e){let t=e.flat();for(let n of t){let r=Mt(n);r&&(we.some(o=>o&&o.name&&r.name&&o.name===r.name)||we.push(r))}}function $t(e){return(e&&Array.isArray(e.plugins)?e.plugins:we)||we}async function ae(e,t,n){let r=n,o=$t(t);for(let a of o){let i=a&&typeof a[e]=="function"?a[e]:null;if(!i)continue;let u=await i(t,r);typeof u<"u"&&(r=u)}return r}async function Ln(e,t,n){let r=[],o=$t(t);for(let a of o){let i=a&&typeof a[e]=="function"?a[e]:null;if(!i)continue;let u=await i(t,n);typeof u<"u"&&r.push(u)}return r}function Nn(e){let t=[];if(Array.isArray(e))for(let n of e){let r=Mt(n);if(!r||!r.name)continue;let o=t.findIndex(a=>a&&a.name===r.name);o>=0&&t.splice(o,1),t.push(r)}for(let n of we)n&&n.name&&!t.some(r=>r.name===n.name)&&t.push(n);return Object.freeze(t)}function Tn(e,t,n=!1){return!e||e.plugins&&!n||(e.plugins=Nn(t)),e}var et=new WeakMap,Ie=new Map,We=0;function ge(){We++}var tt=!1;function Pn(e=document.documentElement){var t,n;if(!tt){tt=!0;try{new MutationObserver(()=>ge()).observe(e,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch{}try{new MutationObserver(()=>ge()).observe(document.head,{subtree:!0,childList:!0,characterData:!0,attributes:!0})}catch{}try{let r=document.fonts;r&&((t=r.addEventListener)==null||t.call(r,"loadingdone",ge),(n=r.ready)==null||n.then(()=>ge()).catch(()=>{}))}catch{}}}function Rn(e,t={}){let n={},r=e.getPropertyValue("visibility");for(let a=0;a<e.length;a++){let i=e[a],u=e.getPropertyValue(i);(i==="background-image"||i==="content")&&u.includes("url(")&&!u.includes("data:")&&(u="none"),n[i]=u}let o=["text-decoration-line","text-decoration-color","text-decoration-style","text-decoration-thickness","text-underline-offset","text-decoration-skip-ink"];for(let a of o)if(!n[a])try{let i=e.getPropertyValue(a);i&&(n[a]=i)}catch{}if(t.embedFonts){let a=["font-feature-settings","font-variation-settings","font-kerning","font-variant","font-variant-ligatures","font-optical-sizing"];for(let i of a)if(!n[i])try{let u=e.getPropertyValue(i);u&&(n[i]=u)}catch{}}return r==="hidden"&&(n.opacity="0"),n}var nt=new WeakMap;function In(e){let t=nt.get(e);return t||(t=Object.entries(e).sort((n,r)=>n[0]<r[0]?-1:n[0]>r[0]?1:0).map(([n,r])=>`${n}:${r}`).join(";"),nt.set(e,t),t)}function Wn(e,t=null,n={}){let r=et.get(e);if(r&&r.epoch===We)return r.snapshot;let o=t||getComputedStyle(e),a=Rn(o,n);return Vn(e,o,a),et.set(e,{epoch:We,snapshot:a}),a}function On(e,t){return e&&e.session&&e.persist?e:e&&(e.styleMap||e.styleCache||e.nodeMap)?{session:e,persist:{snapshotKeyCache:Ie,defaultStyle:S.defaultStyle,baseStyle:S.baseStyle,image:S.image,resource:S.resource,background:S.background,font:S.font},options:t||{}}:{session:S.session,persist:{snapshotKeyCache:Ie,defaultStyle:S.defaultStyle,baseStyle:S.baseStyle,image:S.image,resource:S.resource,background:S.background,font:S.font},options:e||t||{}}}async function fe(e,t,n,r){var h,g,m;if(e.tagName==="STYLE")return;let o=On(n,r),a=o.options&&o.options.cache||"auto";if(a!=="disabled"&&Pn(document.documentElement),a==="disabled"&&!o.session.__bumpedForDisabled&&(ge(),Ie.clear(),o.session.__bumpedForDisabled=!0),Ve.has((h=e.tagName)==null?void 0:h.toLowerCase())){let s=(g=e.getAttribute)==null?void 0:g.call(e,"style");s&&t.setAttribute("style",s)}let{session:i,persist:u}=o;i.styleCache.has(e)||i.styleCache.set(e,getComputedStyle(e));let l=i.styleCache.get(e),f=Wn(e,l,o.options),d=In(f),p=u.snapshotKeyCache.get(d);if(!p){let s=((m=e.tagName)==null?void 0:m.toLowerCase())||"div";p=Te(f,s),u.snapshotKeyCache.set(d,p)}i.styleMap.set(t,p)}function Dn(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof HTMLIFrameElement||e instanceof SVGElement||e instanceof HTMLObjectElement||e instanceof HTMLEmbedElement}function qn(e){return e.backgroundImage&&e.backgroundImage!=="none"||e.backgroundColor&&e.backgroundColor!=="rgba(0, 0, 0, 0)"&&e.backgroundColor!=="transparent"||(parseFloat(e.borderTopWidth)||0)>0||(parseFloat(e.borderBottomWidth)||0)>0||(parseFloat(e.paddingTop)||0)>0||(parseFloat(e.paddingBottom)||0)>0?!0:(e.overflowBlock||e.overflowY||"visible")!=="visible"}function jn(e){let t=e.parentElement;if(!t)return!1;let n=getComputedStyle(t).display||"";return n.includes("flex")||n.includes("grid")}function Un(e,t){if(e.textContent&&/\S/.test(e.textContent))return!0;let n=e.firstElementChild,r=e.lastElementChild;if(n&&n.tagName==="BR"||r&&r.tagName==="BR")return!0;let o=e.scrollHeight;if(o===0)return!1;let a=parseFloat(t.paddingTop)||0,i=parseFloat(t.paddingBottom)||0;return o>a+i}function Vn(e,t,n){if(e instanceof HTMLElement&&e.style&&e.style.height)return;let r=e.tagName&&e.tagName.toLowerCase();if(!r||r!=="div"&&r!=="section"&&r!=="article"&&r!=="main"&&r!=="aside"&&r!=="header"&&r!=="footer"&&r!=="nav"&&r!=="ol"&&r!=="ul"&&r!=="li")return;let o=t.display||"";if(o.includes("flex")||o.includes("grid")||Dn(e))return;let a=t.position;if(a==="absolute"||a==="fixed"||a==="sticky"||t.transform!=="none"||qn(t)||jn(e))return;let i=t.overflowX||t.overflow||"visible",u=t.overflowY||t.overflow||"visible";if(i!=="visible"||u!=="visible")return;let l=t.clip;l&&l!=="auto"&&l!=="rect(auto, auto, auto, auto)"||t.visibility==="hidden"||t.opacity==="0"||Un(e,t)&&(delete n.height,delete n["block-size"])}var vt=["fill","stroke","color","background-color","stop-color"],rt=new Map;function Hn(e,t){let n=t+"::"+e.toLowerCase(),r=rt.get(n);if(r)return r;let o=document,a=t==="http://www.w3.org/2000/svg"?o.createElementNS(t,e):o.createElement(e),i=o.createElement("div");i.style.cssText="position:absolute;left:-99999px;top:-99999px;contain:strict;display:block;",i.appendChild(a),o.documentElement.appendChild(i);let u=getComputedStyle(a),l={};for(let f of vt)l[f]=u.getPropertyValue(f)||"";return i.remove(),rt.set(n,l),l}function zn(e,t){var a,i,u;if(!(e instanceof Element)||!(t instanceof Element))return;let n=(a=e.getAttribute)==null?void 0:a.call(e,"style"),r=!!(n&&n.includes("var("));if(!r&&((i=e.attributes)!=null&&i.length)){let l=e.attributes;for(let f=0;f<l.length;f++){let d=l[f];if(d&&typeof d.value=="string"&&d.value.includes("var(")){r=!0;break}}}let o=null;if(r)try{o=getComputedStyle(e)}catch{}if(r){let l=e.style;if(l&&l.length)for(let f=0;f<l.length;f++){let d=l[f],p=l.getPropertyValue(d);if(!p||!p.includes("var("))continue;let h=o&&o.getPropertyValue(d);if(h)try{t.style.setProperty(d,h.trim(),l.getPropertyPriority(d))}catch{}}}if(r&&((u=e.attributes)!=null&&u.length)){let l=e.attributes;for(let f=0;f<l.length;f++){let d=l[f];if(!d||typeof d.value!="string"||!d.value.includes("var("))continue;let p=d.name,h=o&&o.getPropertyValue(p);if(h)try{t.style.setProperty(p,h.trim())}catch{}}}if(!r){if(!o)try{o=getComputedStyle(e)}catch{o=null}if(!o)return;let l=e.namespaceURI||"html",f=Hn(e.tagName,l);for(let d of vt){let p=o.getPropertyValue(d)||"",h=f[d]||"";if(p&&p!==h)try{t.style.setProperty(d,p.trim())}catch{}}}}function Le(e,t,n){return Promise.all(e.map(r=>new Promise(o=>{function a(){ce(i=>{!(i&&typeof i.timeRemaining=="function")||i.timeRemaining()>0?t(r,o):a()},{fast:n})}a()})))}function Bn(e){return e=e.trim(),!e||/:not\(\s*\[data-sd-slotted\]\s*\)\s*$/.test(e)?e:`${e}:not([data-sd-slotted])`}function Xn(e,t,n=!0){return e.split(",").map(r=>r.trim()).filter(Boolean).map(r=>{if(r.startsWith(":where(")||r.startsWith("@"))return r;let o=n?Bn(r):r;return`:where(${t} ${o})`}).join(", ")}function Yn(e,t){return e?(e=e.replace(/:host\(([^)]+)\)/g,(n,r)=>`:where(${t}:is(${r.trim()}))`),e=e.replace(/:host\b/g,`:where(${t})`),e=e.replace(/:host-context\(([^)]+)\)/g,(n,r)=>`:where(:where(${r.trim()}) ${t})`),e=e.replace(/::slotted\(([^)]+)\)/g,(n,r)=>`:where(${t} ${r.trim()})`),e=e.replace(/(^|})(\s*)([^@}{]+){/g,(n,r,o,a)=>{let i=Xn(a,t,!0);return`${r}${o}${i}{`}),e):""}function Gn(e){return e.shadowScopeSeq=(e.shadowScopeSeq||0)+1,`s${e.shadowScopeSeq}`}function Jn(e){let t="";try{e.querySelectorAll("style").forEach(r=>{t+=(r.textContent||"")+`
`});let n=e.adoptedStyleSheets||[];for(let r of n)try{if(r&&r.cssRules)for(let o of r.cssRules)t+=o.cssText+`
`}catch{}}catch{}return t}function Qn(e,t,n){if(!t)return;let r=document.createElement("style");r.setAttribute("data-sd",n),r.textContent=t,e.insertBefore(r,e.firstChild||null)}function Kn(e,t){try{let n=e.currentSrc||e.src||"";if(!n)return;t.setAttribute("src",n),t.removeAttribute("srcset"),t.removeAttribute("sizes"),t.loading="eager",t.decoding="sync"}catch{}}function Zn(e){let t=new Set;if(!e)return t;let n=/var\(\s*(--[A-Za-z0-9_-]+)\b/g,r;for(;r=n.exec(e);)t.add(r[1]);return t}function er(e,t){try{let n=getComputedStyle(e).getPropertyValue(t).trim();if(n)return n}catch{}try{let n=getComputedStyle(document.documentElement).getPropertyValue(t).trim();if(n)return n}catch{}return""}function tr(e,t,n){let r=[];for(let o of t){let a=er(e,o);a&&r.push(`${o}: ${a};`)}return r.length?`${n}{${r.join("")}}
`:""}function nr(e){e&&(e.nodeType===Node.ELEMENT_NODE&&e.setAttribute("data-sd-slotted",""),e.querySelectorAll&&e.querySelectorAll("*").forEach(t=>t.setAttribute("data-sd-slotted","")))}async function rr(e,t=3){let n=()=>{var a;try{return e.contentDocument||((a=e.contentWindow)==null?void 0:a.document)||null}catch{return null}},r=n(),o=0;for(;o<t&&(!r||!r.body&&!r.documentElement);)await new Promise(a=>setTimeout(a,0)),r=n(),o++;return r&&(r.body||r.documentElement)?r:null}function or(e){let t=e.getBoundingClientRect(),n=0,r=0,o=0,a=0;try{let l=getComputedStyle(e);n=parseFloat(l.borderLeftWidth)||0,r=parseFloat(l.borderRightWidth)||0,o=parseFloat(l.borderTopWidth)||0,a=parseFloat(l.borderBottomWidth)||0}catch{}let i=Math.max(0,Math.round(t.width-(n+r))),u=Math.max(0,Math.round(t.height-(o+a)));return{contentWidth:i,contentHeight:u,rect:t}}function ar(e,t,n){let r=e.createElement("style");return r.setAttribute("data-sd-iframe-pin",""),r.textContent=`html, body {margin: 0 !important;padding: 0 !important;width: ${t}px !important;height: ${n}px !important;min-width: ${t}px !important;min-height: ${n}px !important;box-sizing: border-box !important;overflow: hidden !important;background-clip: border-box !important;}`,(e.head||e.documentElement).appendChild(r),()=>{try{r.remove()}catch{}}}async function ir(e,t,n){let r=await rr(e,3);if(!r)throw new Error("iframe document not accessible/ready");let{contentWidth:o,contentHeight:a,rect:i}=or(e),u=n==null?void 0:n.snap;if(!u||typeof u.toPng!="function")throw new Error("snapdom.toPng not available in iframe or window");let l={...n,scale:1},f=ar(r,o,a),d;try{d=await u.toPng(r.documentElement,l)}finally{f()}d.style.display="block",d.style.width=`${o}px`,d.style.height=`${a}px`;let p=document.createElement("div");return t.nodeMap.set(p,e),fe(e,p,t,n),p.style.overflow="hidden",p.style.display="block",p.style.width||(p.style.width=`${Math.round(i.width)}px`),p.style.height||(p.style.height=`${Math.round(i.height)}px`),p.appendChild(d),p}var he=new Map;async function ye(e){var n;if((n=S.resource)!=null&&n.has(e))return S.resource.get(e);if(he.has(e))return he.get(e);let t=(async()=>{var o;let r=await K(e,{as:"dataURL",silent:!0});if(!r.ok||typeof r.data!="string")throw new Error(`[snapDOM] Failed to read blob URL: ${e}`);return(o=S.resource)==null||o.set(e,r.data),r.data})();he.set(e,t);try{let r=await t;return he.set(e,r),r}catch(r){throw he.delete(e),r}}var lr=/\bblob:[^)"'\s]+/g;async function ot(e){if(!e||e.indexOf("blob:")===-1)return e;let t=Array.from(new Set(e.match(lr)||[]));if(t.length===0)return e;let n=e;for(let r of t)try{let o=await ye(r);n=n.split(r).join(o)}catch{}return n}function Se(e){return typeof e=="string"&&e.startsWith("blob:")}function sr(e){return(e||"").split(",").map(t=>t.trim()).filter(Boolean).map(t=>{let n=t.match(/^(\S+)(\s+.+)?$/);return n?{url:n[1],desc:n[2]||""}:null}).filter(Boolean)}function ur(e){return e.map(t=>t.desc?`${t.url} ${t.desc.trim()}`:t.url).join(", ")}async function cr(e){var i,u;if(!e)return;let t=e.querySelectorAll?e.querySelectorAll("img"):[];for(let l of t)try{let f=l.getAttribute("src")||l.currentSrc||"";if(Se(f)){let p=await ye(f);l.setAttribute("src",p)}let d=l.getAttribute("srcset");if(d&&d.includes("blob:")){let p=sr(d),h=!1;for(let g of p)if(Se(g.url))try{g.url=await ye(g.url),h=!0}catch{}h&&l.setAttribute("srcset",ur(p))}}catch{}let n=e.querySelectorAll?e.querySelectorAll("image"):[];for(let l of n)try{let f="http://www.w3.org/1999/xlink",d=l.getAttribute("href")||((i=l.getAttributeNS)==null?void 0:i.call(l,f,"href"));if(Se(d)){let p=await ye(d);l.setAttribute("href",p),(u=l.removeAttributeNS)==null||u.call(l,f,"href")}}catch{}let r=e.querySelectorAll?e.querySelectorAll("[style*='blob:']"):[];for(let l of r)try{let f=l.getAttribute("style");if(f&&f.includes("blob:")){let d=await ot(f);l.setAttribute("style",d)}}catch{}let o=e.querySelectorAll?e.querySelectorAll("style"):[];for(let l of o)try{let f=l.textContent||"";f.includes("blob:")&&(l.textContent=await ot(f))}catch{}let a=["poster"];for(let l of a){let f=e.querySelectorAll?e.querySelectorAll(`[${l}^='blob:']`):[];for(let d of f)try{let p=d.getAttribute(l);Se(p)&&d.setAttribute(l,await ye(p))}catch{}}}async function $e(e,t,n){var f,d,p,h,g,m;if(!e)throw new Error("Invalid node");let r=new Set,o=null,a=null;if(e.nodeType===Node.ELEMENT_NODE){let s=(e.localName||e.tagName||"").toLowerCase();if(e.id==="snapdom-sandbox"||e.hasAttribute("data-snapdom-sandbox")||Yt.has(s))return null}if(e.nodeType===Node.TEXT_NODE||e.nodeType!==Node.ELEMENT_NODE)return e.cloneNode(!0);if(e.getAttribute("data-capture")==="exclude"){if(n.excludeMode==="hide"){let s=document.createElement("div"),c=e.getBoundingClientRect();return s.style.cssText=`display:inline-block;width:${c.width}px;height:${c.height}px;visibility:hidden;`,s}else if(n.excludeMode==="remove")return null}if(n.exclude&&Array.isArray(n.exclude))for(let s of n.exclude)try{if((f=e.matches)!=null&&f.call(e,s)){if(n.excludeMode==="hide"){let c=document.createElement("div"),y=e.getBoundingClientRect();return c.style.cssText=`display:inline-block;width:${y.width}px;height:${y.height}px;visibility:hidden;`,c}else if(n.excludeMode==="remove")return null}}catch(c){console.warn(`Invalid selector in exclude option: ${s}`,c)}if(typeof n.filter=="function")try{if(!n.filter(e)){if(n.filterMode==="hide"){let s=document.createElement("div"),c=e.getBoundingClientRect();return s.style.cssText=`display:inline-block;width:${c.width}px;height:${c.height}px;visibility:hidden;`,s}else if(n.filterMode==="remove")return null}}catch(s){console.warn("Error in filter function:",s)}if(e.tagName==="IFRAME"){let s=!1;try{s=!!(e.contentDocument||(d=e.contentWindow)!=null&&d.document)}catch{s=!1}if(s)try{return await ir(e,t,n)}catch(c){console.warn("[SnapDOM] iframe rasterization failed, fallback:",c)}if(n.placeholders){let c=document.createElement("div");return c.style.cssText=`width:${e.offsetWidth}px;height:${e.offsetHeight}px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;`,fe(e,c,t,n),c}else{let c=e.getBoundingClientRect(),y=document.createElement("div");return y.style.cssText=`display:inline-block;width:${c.width}px;height:${c.height}px;visibility:hidden;`,fe(e,y,t,n),y}}if(e.getAttribute("data-capture")==="placeholder"){let s=e.cloneNode(!1);t.nodeMap.set(s,e),fe(e,s,t,n);let c=document.createElement("div");return c.textContent=e.getAttribute("data-placeholder-text")||"",c.style.cssText="color:#666;font-size:12px;text-align:center;line-height:1.4;padding:0.5em;box-sizing:border-box;",s.appendChild(c),s}if(e.tagName==="CANVAS"){let s="";try{let y=e.getContext("2d",{willReadFrequently:!0});try{y&&y.getImageData(0,0,1,1)}catch{}if(await new Promise(x=>requestAnimationFrame(x)),s=e.toDataURL("image/png"),!s||s==="data:,"){try{y&&y.getImageData(0,0,1,1)}catch{}if(await new Promise(x=>requestAnimationFrame(x)),s=e.toDataURL("image/png"),!s||s==="data:,"){let x=document.createElement("canvas");x.width=e.width,x.height=e.height;let C=x.getContext("2d");C&&(C.drawImage(e,0,0),s=x.toDataURL("image/png"))}}}catch{}let c=document.createElement("img");try{c.decoding="sync",c.loading="eager"}catch{}s&&(c.src=s),c.width=e.width,c.height=e.height;try{let y=getComputedStyle(e);y.width&&(c.style.width=y.width),y.height&&(c.style.height=y.height)}catch{}return t.nodeMap.set(c,e),fe(e,c,t,n),c}let i;try{if(i=e.cloneNode(!1),zn(e,i),t.nodeMap.set(i,e),e.tagName==="IMG"){Kn(e,i);try{let s=e.getBoundingClientRect(),c=Math.round(s.width||0),y=Math.round(s.height||0);if(!c||!y){let x=window.getComputedStyle(e),C=parseFloat(x.width)||0,M=parseFloat(x.height)||0,E=parseInt(e.getAttribute("width")||"",10)||0,b=parseInt(e.getAttribute("height")||"",10)||0,v=e.width||e.naturalWidth||0,$=e.height||e.naturalHeight||0;c=Math.round(c||C||E||v||0),y=Math.round(y||M||b||$||0)}c&&(i.dataset.snapdomWidth=String(c)),y&&(i.dataset.snapdomHeight=String(y))}catch{}try{let s=e.getAttribute("style")||"",c=window.getComputedStyle(e),y=b=>{let v=s.match(new RegExp(`${b}\\s*:\\s*([^;]+)`,"i")),$=v?v[1].trim():c.getPropertyValue(b);return/%|auto/i.test(String($||""))},x=parseInt(i.dataset.snapdomWidth||"0",10),C=parseInt(i.dataset.snapdomHeight||"0",10),M=y("width")||!x,E=y("height")||!C;M&&x&&(i.style.width=`${x}px`),E&&C&&(i.style.height=`${C}px`),x&&(i.style.minWidth=`${x}px`),C&&(i.style.minHeight=`${C}px`)}catch{}}}catch(s){throw console.error("[Snapdom] Failed to clone node:",e,s),s}if(e instanceof HTMLTextAreaElement){let s=e.getBoundingClientRect();i.style.width=`${s.width}px`,i.style.height=`${s.height}px`}if(e instanceof HTMLInputElement&&(i.value=e.value,i.setAttribute("value",e.value),e.checked!==void 0&&(i.checked=e.checked,e.checked&&i.setAttribute("checked",""),e.indeterminate&&(i.indeterminate=e.indeterminate))),e instanceof HTMLSelectElement&&(o=e.value),e instanceof HTMLTextAreaElement&&(a=e.value),fe(e,i,t,n),e.shadowRoot){let s=function($,_){if($.nodeType===Node.ELEMENT_NODE&&$.tagName==="STYLE")return _(null);$e($,t,n).then(L=>{_(L||null)}).catch(()=>{_(null)})};try{let $=e.shadowRoot.querySelectorAll("slot");for(let _ of $){let L=[];try{L=((p=_.assignedNodes)==null?void 0:p.call(_,{flatten:!0}))||((h=_.assignedNodes)==null?void 0:h.call(_))||[]}catch{L=((g=_.assignedNodes)==null?void 0:g.call(_))||[]}for(let O of L)r.add(O)}}catch{}let c=Gn(t),y=`[data-sd="${c}"]`;try{i.setAttribute("data-sd",c)}catch{}let x=Jn(e.shadowRoot),C=Yn(x,y),M=Zn(x),E=tr(e,M,y);Qn(i,E+C,c);let b=document.createDocumentFragment(),v=await Le(Array.from(e.shadowRoot.childNodes),s,n.fast);b.append(...v.filter($=>!!$)),i.appendChild(b)}if(e.tagName==="SLOT"){let s=function(M,E){$e(M,t,n).then(b=>{b&&nr(b),E(b||null)}).catch(()=>{E(null)})},c=((m=e.assignedNodes)==null?void 0:m.call(e,{flatten:!0}))||[],y=c.length>0?c:Array.from(e.childNodes),x=document.createDocumentFragment(),C=await Le(Array.from(y),s,n.fast);return x.append(...C.filter(M=>!!M)),x}function u(s,c){if(r.has(s))return c(null);$e(s,t,n).then(y=>{c(y||null)}).catch(()=>{c(null)})}let l=await Le(Array.from(e.childNodes),u,n.fast);if(i.append(...l.filter(s=>!!s)),o!==null&&i instanceof HTMLSelectElement){i.value=o;for(let s of i.options)s.value===o?s.setAttribute("selected",""):s.removeAttribute("selected")}return a!==null&&i instanceof HTMLTextAreaElement&&(i.textContent=a),i}function fr(e){return/\bcounter\s*\(|\bcounters\s*\(/.test(e||"")}function dr(e){return(e||"").replace(/"([^"]*)"/g,"$1")}function at(e,t=!1){let n="",r=Math.max(1,e);for(;r>0;)r--,n=String.fromCharCode(97+r%26)+n,r=Math.floor(r/26);return t?n.toUpperCase():n}function it(e,t=!0){let n=[[1e3,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]],r=Math.max(1,Math.min(3999,e)),o="";for(let[a,i]of n)for(;r>=a;)o+=i,r-=a;return t?o:o.toLowerCase()}function lt(e,t){switch((t||"decimal").toLowerCase()){case"decimal":return String(Math.max(0,e));case"decimal-leading-zero":return(e<10?"0":"")+String(Math.max(0,e));case"lower-alpha":return at(e,!1);case"upper-alpha":return at(e,!0);case"lower-roman":return it(e,!1);case"upper-roman":return it(e,!0);default:return String(Math.max(0,e))}}function mr(e){let t=()=>{var h;return((h=S==null?void 0:S.session)==null?void 0:h.__counterEpoch)??0},n=t(),r=new WeakMap,o=e instanceof Document?e.documentElement:e,a=h=>h&&h.tagName==="LI",i=h=>{let g=0,m=h==null?void 0:h.parentElement;if(!m)return 0;for(let s of m.children){if(s===h)break;s.tagName==="LI"&&g++}return g},u=h=>{let g=new Map;for(let[m,s]of h)g.set(m,s.slice());return g},l=(h,g,m)=>{var x,C;let s=u(h),c;try{c=((x=m.style)==null?void 0:x.counterReset)||getComputedStyle(m).counterReset}catch{}if(c&&c!=="none")for(let M of c.split(",")){let E=M.trim().split(/\s+/),b=E[0],v=Number.isFinite(Number(E[1]))?Number(E[1]):0;if(!b)continue;let $=g.get(b);if($&&$.length){let _=$.slice();_.push(v),s.set(b,_)}else s.set(b,[v])}let y;try{y=((C=m.style)==null?void 0:C.counterIncrement)||getComputedStyle(m).counterIncrement}catch{}if(y&&y!=="none")for(let M of y.split(",")){let E=M.trim().split(/\s+/),b=E[0],v=Number.isFinite(Number(E[1]))?Number(E[1]):1;if(!b)continue;let $=s.get(b)||[];$.length===0&&$.push(0),$[$.length-1]+=v,s.set(b,$)}try{if(getComputedStyle(m).display==="list-item"&&a(m)){let M=m.parentElement,E=1;if(M&&M.tagName==="OL"){let v=M.getAttribute("start"),$=Number.isFinite(Number(v))?Number(v):1,_=i(m),L=m.getAttribute("value");E=Number.isFinite(Number(L))?Number(L):$+_}else E=1+i(m);let b=s.get("list-item")||[];b.length===0&&b.push(0),b[b.length-1]=E,s.set("list-item",b)}}catch{}return s},f=(h,g,m)=>{let s=l(m,g,h);r.set(h,s);let c=s;for(let y of h.children)c=f(y,s,c);return s},d=new Map;f(o,d,d);function p(){let h=t();if(h!==n){n=h;let g=new Map;f(o,g,g)}}return{get(h,g){var s;p();let m=(s=r.get(h))==null?void 0:s.get(g);return m&&m.length?m[m.length-1]:0},getStack(h,g){var s;p();let m=(s=r.get(h))==null?void 0:s.get(g);return m?m.slice():[]}}}function hr(e,t,n){if(!e||e==="none")return e;try{let r=/\b(counter|counters)\s*\(([^)]+)\)/g,o=e.replace(r,(a,i,u)=>{var f,d,p;let l=String(u).split(",").map(h=>h.trim());if(i==="counter"){let h=(f=l[0])==null?void 0:f.replace(/^["']|["']$/g,""),g=(l[1]||"decimal").toLowerCase(),m=n.get(t,h);return lt(m,g)}else{let h=(d=l[0])==null?void 0:d.replace(/^["']|["']$/g,""),g=((p=l[1])==null?void 0:p.replace(/^["']|["']$/g,""))??"",m=(l[2]||"decimal").toLowerCase(),s=n.getStack(t,h);return s.length?s.map(c=>lt(c,m)).join(g):""}});return dr(o)}catch{return"- "}}var ue=new WeakMap,st=300;function pr(e,t){let n=kt(e);return t?(t.__pseudoPreflightFp!==n&&(t.__pseudoPreflight=ct(e),t.__pseudoPreflightFp=n),!!t.__pseudoPreflight):ct(e)}function Oe(e){try{return e&&e.cssRules?e.cssRules:null}catch{return null}}function kt(e){let t=e.querySelectorAll('style,link[rel~="stylesheet"]'),n=`n:${t.length}|`,r=0;for(let a=0;a<t.length;a++){let i=t[a];if(i.tagName==="STYLE"){let u=i.textContent?i.textContent.length:0;n+=`S${u}|`;let l=i.sheet,f=l?Oe(l):null;f&&(r+=f.length)}else{let u=i.getAttribute("href")||"",l=i.getAttribute("media")||"all";n+=`L${u}|m:${l}|`;let f=i.sheet,d=f?Oe(f):null;d&&(r+=d.length)}}let o=e.adoptedStyleSheets;return n+=`ass:${Array.isArray(o)?o.length:0}|tr:${r}`,n}function ut(e,t,n){let r=Oe(e);if(!r)return!1;for(let o=0;o<r.length;o++){if(n.budget<=0)return!1;let a=r[o],i=a&&a.cssText?a.cssText:"";n.budget--;for(let u of t)if(i.includes(u))return!0;if(a&&a.cssRules&&a.cssRules.length)for(let u=0;u<a.cssRules.length&&n.budget>0;u++){let l=a.cssRules[u],f=l&&l.cssText?l.cssText:"";n.budget--;for(let d of t)if(f.includes(d))return!0}if(n.budget<=0)return!1}return!1}function ct(e=document){let t=kt(e),n=ue.get(e);if(n&&n.fingerprint===t)return n.result;let r=["::before","::after","::first-letter",":before",":after",":first-letter","counter(","counters(","counter-increment","counter-reset"],o=e.querySelectorAll("style");for(let i=0;i<o.length;i++){let u=o[i].textContent||"";for(let l of r)if(u.includes(l))return ue.set(e,{fingerprint:t,result:!0}),!0}let a=e.adoptedStyleSheets;if(Array.isArray(a)&&a.length){let i={budget:st};try{for(let u of a)if(ut(u,r,i))return ue.set(e,{fingerprint:t,result:!0}),!0}catch{}}{let i=e.querySelectorAll('style,link[rel~="stylesheet"]'),u={budget:st};for(let l=0;l<i.length&&u.budget>0;l++){let f=i[l],d=null;if(f.tagName,d=f.sheet||null,d&&ut(d,r,u))return ue.set(e,{fingerprint:t,result:!0}),!0}}return e.querySelector('[style*="counter("], [style*="counters("]')?(ue.set(e,{fingerprint:t,result:!0}),!0):(ue.set(e,{fingerprint:t,result:!1}),!1)}var de=new WeakMap,ft=-1;function gr(e){return(e||"").replace(/"([^"]*)"/g,"$1")}function yr(e){if(!e)return"";let t=[],n=/"([^"]*)"/g,r;for(;r=n.exec(e);)t.push(r[1]);return t.length?t.join(""):gr(e)}function De(e,t){let n=e.parentElement,r=n?de.get(n):null;return r?{get(o,a){let i=t.get(o,a),u=r.get(a);return typeof u=="number"?Math.max(i,u):i},getStack(o,a){let i=t.getStack(o,a);if(!i.length)return i;let u=r.get(a);if(typeof u=="number"){let l=i.slice();return l[l.length-1]=Math.max(l[l.length-1],u),l}return i}}:t}function qe(e,t,n){let r=new Map;function o(l){let f=[];if(!l||l==="none")return f;for(let d of String(l).split(",")){let p=d.trim().split(/\s+/),h=p[0],g=Number.isFinite(Number(p[1]))?Number(p[1]):void 0;h&&f.push({name:h,num:g})}return f}let a=o(t==null?void 0:t.counterReset),i=o(t==null?void 0:t.counterIncrement);function u(l){if(r.has(l))return r.get(l).slice();let f=n.getStack(e,l);f=f.length?f.slice():[];let d=a.find(h=>h.name===l);if(d){let h=Number.isFinite(d.num)?d.num:0;f=f.length?[...f,h]:[h]}let p=i.find(h=>h.name===l);if(p){let h=Number.isFinite(p.num)?p.num:1;f.length===0&&(f=[0]),f[f.length-1]+=h}return r.set(l,f.slice()),f}return{get(l,f){let d=u(f);return d.length?d[d.length-1]:0},getStack(l,f){return u(f)},__incs:i}}function wr(e,t,n){let r;try{r=getComputedStyle(e,t)}catch{}let o=r==null?void 0:r.content;if(!o||o==="none"||o==="normal")return{text:"",incs:[]};let a=De(e,n),i=qe(e,r,a),u=fr(o)?hr(o,e,i):o;return{text:yr(u),incs:i.__incs||[]}}async function At(e,t,n,r){var f,d,p;if(!(e instanceof Element)||!(t instanceof Element))return;let o=e.ownerDocument||document;if(!pr(o,n))return;let a=((f=S==null?void 0:S.session)==null?void 0:f.__counterEpoch)??0;if(ft!==a&&(de=new WeakMap,n&&(n.__counterCtx=null),ft=a),!n.__counterCtx)try{n.__counterCtx=mr(e.ownerDocument||document)}catch{}let i=n.__counterCtx;for(let h of["::before","::after","::first-letter"])try{let g=gt(e,h);if(!g||g.content==="none"&&g.backgroundImage==="none"&&g.backgroundColor==="transparent"&&(g.borderStyle==="none"||parseFloat(g.borderWidth)===0)&&(!g.transform||g.transform==="none")&&g.display==="inline")continue;if(h==="::first-letter"){let F=getComputedStyle(e);if(!(g.color!==F.color||g.fontSize!==F.fontSize||g.fontWeight!==F.fontWeight))continue;let k=Array.from(t.childNodes).find(B=>{var X;return B.nodeType===Node.TEXT_NODE&&((X=B.textContent)==null?void 0:X.trim().length)>0});if(!k)continue;let R=k.textContent,T=(d=R.match(/^([^\p{L}\p{N}\s]*[\p{L}\p{N}](?:['’])?)/u))==null?void 0:d[0],z=R.slice((T==null?void 0:T.length)||0);if(!T||/[\uD800-\uDFFF]/.test(T))continue;let H=document.createElement("span");H.textContent=T,H.dataset.snapdomPseudo="::first-letter";let Z=Je(g),J=Te(Z,"span");n.styleMap.set(H,J);let I=document.createTextNode(z);t.replaceChild(I,k),t.insertBefore(H,I);continue}let m=g.content??"",s=m===""||m==="none"||m==="normal",{text:c,incs:y}=wr(e,h,i),x=g.backgroundImage,C=g.backgroundColor,M=g.fontFamily,E=parseInt(g.fontSize)||32,b=parseInt(g.fontWeight)||!1,v=g.color||"#000",$=g.borderStyle,_=parseFloat(g.borderWidth),L=g.transform,O=ee(M),j=!s&&c!=="",q=x&&x!=="none",V=C&&C!=="transparent"&&C!=="rgba(0, 0, 0, 0)",te=$&&$!=="none"&&_>0,Y=L&&L!=="none";if(!(j||q||V||te||Y)){if(y&&y.length&&e.parentElement){let F=de.get(e.parentElement)||new Map;for(let{name:k}of y){if(!k)continue;let R=De(e,i),T=qe(e,getComputedStyle(e,h),R).get(e,k);F.set(k,T)}de.set(e.parentElement,F)}continue}let w=document.createElement("span");w.dataset.snapdomPseudo=h,w.style.pointerEvents="none";let N=Je(g),P=Te(N,"span");if(n.styleMap.set(w,P),O&&c&&c.length===1){let{dataUrl:F,width:k,height:R}=await dn(c,M,b,E,v),T=document.createElement("img");T.src=F,T.style=`height:${E}px;width:${k/R*E}px;object-fit:contain;`,w.appendChild(T),t.dataset.snapdomHasIcon="true"}else if(c&&c.startsWith("url(")){let F=Ue(c);if(F!=null&&F.trim())try{let k=document.createElement("img"),R=await K(ve(F),{as:"dataURL",useProxy:r.useProxy});k.src=R.data,k.style=`width:${E}px;height:auto;object-fit:contain;`,w.appendChild(k)}catch(k){console.error(`[snapdom] Error in pseudo ${h} for`,e,k)}}else!O&&j&&(w.textContent=c);w.style.backgroundImage="none","maskImage"in w.style&&(w.style.maskImage="none"),"webkitMaskImage"in w.style&&(w.style.webkitMaskImage="none");try{w.style.backgroundRepeat=g.backgroundRepeat,w.style.backgroundSize=g.backgroundSize,g.backgroundPositionX&&g.backgroundPositionY?(w.style.backgroundPositionX=g.backgroundPositionX,w.style.backgroundPositionY=g.backgroundPositionY):w.style.backgroundPosition=g.backgroundPosition,w.style.backgroundOrigin=g.backgroundOrigin,w.style.backgroundClip=g.backgroundClip,w.style.backgroundAttachment=g.backgroundAttachment,w.style.backgroundBlendMode=g.backgroundBlendMode}catch{}if(q)try{let F=yt(x),k=await Promise.all(F.map(ht));w.style.backgroundImage=k.join(", ")}catch(F){console.warn(`[snapdom] Failed to inline background-image for ${h}`,F)}V&&(w.style.backgroundColor=C);let W=w.childNodes.length>0||((p=w.textContent)==null?void 0:p.trim())!==""||q||V||te||Y;if(y&&y.length&&e.parentElement){let F=de.get(e.parentElement)||new Map,k=De(e,i),R=qe(e,getComputedStyle(e,h),k);for(let{name:T}of y){if(!T)continue;let z=R.get(e,T);F.set(T,z)}de.set(e.parentElement,F)}if(!W)continue;h==="::before"?t.insertBefore(w,t.firstChild):t.appendChild(w)}catch(g){console.warn(`[snapdom] Failed to capture ${h} for`,e,g)}let u=Array.from(e.children),l=Array.from(t.children).filter(h=>!h.dataset.snapdomPseudo);for(let h=0;h<Math.min(u.length,l.length);h++)await At(u[h],l[h],n,r)}function br(e,t){var M,E;if(!e||!(e instanceof Element))return;let n=e.ownerDocument||document,r=n,o=e instanceof SVGSVGElement?[e]:Array.from(e.querySelectorAll("svg"));if(o.length===0)return;let a=/url\(\s*#([^)]+)\)/g,i=["fill","stroke","filter","clip-path","mask","marker","marker-start","marker-mid","marker-end"],u=b=>window.CSS&&CSS.escape?CSS.escape(b):b.replace(/[^a-zA-Z0-9_-]/g,"\\$&"),l="http://www.w3.org/1999/xlink",f=b=>{if(!b||!b.getAttribute)return null;let v=b.getAttribute("href")||b.getAttribute("xlink:href")||(typeof b.getAttributeNS=="function"?b.getAttributeNS(l,"href"):null);if(v)return v;let $=b.attributes;if(!$)return null;for(let _=0;_<$.length;_++){let L=$[_];if(!L||!L.name)continue;if(L.name==="href")return L.value;let O=L.name.indexOf(":");if(O!==-1&&L.name.slice(O+1)==="href")return L.value}return null},d=new Set(Array.from(e.querySelectorAll("[id]")).map(b=>b.id)),p=new Set,h=!1,g=(b,v=null)=>{if(!b)return;a.lastIndex=0;let $;for(;$=a.exec(b);){h=!0;let _=($[1]||"").trim();_&&(d.has(_)||(p.add(_),v&&!v.has(_)&&v.add(_)))}},m=b=>{let v=b.querySelectorAll("use");for(let _ of v){let L=f(_);if(!L||!L.startsWith("#"))continue;h=!0;let O=L.slice(1).trim();O&&!d.has(O)&&p.add(O)}let $=b.querySelectorAll('*[style*="url("],*[fill^="url("], *[stroke^="url("],*[filter^="url("],*[clip-path^="url("],*[mask^="url("],*[marker^="url("],*[marker-start^="url("],*[marker-mid^="url("],*[marker-end^="url("]');for(let _ of $){g(_.getAttribute("style")||"");for(let L of i)g(_.getAttribute(L))}};for(let b of o)m(b);if(!h)return;let s=e.querySelector("svg.inline-defs-container");s||(s=n.createElementNS("http://www.w3.org/2000/svg","svg"),s.classList.add("inline-defs-container"),s.setAttribute("aria-hidden","true"),s.setAttribute("style","position:absolute;width:0;height:0;overflow:hidden"),e.insertBefore(s,e.firstChild||null));let c=s.querySelector("defs")||null,y=b=>{if(!b||d.has(b))return null;let v=u(b),$=_=>{let L=r.querySelector(_);return L&&!e.contains(L)?L:null};return $(`svg defs > *#${v}`)||$(`svg > symbol#${v}`)||$(`*#${v}`)};if(!p.size)return;let x=new Set(p),C=new Set;for(;x.size;){let b=x.values().next().value;if(x.delete(b),!b||d.has(b)||C.has(b))continue;let v=y(b);if(!v){C.add(b);continue}c||(c=n.createElementNS("http://www.w3.org/2000/svg","defs"),s.appendChild(c));let $=v.cloneNode(!0);$.id||$.setAttribute("id",b),c.appendChild($),C.add(b),d.add(b);let _=[$,...$.querySelectorAll("*")];for(let L of _){let O=f(L);if(O&&O.startsWith("#")){let q=O.slice(1).trim();q&&!d.has(q)&&!C.has(q)&&x.add(q)}let j=((M=L.getAttribute)==null?void 0:M.call(L,"style"))||"";j&&g(j,x);for(let q of i){let V=(E=L.getAttribute)==null?void 0:E.call(L,q);V&&g(V,x)}}}}function xr(e,t){var u;if(!e||!t)return;let n=e.scrollTop||0;if(!n)return;getComputedStyle(t).position==="static"&&(t.style.position="relative");let r=e.getBoundingClientRect(),o=e.clientHeight,a="data-snap-ph",i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;i.nextNode();){let l=i.currentNode,f=getComputedStyle(l),d=f.position;if(d!=="sticky"&&d!=="-webkit-sticky")continue;let p=dt(f.top),h=dt(f.bottom);if(p==null&&h==null)continue;let g=Sr(l,e),m=Cr(t,g,a);if(!m)continue;let s=l.getBoundingClientRect(),c=s.width,y=s.height,x=s.left-r.left;if(!(c>0&&y>0)||!Number.isFinite(x))continue;let C=p!=null?p+n:n+(o-y-h);if(!Number.isFinite(C))continue;let M=Number.parseInt(f.zIndex,10),E=Number.isFinite(M),b=E?Math.max(M,1)+1:2,v=E?M-1:0,$=m.cloneNode(!1);$.setAttribute(a,"1"),$.style.position="sticky",$.style.left=`${x}px`,$.style.top=`${C}px`,$.style.width=`${c}px`,$.style.height=`${y}px`,$.style.visibility="hidden",$.style.zIndex=String(v),$.style.overflow="hidden",$.style.background="transparent",$.style.boxShadow="none",$.style.filter="none",(u=m.parentElement)==null||u.insertBefore($,m),m.style.position="absolute",m.style.left=`${x}px`,m.style.top=`${C}px`,m.style.bottom="auto",m.style.zIndex=String(b),m.style.pointerEvents="none"}}function dt(e){if(!e||e==="auto")return null;let t=Number.parseFloat(e);return Number.isFinite(t)?t:null}function Sr(e,t){let n=[];for(let r=e;r&&r!==t;){let o=r.parentElement;if(!o)break;n.push(Array.prototype.indexOf.call(o.children,r)),r=o}return n.reverse()}function Cr(e,t,n){let r=e;for(let o=0;o<t.length;o++)if(r=Mr(r,n)[t[o]],!r)return null;return r instanceof HTMLElement?r:null}function Mr(e,t){let n=[],r=e.children;for(let o=0;o<r.length;o++){let a=r[o];a.hasAttribute(t)||n.push(a)}return n}function $r(e){let t=getComputedStyle(e),n=t.outlineStyle,r=t.outlineWidth,o=t.borderStyle,a=t.borderWidth,i=n!=="none"&&parseFloat(r)>0,u=o==="none"||parseFloat(a)===0;i&&u&&(e.style.border=`${r} solid transparent`)}async function vr(e,t={}){var l,f;let n={styleMap:S.session.styleMap,styleCache:S.session.styleCache,nodeMap:S.session.nodeMap},r,o="",a="";$r(e);try{br(e)}catch(d){console.warn("inlineExternal defs or symbol failed:",d)}try{r=await $e(e,n,t,e)}catch(d){throw console.warn("deepClone failed:",d),d}try{await At(e,r,n,t)}catch(d){console.warn("inlinePseudoElements failed:",d)}await cr(r);try{let d=r.querySelectorAll("style[data-sd]");for(let p of d)a+=p.textContent||"",p.remove()}catch{}let i=tn(n.styleMap);o=Array.from(i.entries()).map(([d,p])=>`.${p}{${d}}`).join(""),o=a+o;for(let[d,p]of n.styleMap.entries()){if(d.tagName==="STYLE")continue;if(d.getRootNode&&d.getRootNode()instanceof ShadowRoot){d.setAttribute("style",p.replace(/;/g,"; "));continue}let h=i.get(p);h&&d.classList.add(h);let g=(l=d.style)==null?void 0:l.backgroundImage,m=(f=d.dataset)==null?void 0:f.snapdomHasIcon;g&&g!=="none"&&(d.style.backgroundImage=g),m&&(d.style.verticalAlign="middle",d.style.display="inline")}for(let[d,p]of n.nodeMap.entries()){let h=p.scrollLeft,g=p.scrollTop;if((h||g)&&d instanceof HTMLElement){d.style.overflow="hidden",d.style.scrollbarWidth="none",d.style.msOverflowStyle="none";let m=document.createElement("div");for(m.style.transform=`translate(${-h}px, ${-g}px)`,m.style.willChange="transform",m.style.display="inline-block",m.style.width="100%";d.firstChild;)m.appendChild(d.firstChild);d.appendChild(m)}}let u=r instanceof HTMLElement&&r.firstElementChild instanceof HTMLElement?r.firstElementChild:r;if(xr(e,u),e===n.nodeMap.get(r)){let d=n.styleCache.get(e)||window.getComputedStyle(e);n.styleCache.set(e,d);let p=jt(d.transform);r.style.margin="0",r.style.top="auto",r.style.left="auto",r.style.right="auto",r.style.bottom="auto",r.style.animation="none",r.style.transition="none",r.style.willChange="auto",r.style.float="none",r.style.clear="none",r.style.transform=p||""}for(let[d,p]of n.nodeMap.entries())p.tagName==="PRE"&&(d.style.marginTop="0",d.style.marginBlockStart="0");return{clone:r,classCSS:o,styleCache:n.styleCache}}function kr(e){var f,d,p,h;let t=parseInt(((f=e.dataset)==null?void 0:f.snapdomWidth)||"",10)||0,n=parseInt(((d=e.dataset)==null?void 0:d.snapdomHeight)||"",10)||0,r=parseInt(e.getAttribute("width")||"",10)||0,o=parseInt(e.getAttribute("height")||"",10)||0,a=parseFloat(((p=e.style)==null?void 0:p.width)||"")||0,i=parseFloat(((h=e.style)==null?void 0:h.height)||"")||0,u=t||a||r||e.width||e.naturalWidth||100,l=n||i||o||e.height||e.naturalHeight||100;return{width:u,height:l}}async function Ar(e,t={}){let n=Array.from(e.querySelectorAll("img")),r=async o=>{if(!o.getAttribute("src")){let d=o.currentSrc||o.src||"";d&&o.setAttribute("src",d)}o.removeAttribute("srcset"),o.removeAttribute("sizes");let a=o.src||"";if(!a)return;let i=await K(a,{as:"dataURL",useProxy:t.useProxy});if(i.ok&&typeof i.data=="string"&&i.data.startsWith("data:")){o.src=i.data,o.width||(o.width=o.naturalWidth||100),o.height||(o.height=o.naturalHeight||100);return}let{width:u,height:l}=kr(o),{fallbackURL:f}=t||{};if(f)try{let d=typeof f=="function"?await f({width:u,height:l,src:a,element:o}):f;if(d){let p=await K(d,{as:"dataURL",useProxy:t.useProxy});o.src=p.data,o.width||(o.width=u),o.height||(o.height=l);return}}catch{}if(t.placeholders!==!1){let d=document.createElement("div");d.style.cssText=[`width:${u}px`,`height:${l}px`,"background:#ccc","display:inline-block","text-align:center",`line-height:${l}px`,"color:#666","font-size:12px","overflow:hidden"].join(";"),d.textContent="img",o.replaceWith(d)}else{let d=document.createElement("div");d.style.cssText=`display:inline-block;width:${u}px;height:${l}px;visibility:hidden;`,o.replaceWith(d)}};for(let o=0;o<n.length;o+=4){let a=n.slice(o,o+4).map(r);await Promise.allSettled(a)}}function Er(e){if(!e)return()=>{};let t=_r(e);if(t<=0)return()=>{};if(!Nr(e))return()=>{};let n=getComputedStyle(e),r=Math.round(Fr(n)*t+Lr(n)),o=e.textContent??"",a=o;if(e.scrollHeight<=r+.5)return()=>{};let i=0,u=o.length,l=-1;for(;i<=u;){let f=i+u>>1;e.textContent=o.slice(0,f)+"…",e.scrollHeight<=r+.5?(l=f,i=f+1):u=f-1}return e.textContent=(l>=0?o.slice(0,l):"")+"…",()=>{e.textContent=a}}function _r(e){let t=getComputedStyle(e),n=t.getPropertyValue("-webkit-line-clamp")||t.getPropertyValue("line-clamp");n=(n||"").trim();let r=parseInt(n,10);return Number.isFinite(r)&&r>0?r:0}function Fr(e){let t=(e.lineHeight||"").trim(),n=parseFloat(e.fontSize)||16;return!t||t==="normal"?Math.round(n*1.2):t.endsWith("px")?parseFloat(t):/^\d+(\.\d+)?$/.test(t)?Math.round(parseFloat(t)*n):t.endsWith("%")?Math.round(parseFloat(t)/100*n):Math.round(n*1.2)}function Lr(e){return(parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)}function Nr(e){return e.childElementCount>0?!1:Array.from(e.childNodes).some(t=>t.nodeType===Node.TEXT_NODE)}function Tr(e,t){if(!e||!t||!t.style)return;let n=getComputedStyle(e);try{t.style.boxShadow="none"}catch{}try{t.style.textShadow="none"}catch{}try{t.style.outline="none"}catch{}let r=(n.filter||"").replace(/\bblur\([^()]*\)\s*/gi,"").replace(/\bdrop-shadow\([^()]*\)\s*/gi,"").trim().replace(/\s+/g," ");try{t.style.filter=r.length?r:"none"}catch{}}function Pr(e){let t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT),n=[];for(;t.nextNode();)n.push(t.currentNode);for(let r of n)r.remove()}function Rr(e,t={}){let{stripFrameworkDirectives:n=!0}=t,r=new Set(["xml","xlink"]),o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;o.nextNode();){let a=o.currentNode;for(let i of Array.from(a.attributes)){let u=i.name;if(u.includes("@")){a.removeAttribute(u);continue}if(u.includes(":")){let l=u.split(":",1)[0];if(!r.has(l)){a.removeAttribute(u);continue}}if(n&&(u.startsWith("x-")||u.startsWith("v-")||u.startsWith(":")||u.startsWith("on:")||u.startsWith("bind:")||u.startsWith("let:")||u.startsWith("class:"))){a.removeAttribute(u);continue}}}}function Ir(e,t={}){e&&(Rr(e,t),Pr(e))}function Wr(e){var t;try{let n=((t=e.getAttribute)==null?void 0:t.call(e,"style"))||"";return/\b(height|width|block-size|inline-size)\s*:/.test(n)}catch{return!1}}function Or(e){return e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof HTMLIFrameElement||e instanceof SVGElement||e instanceof HTMLObjectElement||e instanceof HTMLEmbedElement}function Dr(e,t){if(!(e instanceof Element)||Wr(e)||Or(e))return!1;let n=t.position;if(n==="absolute"||n==="fixed"||n==="sticky")return!1;let r=t.display||"";return!(r.includes("flex")||r.includes("grid")||r.startsWith("table")||t.transform&&t.transform!=="none")}function qr(e,t,n=new Map){function r(o,a){if(!(o instanceof Element)||!(a instanceof Element))return;let i=o.childElementCount>a.childElementCount,u=n.get(o)||getComputedStyle(o);if(n.has(o)||n.set(o,u),i&&Dr(o,u)){a.style.height||(a.style.height="auto"),a.style.width||(a.style.width="auto"),a.style.removeProperty("block-size"),a.style.removeProperty("inline-size"),a.style.minHeight||(a.style.minHeight="0"),a.style.minWidth||(a.style.minWidth="0"),a.style.maxHeight||(a.style.maxHeight="none"),a.style.maxWidth||(a.style.maxWidth="none");let d=u.overflowY||u.overflowBlock||"visible",p=u.overflowX||u.overflowInline||"visible";(d!=="visible"||p!=="visible")&&(a.style.overflow="visible")}let l=Array.from(o.children),f=Array.from(a.children);for(let d=0;d<Math.min(l.length,f.length);d++)r(l[d],f[d])}r(e,t)}function jr(e){let t=getComputedStyle(e);return!(t.display==="none"||t.position==="absolute"||t.position==="fixed"||t.position==="sticky"||(t.cssFloat||t.float||"none")!=="none"||t.transform&&t.transform!=="none")}function Ur(e,t){if(!(e instanceof Element))return!1;if(e.getAttribute("data-capture")==="exclude"&&(t==null?void 0:t.excludeMode)==="remove")return!0;if(Array.isArray(t==null?void 0:t.exclude))for(let n of t.exclude)try{if(e.matches(n))return t.excludeMode==="remove"}catch{}return!1}function Vr(e,t){let n=getComputedStyle(e),r=e.getBoundingClientRect(),o=1/0,a=-1/0,i=!1,u=Array.from(e.children);for(let g of u){if(Ur(g,t)||!jr(g))continue;let m=g.getBoundingClientRect(),s=m.top-r.top,c=m.bottom-r.top;c<=s||(s<o&&(o=s),c>a&&(a=c),i=!0)}let l=i?Math.max(0,a-o):0,f=parseFloat(n.borderTopWidth)||0,d=parseFloat(n.borderBottomWidth)||0,p=parseFloat(n.paddingTop)||0,h=parseFloat(n.paddingBottom)||0;return f+d+p+h+l}var A=(e,t=3)=>Number.isFinite(e)?Math.round(e*10**t)/10**t:e;function Hr(e){var u;let t=e.boxShadow||"";if(!t||t==="none")return{top:0,right:0,bottom:0,left:0};let n=t.split(/\),(?=(?:[^()]*\([^()]*\))*[^()]*$)/).map(l=>l.trim()),r=0,o=0,a=0,i=0;for(let l of n){let f=((u=l.match(/-?\d+(\.\d+)?px/g))==null?void 0:u.map(c=>parseFloat(c)))||[];if(f.length<2)continue;let[d,p,h=0,g=0]=f,m=Math.abs(d)+h+g,s=Math.abs(p)+h+g;o=Math.max(o,m+Math.max(d,0)),i=Math.max(i,m+Math.max(-d,0)),a=Math.max(a,s+Math.max(p,0)),r=Math.max(r,s+Math.max(-p,0))}return{top:Math.ceil(r),right:Math.ceil(o),bottom:Math.ceil(a),left:Math.ceil(i)}}function zr(e){let t=(e.filter||"").match(/blur\(\s*([0-9.]+)px\s*\)/),n=t?Math.ceil(parseFloat(t[1])||0):0;return{top:n,right:n,bottom:n,left:n}}function Br(e){if((e.outlineStyle||"none")==="none")return{top:0,right:0,bottom:0,left:0};let t=Math.ceil(parseFloat(e.outlineWidth||"0")||0);return{top:t,right:t,bottom:t,left:t}}function Xr(e){var l;let t=`${e.filter||""} ${e.webkitFilter||""}`.trim();if(!t||t==="none")return{bleed:{top:0,right:0,bottom:0,left:0},has:!1};let n=t.match(/drop-shadow\((?:[^()]|\([^()]*\))*\)/gi)||[],r=0,o=0,a=0,i=0,u=!1;for(let f of n){u=!0;let d=((l=f.match(/-?\d+(?:\.\d+)?px/gi))==null?void 0:l.map(c=>parseFloat(c)))||[],[p=0,h=0,g=0]=d,m=Math.abs(p)+g,s=Math.abs(h)+g;o=Math.max(o,m+Math.max(p,0)),i=Math.max(i,m+Math.max(-p,0)),a=Math.max(a,s+Math.max(h,0)),r=Math.max(r,s+Math.max(-h,0))}return{bleed:{top:A(r),right:A(o),bottom:A(a),left:A(i)},has:u}}function Yr(e,t){if(!e||!t||!t.style)return null;let n=getComputedStyle(e);try{t.style.transformOrigin="0 0"}catch{}try{"translate"in t.style&&(t.style.translate="none"),"rotate"in t.style&&(t.style.rotate="none")}catch{}let r=n.transform||"none";if(r==="none")try{let a=Et(e);if(a.a===1&&a.b===0&&a.c===0&&a.d===1)return t.style.transform="none",{a:1,b:0,c:0,d:1}}catch{}let o=r.match(/^matrix\(\s*([^)]+)\)$/i);if(o){let a=o[1].split(",").map(i=>parseFloat(i.trim()));if(a.length===6&&a.every(Number.isFinite)){let[i,u,l,f]=a,d=Math.sqrt(i*i+u*u)||0,p=0,h=0,g=0,m=0,s=0,c=0;d>0&&(p=i/d,h=u/d,g=p*l+h*f,m=l-p*g,s=f-h*g,c=Math.sqrt(m*m+s*s)||0,c>0?g=g/c:g=0);let y=d,x=0,C=g*c,M=c;try{t.style.transform=`matrix(${y}, ${x}, ${C}, ${M}, 0, 0)`}catch{}return{a:y,b:x,c:C,d:M}}}try{let a=String(r).trim();return t.style.transform=a+" translate(0px, 0px) rotate(0deg)",null}catch{return null}}function mt(e,t,n,r,o){let a=n.a,i=n.b,u=n.c,l=n.d,f=n.e||0,d=n.f||0;function p(y,x){let C=y-r,M=x-o,E=a*C+u*M,b=i*C+l*M;return E+=r+f,b+=o+d,[E,b]}let h=[p(0,0),p(e,0),p(0,t),p(e,t)],g=1/0,m=1/0,s=-1/0,c=-1/0;for(let[y,x]of h)y<g&&(g=y),x<m&&(m=x),y>s&&(s=y),x>c&&(c=x);return{minX:g,minY:m,maxX:s,maxY:c,width:s-g,height:c-m}}function Gr(e,t,n){let r=(e.transformOrigin||"0 0").trim().split(/\s+/),[o,a]=[r[0]||"0",r[1]||"0"],i=(u,l)=>{let f=u.toLowerCase();return f==="left"||f==="top"?0:f==="center"?l/2:f==="right"||f==="bottom"?l:f.endsWith("px")?parseFloat(f)||0:f.endsWith("%")?(parseFloat(f)||0)*l/100:/^-?\d+(\.\d+)?$/.test(f)&&parseFloat(f)||0};return{ox:i(o,t),oy:i(a,n)}}function Jr(e){var o,a,i,u,l,f,d,p;let t={rotate:"0deg",scale:null,translate:null},n=typeof e.computedStyleMap=="function"?e.computedStyleMap():null;if(n){let h=c=>{try{return typeof n.has=="function"&&!n.has(c)||typeof n.get!="function"?null:n.get(c)}catch{return null}},g=h("rotate");if(g)if(g.angle){let c=g.angle;t.rotate=c.unit==="rad"?c.value*180/Math.PI+"deg":c.value+c.unit}else g.unit?t.rotate=g.unit==="rad"?g.value*180/Math.PI+"deg":g.value+g.unit:t.rotate=String(g);else{let c=getComputedStyle(e);t.rotate=c.rotate&&c.rotate!=="none"?c.rotate:"0deg"}let m=h("scale");if(m){let c="x"in m&&((o=m.x)==null?void 0:o.value)!=null?m.x.value:Array.isArray(m)?(a=m[0])==null?void 0:a.value:Number(m)||1,y="y"in m&&((i=m.y)==null?void 0:i.value)!=null?m.y.value:Array.isArray(m)?(u=m[1])==null?void 0:u.value:c;t.scale=`${c} ${y}`}else{let c=getComputedStyle(e);t.scale=c.scale&&c.scale!=="none"?c.scale:null}let s=h("translate");if(s){let c="x"in s&&"value"in s.x?s.x.value:Array.isArray(s)?(l=s[0])==null?void 0:l.value:0,y="y"in s&&"value"in s.y?s.y.value:Array.isArray(s)?(f=s[1])==null?void 0:f.value:0,x="x"in s&&((d=s.x)!=null&&d.unit)?s.x.unit:"px",C="y"in s&&((p=s.y)!=null&&p.unit)?s.y.unit:"px";t.translate=`${c}${x} ${y}${C}`}else{let c=getComputedStyle(e);t.translate=c.translate&&c.translate!=="none"?c.translate:null}return t}let r=getComputedStyle(e);return t.rotate=r.rotate&&r.rotate!=="none"?r.rotate:"0deg",t.scale=r.scale&&r.scale!=="none"?r.scale:null,t.translate=r.translate&&r.translate!=="none"?r.translate:null,t}var Ne=null;function Qr(){if(Ne)return Ne;let e=document.createElement("div");return e.id="snapdom-measure-slot",e.setAttribute("aria-hidden","true"),Object.assign(e.style,{position:"absolute",left:"-99999px",top:"0px",width:"0px",height:"0px",overflow:"hidden",opacity:"0",pointerEvents:"none",contain:"size layout style"}),document.documentElement.appendChild(e),Ne=e,e}function Kr(e){let t=Qr(),n=document.createElement("div");n.style.transformOrigin="0 0",e.baseTransform&&(n.style.transform=e.baseTransform),e.rotate&&(n.style.rotate=e.rotate),e.scale&&(n.style.scale=e.scale),e.translate&&(n.style.translate=e.translate),t.appendChild(n);let r=Et(n);return t.removeChild(n),r}function Zr(e){let t=getComputedStyle(e),n=t.transform||"none";if(n!=="none"&&!/^matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*,\s*0\s*,\s*0\s*\)$/i.test(n))return!0;let r=t.rotate&&t.rotate!=="none"&&t.rotate!=="0deg",o=t.scale&&t.scale!=="none"&&t.scale!=="1",a=t.translate&&t.translate!=="none"&&t.translate!=="0px 0px";return!!(r||o||a)}function Et(e){let t=getComputedStyle(e).transform;if(!t||t==="none")return new DOMMatrix;try{return new DOMMatrix(t)}catch{return new WebKitCSSMatrix(t)}}async function _t(e,t){var x;if(!e)throw new Error("Element cannot be null or undefined");qt(t.cache);let n=t.fast,r=t.outerTransforms!==!1,o=!!t.outerShadows,a={element:e,options:t,plugins:t.plugins},i,u,l,f="",d="",p,h,g=null;await ae("beforeSnap",a),await ae("beforeClone",a);let m=Er(a.element);try{({clone:i,classCSS:u,styleCache:l}=await vr(a.element,a.options)),!r&&i&&(g=Yr(a.element,i)),!o&&i&&Tr(a.element,i)}finally{m()}if(a={clone:i,classCSS:u,styleCache:l,...a},await ae("afterClone",a),Ir(a.clone),((x=a.options)==null?void 0:x.excludeMode)==="remove")try{qr(a.element,a.clone,a.styleCache)}catch(C){console.warn("[snapdom] shrink pass failed:",C)}try{await fn(a.clone,a.element)}catch{}await new Promise(C=>{ce(async()=>{await Ar(a.clone,a.options),C()},{fast:n})}),await new Promise(C=>{ce(async()=>{await _n(a.element,a.clone,a.styleCache,a.options),C()},{fast:n})}),t.embedFonts&&await new Promise(C=>{ce(async()=>{let M=kn(a.element),E=An(a.element);if(pe()){let b=new Set(Array.from(M).map(v=>String(v).split("__")[0]).filter(Boolean));await En(b,1)}f=await vn({required:M,usedCodepoints:E,exclude:a.options.excludeFonts,useProxy:a.options.useProxy}),C()},{fast:n})});let s=Zt(a.clone).sort(),c=s.join(",");S.baseStyle.has(c)?d=S.baseStyle.get(c):await new Promise(C=>{ce(()=>{d=en(s),S.baseStyle.set(c,d),C()},{fast:n})}),a={fontsCSS:f,baseCSS:d,...a},await ae("beforeRender",a),await new Promise(C=>{ce(()=>{var Xe;let M=getComputedStyle(a.element),E=a.element.getBoundingClientRect(),b=Math.max(1,A(a.element.offsetWidth||parseFloat(M.width)||E.width||1)),v=Math.max(1,A(a.element.offsetHeight||parseFloat(M.height)||E.height||1));if(((Xe=a.options)==null?void 0:Xe.excludeMode)==="remove"){let G=Vr(a.element,a.options);Number.isFinite(G)&&G>0&&(v=Math.max(1,Math.min(v,A(G+1))))}let $=(G,Q=NaN)=>{let le=typeof G=="string"?parseFloat(G):G;return Number.isFinite(le)?le:Q},_=$(a.options.width),L=$(a.options.height),O=b,j=v,q=Number.isFinite(_),V=Number.isFinite(L),te=v>0?b/v:1;q&&V?(O=Math.max(1,A(_)),j=Math.max(1,A(L))):q?(O=Math.max(1,A(_)),j=Math.max(1,A(O/(te||1)))):V?(j=Math.max(1,A(L)),O=Math.max(1,A(j*(te||1)))):(O=b,j=v);let Y=0,w=0,N=b,P=v;if(!r&&g&&Number.isFinite(g.a)){let G={a:g.a,b:g.b||0,c:g.c||0,d:g.d||1,e:0,f:0},Q=mt(b,v,G,0,0);Y=A(Q.minX),w=A(Q.minY),N=A(Q.maxX),P=A(Q.maxY)}else if(r&&eo(a.element)){let G=M.transform&&M.transform!=="none"?M.transform:"",Q=Jr(a.element),le=Kr({baseTransform:G,rotate:Q.rotate||"0deg",scale:Q.scale,translate:Q.translate}),{ox:Wt,oy:Ot}=Gr(M,b,v),Dt=le.is2D?le:new DOMMatrix(le.toString()),be=mt(b,v,Dt,Wt,Ot);Y=A(be.minX),w=A(be.minY),N=A(be.maxX),P=A(be.maxY)}let W=Hr(M),F=zr(M),k=Br(M),R=Xr(M),T=o?{top:A(W.top+F.top+k.top+R.bleed.top),right:A(W.right+F.right+k.right+R.bleed.right),bottom:A(W.bottom+F.bottom+k.bottom+R.bleed.bottom),left:A(W.left+F.left+k.left+R.bleed.left)}:{top:0,right:0,bottom:0,left:0};Y=A(Y-T.left),w=A(w-T.top),N=A(N+T.right),P=A(P+T.bottom);let z=Math.max(1,A(N-Y)),H=Math.max(1,A(P-w)),Z=q||V?A(O/b):1,J=V||q?A(j/v):1,I=Math.max(1,A(z*Z)),B=Math.max(1,A(H*J)),X="http://www.w3.org/2000/svg",me=pe()?1:0,ne=A(me+(r?0:1)),re=document.createElementNS(X,"foreignObject"),Nt=A(Y),Tt=A(w);re.setAttribute("x",String(A(-(Nt-ne)))),re.setAttribute("y",String(A(-(Tt-ne)))),re.setAttribute("width",String(A(b+ne*2))),re.setAttribute("height",String(A(v+ne*2))),re.style.overflow="visible";let ze=document.createElement("style");ze.textContent=a.baseCSS+a.fontsCSS+"svg{overflow:visible;} foreignObject{overflow:visible;}"+a.classCSS,re.appendChild(ze);let ie=document.createElement("div");ie.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),ie.style.width=`${A(b)}px`,ie.style.height=`${A(v)}px`,ie.style.overflow="visible",a.clone.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),ie.appendChild(a.clone),re.appendChild(ie);let Pt=new XMLSerializer().serializeToString(re),Ee=A(z+ne*2),_e=A(H+ne*2),Be=q||V;t.meta={w0:b,h0:v,vbW:Ee,vbH:_e,targetW:O,targetH:j};let Rt=pe()&&Be?Ee:A(I+ne*2),It=pe()&&Be?_e:A(B+ne*2);h=`<svg xmlns="${X}" width="${Rt}" height="${It}" viewBox="0 0 ${Ee} ${_e}">`+Pt+"</svg>",p=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(h)}`,a={svgString:h,dataURL:p,...a},C()},{fast:n})}),await ae("afterRender",a);let y=document.getElementById("snapdom-sandbox");return y&&y.style.position==="absolute"&&y.remove(),a.dataURL}function eo(e){return Zr(e)}function to(e){if(typeof e=="string"){let t=e.toLowerCase().trim();if(t==="disabled"||t==="full"||t==="auto"||t==="soft")return t}return"soft"}function no(e={}){let t=e.format??"png";t==="jpg"&&(t="jpeg");let n=to(e.cache);return{debug:e.debug??!1,fast:e.fast??!0,scale:e.scale??1,exclude:e.exclude??[],excludeMode:e.excludeMode??"hide",filter:e.filter??null,filterMode:e.filterMode??"hide",placeholders:e.placeholders!==!1,embedFonts:e.embedFonts??!1,iconFonts:Array.isArray(e.iconFonts)?e.iconFonts:e.iconFonts?[e.iconFonts]:[],localFonts:Array.isArray(e.localFonts)?e.localFonts:[],excludeFonts:e.excludeFonts??void 0,fallbackURL:e.fallbackURL??void 0,cache:n,useProxy:typeof e.useProxy=="string"?e.useProxy:"",width:e.width??null,height:e.height??null,format:t,type:e.type??"svg",quality:e.quality??.92,dpr:e.dpr??(window.devicePixelRatio||1),backgroundColor:e.backgroundColor??(["jpeg","webp"].includes(t)?"#ffffff":null),filename:e.filename??"snapDOM",outerTransforms:e.outerTransforms??!0,outerShadows:e.outerShadows??!1}}function Ft(...e){return Fn(...e),D}var D=Object.assign(ro,{plugins:Ft}),Lt=Symbol("snapdom.internal"),oe=Symbol("snapdom.internal.silent"),je=!1;async function ro(e,t){if(!e)throw new Error("Element cannot be null or undefined");let n=no(t);if(Tn(n,t&&t.plugins),pe()&&(n.embedFonts===!0||ao(e)))for(let r=0;r<3;r++)try{await oo(e,t),je=!1}catch{}return n.iconFonts&&n.iconFonts.length>0&&rn(n.iconFonts),n.snap||(n.snap={toPng:(r,o)=>D.toPng(r,o),toSvg:(r,o)=>D.toSvg(r,o)}),D.capture(e,n,Lt)}D.capture=async(e,t,n)=>{if(n!==Lt)throw new Error("[snapdom.capture] is internal. Use snapdom(...) instead.");let r=await _t(e,t),o={img:async(m,s)=>{let{toImg:c}=await U(()=>import("./toImg-CuXmJV8N.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]));return c(r,{...m,...s||{}})},svg:async(m,s)=>{let{toSvg:c}=await U(()=>import("./toImg-CuXmJV8N.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]));return c(r,{...m,...s||{}})},canvas:async(m,s)=>{let{toCanvas:c}=await U(()=>import("./toCanvas-DVMVkpBd.js"),__vite__mapDeps([2,3,4,5,6,7,8]));return c(r,{...m,...s||{}})},blob:async(m,s)=>{let{toBlob:c}=await U(()=>import("./toBlob-CR7Dx9eJ.js"),__vite__mapDeps([9,2,3,4,5,6,7,8]));return c(r,{...m,...s||{}})},png:async(m,s)=>{let{rasterize:c}=await U(()=>import("./rasterize-JS5G2XHH-BL-bzy3w.js"),__vite__mapDeps([1,2,3,4,5,6,7,8]));return c(r,{...m,...s||{},format:"png"})},jpeg:async(m,s)=>{let{rasterize:c}=await U(()=>import("./rasterize-JS5G2XHH-BL-bzy3w.js"),__vite__mapDeps([1,2,3,4,5,6,7,8]));return c(r,{...m,...s||{},format:"jpeg"})},webp:async(m,s)=>{let{rasterize:c}=await U(()=>import("./rasterize-JS5G2XHH-BL-bzy3w.js"),__vite__mapDeps([1,2,3,4,5,6,7,8]));return c(r,{...m,...s||{},format:"webp"})},download:async(m,s)=>{let{download:c}=await U(()=>import("./download-zSKRNPwB.js"),__vite__mapDeps([10,9,2,3,4,5,6,7,8]));return c(r,{...m,...s||{}})}},a={...t,export:{url:r},exports:{svg:async m=>{let{toSvg:s}=await U(()=>import("./toImg-CuXmJV8N.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]));return s(r,{...t,...m||{},[oe]:!0})},canvas:async m=>{let{toCanvas:s}=await U(()=>import("./toCanvas-DVMVkpBd.js"),__vite__mapDeps([2,3,4,5,6,7,8]));return s(r,{...t,...m||{},[oe]:!0})},png:async m=>{let{rasterize:s}=await U(()=>import("./rasterize-JS5G2XHH-BL-bzy3w.js"),__vite__mapDeps([1,2,3,4,5,6,7,8]));return s(r,{...t,...m||{},format:"png",[oe]:!0})},jpeg:async m=>{let{rasterize:s}=await U(()=>import("./rasterize-JS5G2XHH-BL-bzy3w.js"),__vite__mapDeps([1,2,3,4,5,6,7,8]));return s(r,{...t,...m||{},format:"jpeg",[oe]:!0})},jpg:async m=>{let{rasterize:s}=await U(()=>import("./rasterize-JS5G2XHH-BL-bzy3w.js"),__vite__mapDeps([1,2,3,4,5,6,7,8]));return s(r,{...t,...m||{},format:"jpeg",[oe]:!0})},webp:async m=>{let{rasterize:s}=await U(()=>import("./rasterize-JS5G2XHH-BL-bzy3w.js"),__vite__mapDeps([1,2,3,4,5,6,7,8]));return s(r,{...t,...m||{},format:"webp",[oe]:!0})},blob:async m=>{let{toBlob:s}=await U(()=>import("./toBlob-CR7Dx9eJ.js"),__vite__mapDeps([9,2,3,4,5,6,7,8]));return s(r,{...t,...m||{},[oe]:!0})},img:async m=>{let{toImg:s}=await U(()=>import("./toImg-CuXmJV8N.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]));return s(r,{...t,...m||{},[oe]:!0})}}},i=await Ln("defineExports",a),u=Object.assign({},...i.filter(m=>m&&typeof m=="object")),l={...o,...u};l.jpeg&&!l.jpg&&(l.jpg=(m,s)=>l.jpeg(m,s));function f(m,s){let c={...t,...s||{}};return(m==="jpeg"||m==="jpg")&&(c.backgroundColor==null||c.backgroundColor==="transparent")&&(c.backgroundColor="#ffffff"),c}let d=!1,p=Promise.resolve();async function h(m,s){let c=async()=>{let y=l[m];if(!y)throw new Error(`[snapdom] Unknown export type: ${m}`);let x=f(m,s),C={...t,export:{type:m,options:x,url:r}};await ae("beforeExport",C);let M=await y(C,x);return await ae("afterExport",C,M),d||(d=!0,await ae("afterSnap",t)),M};return p=p.then(c)}let g={url:r,toRaw:()=>r,to:(m,s)=>h(m,s),toImg:m=>h("img",m),toSvg:m=>h("svg",m),toCanvas:m=>h("canvas",m),toBlob:m=>h("blob",m),toPng:m=>h("png",m),toJpg:m=>h("jpg",m),toWebp:m=>h("webp",m),download:m=>h("download",m)};for(let m of Object.keys(l)){let s="to"+m.charAt(0).toUpperCase()+m.slice(1);g[s]||(g[s]=c=>h(m,c))}return g};D.toRaw=(e,t)=>D(e,t).then(n=>n.toRaw());D.toImg=(e,t)=>D(e,t).then(n=>n.toImg());D.toSvg=(e,t)=>D(e,t).then(n=>n.toSvg());D.toCanvas=(e,t)=>D(e,t).then(n=>n.toCanvas());D.toBlob=(e,t)=>D(e,t).then(n=>n.toBlob());D.toPng=(e,t)=>D(e,{...t,format:"png"}).then(n=>n.toPng());D.toJpg=(e,t)=>D(e,{...t,format:"jpeg"}).then(n=>n.toJpg());D.toWebp=(e,t)=>D(e,{...t,format:"webp"}).then(n=>n.toWebp());D.download=(e,t)=>D(e,t).then(n=>n.download());async function oo(e,t){if(je)return;let n={...t,fast:!0,embedFonts:!0,scale:.2},r;try{r=await _t(e,n)}catch{}await new Promise(o=>requestAnimationFrame(()=>requestAnimationFrame(o))),r&&await new Promise(o=>{let a=new Image;try{a.decoding="sync",a.loading="eager"}catch{}a.style.cssText="position:fixed;left:0px;top:0px;width:10px;height:10px;opacity:0.01;pointer-events:none;",a.src=r,document.body.appendChild(a),(async()=>{try{typeof a.decode=="function"&&await a.decode()}catch{}let i=performance.now();for(;!(a.complete&&a.naturalWidth>0)&&performance.now()-i<900;)await new Promise(u=>setTimeout(u,200));await new Promise(u=>requestAnimationFrame(u));try{a.remove()}catch{}o()})()}),e.querySelectorAll("canvas").forEach(o=>{try{let a=o.getContext("2d",{willReadFrequently:!0});a&&a.getImageData(0,0,1,1)}catch{}}),je=!0}function ao(e){let t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);for(;t.nextNode();){let n=t.currentNode,r=getComputedStyle(n),o=r.backgroundImage&&r.backgroundImage!=="none",a=r.maskImage&&r.maskImage!=="none"||r.webkitMaskImage&&r.webkitMaskImage!=="none";if(o||a||n.tagName==="CANVAS")return!0}return!1}const lo=Object.freeze(Object.defineProperty({__proto__:null,plugins:Ft,snapdom:D},Symbol.toStringTag,{value:"Module"}));export{pe as l,lo as s};
