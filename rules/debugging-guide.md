# AI Agent 调试协作指南

本文档指导 AI Agent 如何协助用户调试 Axhub 组件和页面。

## 🎯 核心职责

作为 AI Agent，你的职责是：
1. **执行调试命令** - 启动开发服务器或构建组件
2. **引导用户验收** - 告知用户如何在浏览器中验证功能
3. **分析错误信息** - 根据用户反馈的错误快速定位问题

## 🚀 调试工作流

### 步骤 1：启动开发模式

当用户需要调试时，执行以下命令：

```bash
# 确保依赖已安装（首次运行）
npm install

# 启动开发服务器
npm run dev
```

**告知用户访问地址：**

系统内置原型资源管理系统，运行 `npm run dev` 后会自动打开。  
默认访问地址为：`http://localhost:51720`（端口可能因环境而变化）。

**在 IDE 打开预览地址：**
如果你本身自带浏览器，引导用户打开目标调试地址：
元素地址：`http://localhost:51720/elements/xxx/index.html`
页面地址：`http://localhost:51720/pages/xxx/index.html`


### 步骤 2：引导用户验收

**明确告知用户需要验证的内容：**
1. **页面加载** - 组件是否正常显示
2. **功能测试** - 按照 spec.md 中的功能描述逐项测试

### 步骤 3：处理用户反馈

根据用户反馈的问题类型，采取相应行动：

#### 编译错误
用户报告"页面无法加载"或"白屏"：
- 检查终端输出的错误信息
- 定位到具体的 TypeScript 或语法错误
- 修复代码后，Vite 会自动重新编译

#### 运行时错误
用户报告有错误：
- 让用户提供完整的错误信息（截图或复制文本）
- 分析错误堆栈，定位问题代码
- 常见错误参考下方"快速错误诊断"

#### 功能不符合预期
用户报告"功能不对"或"样式不对"：
- 对照 spec.md 确认预期行为
- 检查相关代码逻辑
- 修改代码并让用户刷新页面验证

## 📋 验收检查清单

**开发环境验收（必须）：**
- [ ] 开发服务器启动成功
- [ ] 浏览器能正常访问页面
- [ ] 所有功能符合 spec.md 描述
- [ ] 样式显示正确

**Axure 环境验收（由用户完成）：**
- [ ] 在 Axure 原型中能正常加载
- [ ] 所有功能在 Axure 中正常工作
- [ ] 与原型其他部分交互正常

## 🔄 迭代修复流程

1. **用户报告问题** → 记录具体现象和错误信息
2. **分析定位** → 根据错误信息定位代码位置
3. **修改代码** → 实施修复
4. **自动重载** → Vite 自动编译，用户刷新浏览器
5. **用户验证** → 确认问题是否解决
6. **重复 1-5** → 直到所有问题解决

## 💡 关键提示

### 作为 AI Agent，你应该：
- ✅ 主动执行 `npm run dev` 启动调试
- ✅ 清晰告知用户访问地址和验收要点
- ✅ 根据错误信息快速定位和修复
- ✅ 每次修改后提醒用户刷新浏览器
- ✅ 在完成后执行生产构建验证

### 作为 AI Agent，你不应该：
- ❌ 让用户自己去执行命令
- ❌ 假设用户知道如何打开开发者工具
- ❌ 在没有错误信息的情况下盲目修改代码

## 📚 相关文档

- [需求对齐流程](./requirements-alignment.md) - 如何与用户沟通需求
- [开发规范](./development-standards.md) - 代码编写规范
- [设计规则](./design-guidelines.md) - UI/UX 设计规范
