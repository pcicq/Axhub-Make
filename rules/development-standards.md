# å¼€å‘è§„èŒƒ

æœ¬æ–‡æ¡£å®šä¹‰ Axhub å…ƒç´ å’Œé¡µé¢åŸå‹çš„ä»£ç ç¼–å†™è§„èŒƒã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

### ç›®å½•ç»„ç»‡

```
src/
â”œâ”€â”€ elements/          # åŸå‹å…ƒç´ 
â”‚   â””â”€â”€ button/
â”‚       â”œâ”€â”€ index.tsx  # å…¥å£æ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰
â”‚       â”œâ”€â”€ spec.md    # éœ€æ±‚è§„æ ¼ï¼ˆå¿…éœ€ï¼‰
â”‚       â”œâ”€â”€ style.css  # æ ·å¼æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â”‚       â””â”€â”€ hack.css   # æ ·å¼è¦†ç›–æ–‡ä»¶ï¼ˆå¯é€‰ï¼ŒAI Agent ä¸åº”ä¸»åŠ¨ä¿®æ”¹ï¼‰
â””â”€â”€ pages/             # åŸå‹é¡µé¢
    â””â”€â”€ sample-page/
        â”œâ”€â”€ index.tsx  # å…¥å£æ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰
        â”œâ”€â”€ spec.md    # éœ€æ±‚è§„æ ¼ï¼ˆå¿…éœ€ï¼‰
        â”œâ”€â”€ style.css  # æ ·å¼æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
        â””â”€â”€ hack.css   # æ ·å¼è¦†ç›–æ–‡ä»¶ï¼ˆå¯é€‰ï¼ŒAI Agent ä¸åº”ä¸»åŠ¨ä¿®æ”¹ï¼‰
```

### ç»“æ„çº¦æŸ

- **å…¥å£å›ºå®š**ï¼šæ¯ä¸ªç»„ä»¶/é¡µé¢çš„å…¥å£å¿…é¡»æ˜¯ `index.tsx`
- **è§„æ ¼æ–‡æ¡£**ï¼šå¿…é¡»åŒ…å« `spec.md` è¯´æ˜åŠŸèƒ½å’Œæ¥å£
- **æ¨¡å—åˆ†ç¦»**ï¼šå¤æ‚é¡¹ç›®å¯æŒ‰æ¨¡å—æ‹†åˆ†æ–‡ä»¶ï¼ˆcomponents/ã€hooks/ã€utils/ ç­‰ï¼‰

## ğŸ¯ æ ¸å¿ƒè¦æ±‚

### 1. æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š

**æ¯ä¸ª index.tsx æ–‡ä»¶é¡¶éƒ¨å¿…é¡»åŒ…å«ä»¥ä¸‹æ³¨é‡Š**ï¼š

```typescript
/**
 * @name ç»„ä»¶æ˜¾ç¤ºåç§°
 * 
 * å‚è€ƒèµ„æ–™ï¼š
 * - /assets/docs/è®¾è®¡è§„èŒƒ.UIGuidelines.md
 * - /src/themes/antd/designToken.json (Ant Design ä¸»é¢˜)
 * - /assets/libraries/antd.md (Ant Des
 */
```

**æ³¨é‡Šè¯´æ˜**ï¼š
- `@name`ï¼šç»„ä»¶çš„ä¸­æ–‡æ˜¾ç¤ºåç§°ï¼ˆå¿…éœ€ï¼‰
- `å‚è€ƒèµ„æ–™`ï¼šåˆ—å‡ºæ‰€æœ‰ä¸å¼€å‘ç›¸å…³çš„å‚è€ƒæ–‡æ¡£è·¯å¾„ï¼ˆå¦‚æœ‰ï¼‰
  - å‚è€ƒæ–‡æ¡£ï¼šç”¨æˆ·æä¾›çš„è®¾è®¡è§„èŒƒã€ä¸šåŠ¡æ–‡æ¡£ç­‰
  - ä¸»é¢˜é…ç½®ï¼šå¦‚ `/src/themes/antd/designToken.json`ï¼Œéœ€æ³¨æ˜ä¸»é¢˜åç§°
  - å‰ç«¯åº“æ–‡æ¡£ï¼šå¦‚ `/assets/libraries/antd.md`ï¼Œéœ€æ³¨æ˜åº“åç§°
  - ä»…åˆ—å‡ºä¸ä»£ç å®ç°ç›¸å…³çš„èµ„æ–™ï¼Œçº¯è®¾è®¡ç±»èµ„æ–™å¯çœç•¥

### 2. ä¾èµ–å¼•ç”¨è§„èŒƒ

```typescript
// âœ… ç›´æ¥å¯¼å…¥ React
import React, { useState, useCallback, useImperativeHandle, forwardRef } from 'react';

// âœ… å¯¼å…¥ç¬¬ä¸‰æ–¹åº“ï¼ˆæŒ‰éœ€å¯¼å…¥ï¼‰
import { Select, Button, Input } from 'antd';

// âŒ ä¸æ¨è - å¯¼å…¥æ•´ä¸ªåº“
import * as antd from 'antd';
```

**æ³¨æ„äº‹é¡¹**ï¼š
- ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œéœ€ååŠ©ç”¨æˆ·å®‰è£… npm ä¾èµ–
- ä¼˜å…ˆä½¿ç”¨æŒ‰éœ€å¯¼å…¥ï¼Œå‡å°æ‰“åŒ…ä½“ç§¯

### 3. å‰ç«¯åº“ä½¿ç”¨

**å½“ç”¨æˆ·æŒ‡å®šä½¿ç”¨ç‰¹å®šå‰ç«¯åº“æ—¶ï¼Œè¿™æ˜¯ä¸€ä¸ªå»ºè®®è€Œéå¼ºåˆ¶è¦æ±‚**

å‰ç«¯åº“æ–‡æ¡£è·¯å¾„ä¼šåœ¨ä»»åŠ¡å¼€å§‹æ—¶æä¾›ï¼ˆé€šå¸¸åœ¨ `/assets/libraries/` ç›®å½•ä¸‹ï¼‰ã€‚

**æ–‡æ¡£å†…å®¹åŒ…æ‹¬**ï¼š
- ç»„ä»¶åº“çš„ç‰ˆæœ¬ä¿¡æ¯
- ç»„ä»¶ä½¿ç”¨è¯´æ˜å’Œ API
- ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µ
- æ³¨æ„äº‹é¡¹å’Œå¸¸è§é—®é¢˜

**âš ï¸ é‡è¦**ï¼š
- **å¦‚æœä½¿ç”¨ç”¨æˆ·æŒ‡å®šçš„å‰ç«¯åº“ï¼Œå¿…é¡»å®Œæ•´é˜…è¯»å¯¹åº”çš„åº“æ–‡æ¡£ï¼Œä¸è¦è·³è¿‡**
- ä¸¥æ ¼æŒ‰ç…§æ–‡æ¡£ä¸­çš„ç‰ˆæœ¬å’Œ API è¿›è¡Œå¼€å‘
- å‚è€ƒæ–‡æ¡£ä¸­çš„ç¤ºä¾‹ä»£ç 
- éµå¾ªæ–‡æ¡£ä¸­çš„æœ€ä½³å®è·µ

**çµæ´»æ€§**ï¼š
- ç”¨æˆ·æŒ‡å®šçš„å‰ç«¯åº“æ˜¯å»ºè®®ï¼Œä¸æ˜¯å¼ºåˆ¶è¦æ±‚
- å¦‚æœå…¶ä»–å‰ç«¯åº“æ›´é€‚åˆå®ç°éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨å…¶ä»–åº“
- **æ ¸å¿ƒç›®æ ‡æ˜¯å¸®åŠ©ç”¨æˆ·å®ç°éœ€æ±‚ï¼Œé€‰æ‹©æœ€åˆé€‚çš„æŠ€æœ¯æ–¹æ¡ˆ**
- å¦‚æœé€‰æ‹©ä½¿ç”¨å…¶ä»–åº“ï¼Œéœ€è¦è¯´æ˜ç†ç”±

**ä½¿ç”¨å»ºè®®**ï¼š
- ä¼˜å…ˆä½¿ç”¨åº“æä¾›çš„ç»„ä»¶ï¼Œé¿å…é‡å¤é€ è½®å­
- æ³¨æ„åº“çš„ç‰ˆæœ¬å…¼å®¹æ€§
- æŒ‰éœ€å¯¼å…¥ç»„ä»¶ï¼Œå‡å°æ‰“åŒ…ä½“ç§¯

### 4. Design Tokens ä½¿ç”¨

**å½“ç”¨æˆ·æŒ‡å®šä¸»é¢˜æ—¶ï¼Œå¿…é¡»ä½¿ç”¨å¯¹åº”çš„ Design Tokens**

ä¸»é¢˜é…ç½®æ–‡ä»¶è·¯å¾„ä¼šåœ¨ä»»åŠ¡å¼€å§‹æ—¶æä¾›ï¼ˆé€šå¸¸åœ¨ `/src/themes/[ä¸»é¢˜å]/designToken.json`ï¼‰ã€‚

**Design Tokens é€šå¸¸åŒ…å«**ï¼š
- **é¢œè‰²ï¼ˆcolorsï¼‰**ï¼šå“ç‰Œè‰²ã€æ–‡æœ¬è‰²ã€è¾¹æ¡†è‰²ã€èƒŒæ™¯è‰²
- **åœ†è§’ï¼ˆborderRadiusï¼‰**ï¼šxsã€smã€defaultã€lg
- **å­—ä½“ï¼ˆtypographyï¼‰**ï¼šå­—å·ã€å­—é‡ã€è¡Œé«˜
- **é˜´å½±ï¼ˆshadowsï¼‰**ï¼šsmã€defaultã€lg
- **é—´è·ï¼ˆspacingï¼‰**ï¼šå„ç§å°ºå¯¸çš„é—´è·å€¼

**âš ï¸ é‡è¦**ï¼š
- **å¿…é¡»å®Œæ•´é˜…è¯» Design Tokens æ–‡ä»¶ï¼Œä¸è¦è·³è¿‡**
- åœ¨æ ·å¼ä¸­ä½¿ç”¨ Design Tokens å®šä¹‰çš„å€¼
- ä¿æŒè®¾è®¡çš„ä¸€è‡´æ€§

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```typescript
// ä» designToken.json è¯»å–å€¼å¹¶åº”ç”¨åˆ°æ ·å¼ä¸­
const primaryColor = '#1677ff'; // æ¥è‡ª colors.brand.primary
const borderRadius = '6px';     // æ¥è‡ª borderRadius.default
```

### 5. å‚è€ƒæ–‡æ¡£å¤„ç†

**ç”¨æˆ·éœ€æ±‚ä¸­å¯èƒ½åŒ…å«å‚è€ƒæ–‡æ¡£ï¼Œéœ€è¦åŒºåˆ†å¤„ç†**ï¼š

- **ä¸å¼€å‘ç›¸å…³çš„æ–‡æ¡£**ï¼ˆå¿…é¡»å…³æ³¨ï¼‰ï¼š
  - API æ¥å£æ–‡æ¡£
  - æ•°æ®ç»“æ„è¯´æ˜
  - äº¤äº’é€»è¾‘è¯´æ˜
  - æŠ€æœ¯è§„èŒƒ

- **ä¸å¼€å‘æ— å…³çš„æ–‡æ¡£**ï¼ˆå¯ä»¥å¿½ç•¥ï¼‰ï¼š
  - çº¯è§†è§‰è®¾è®¡ç¨¿
  - å“ç‰Œè®¾è®¡æŒ‡å—
  - è¥é”€æ–‡æ¡ˆ

**å¤„ç†æ–¹å¼**ï¼š
- åœ¨ index.tsx å¤´éƒ¨æ³¨é‡Šçš„"å‚è€ƒèµ„æ–™"ä¸­åˆ—å‡ºæ‰€æœ‰ä¸å¼€å‘ç›¸å…³çš„æ–‡æ¡£è·¯å¾„
- æ ¹æ®æ–‡æ¡£å†…å®¹å®ç°ç›¸åº”åŠŸèƒ½

### 6. Axure API ä½¿ç”¨ï¼ˆå¯é€‰ï¼‰

**Axure API æ˜¯å¯é€‰çš„**ï¼Œä»…åœ¨éœ€è¦ä¸ Axure åŸå‹äº¤äº’æ—¶ä½¿ç”¨ã€‚

**ä½¿ç”¨åœºæ™¯**ï¼š
- éœ€è¦ä¸ Axure åŸå‹è¿›è¡Œäº¤äº’
- éœ€è¦åœ¨é…ç½®é¢æ¿ä¸­æä¾›å¯é…ç½®é¡¹
- éœ€è¦æ¥æ”¶å¤–éƒ¨æ•°æ®æº
- éœ€è¦è§¦å‘äº‹ä»¶æˆ–å“åº”åŠ¨ä½œ

**ä¸ä½¿ç”¨åœºæ™¯**ï¼š
- çº¯å±•ç¤ºå‹ç»„ä»¶
- ä¸éœ€è¦ä¸å¤–éƒ¨äº¤äº’çš„ç‹¬ç«‹ç»„ä»¶
- æ ‡å‡† React ç»„ä»¶å³å¯æ»¡è¶³éœ€æ±‚

**âš ï¸ é‡è¦**ï¼š
- **å¦‚æœç”¨æˆ·è¦æ±‚ä½¿ç”¨ Axure APIï¼Œå¿…é¡»å®Œæ•´é˜…è¯» [Axure API ä½¿ç”¨æŒ‡å—](./axure-api-guide.md)ï¼Œä¸è¦è·³è¿‡**
- ä¸¥æ ¼æŒ‰ç…§æŒ‡å—ä¸­çš„æ¥å£è§„èŒƒå®ç°
- å‚è€ƒæŒ‡å—ä¸­çš„ç¤ºä¾‹ä»£ç 

**å¿«é€Ÿç¤ºä¾‹**ï¼š

ä½¿ç”¨ Axure APIï¼š
```typescript
import React, { forwardRef, useImperativeHandle } from 'react';
import type { AxhubProps, AxhubHandle } from '../../common/axhub-types';

const Component = forwardRef<AxhubHandle, AxhubProps>(function MyComponent(innerProps, ref) {
  // å®ç° Axure API æ¥å£
  useImperativeHandle(ref, function () {
    return {
      getVar: function (name: string) { /* ... */ },
      fireAction: function (name: string, params?: any) { /* ... */ },
      eventList: EVENT_LIST,
      actionList: ACTION_LIST,
      varList: VAR_LIST,
      configList: CONFIG_LIST,
      dataList: DATA_LIST
    };
  }, []);

  return <div>Component Content</div>;
});

export default Component;
```

ä¸ä½¿ç”¨ Axure APIï¼š
```typescript
const Component = function MyComponent() {
  return <div>Component Content</div>;
}

export default Component;
```

## ğŸ“‹ ä»£ç ç»“æ„è§„èŒƒ

### åŸºæœ¬æ–‡ä»¶ç»“æ„

```typescript
/**
 * @name ç»„ä»¶æ˜¾ç¤ºåç§°
 * 
 * å‚è€ƒèµ„æ–™ï¼š
 * - /assets/docs/è®¾è®¡è§„èŒƒ.UIGuidelines.md
 * - /src/themes/antd/designToken.json (Ant Design ä¸»é¢˜)
 * - /assets/libraries/antd.md (Ant Design ç»„ä»¶åº“)
 */

// 1. å¯¼å…¥æ ·å¼ï¼ˆå¯é€‰ï¼‰
import './style.css';

// 2. å¯¼å…¥ React å’Œ Hooks
import React, { useState, useCallback } from 'react';

// 3. å¯¼å…¥ç¬¬ä¸‰æ–¹åº“ï¼ˆå¯é€‰ï¼‰
import { Button, Input } from 'antd';

// 4. å®šä¹‰ç»„ä»¶
const Component = function MyComponent() {
  // ç»„ä»¶å®ç°
  return <div>Component Content</div>;
};

// 5. å¯¼å‡ºç»„ä»¶
export default Component;
```

**å¦‚æœä½¿ç”¨ Axure API**ï¼Œè¯·å‚è€ƒ [Axure API ä½¿ç”¨æŒ‡å—](./axure-api-guide.md) äº†è§£å®Œæ•´çš„ä»£ç ç»“æ„ã€‚

## ğŸ”§ ç»„ä»¶å®ç°è§„èŒƒ

### State ç®¡ç†

```typescript
// é¿å…ä½¿ç”¨ ES6 è§£æ„
const countState = useState<number>(0);
const count = countState[0];
const setCount = countState[1];

// æ›´æ–° state
setCount(function (prev) { return prev + 1; });
```

**å¦‚æœä½¿ç”¨ Axure API**ï¼Œè¯·å‚è€ƒ [Axure API ä½¿ç”¨æŒ‡å—](./axure-api-guide.md) äº†è§£ Props å¤„ç†ã€äº‹ä»¶å¤„ç†ã€Container ä½¿ç”¨ç­‰è¯¦ç»†è§„èŒƒã€‚

## ğŸ¨ æ ·å¼è§„èŒƒ

### CSS ç±»å‘½å

**ä½¿ç”¨ BEM å‘½åï¼ŒåŠ ç»„ä»¶å‰ç¼€é¿å…å†²çª**

```css
/* âœ… æ­£ç¡® - æœ‰å‰ç¼€çš„ BEM å‘½å */
.axhub-button-container { }
.axhub-button-title { }
.axhub-button-primary { }
.axhub-button-primary--disabled { }

/* âŒ é”™è¯¯ - å‘½åè¿‡äºé€šç”¨ */
.container { }
.button { }
```

### é¿å…å…¨å±€æ ·å¼æ±¡æŸ“

```css
/* âœ… æ­£ç¡® - ä½¿ç”¨ç‰¹å®šç±»å */
.my-component-wrapper button { }

/* âŒ é”™è¯¯ - ç›´æ¥ä¿®æ”¹å…¨å±€æ ‡ç­¾ */
button { }
div { }
```

### hack.css æ ·å¼è¦†ç›–æ–‡ä»¶

**`hack.css` æ˜¯ç”¨æˆ·æ‰‹åŠ¨è°ƒæ•´æ ·å¼çš„æ–‡ä»¶ï¼ŒAI Agent ä¸åº”ä¸»åŠ¨ä¿®æ”¹**

## ğŸ“¦ å¯¼å‡ºè§„èŒƒ

**æ‰€æœ‰ç»„ä»¶æ–‡ä»¶å¿…é¡»ä½¿ç”¨ `export default Component` å¯¼å‡º**

```typescript
// âœ… æ­£ç¡® - å¿…é¡»ä½¿ç”¨è¿™ä¸ªç¡®åˆ‡çš„å¯¼å‡ºè¯­å¥
const Component = function MyComponent() {
  return <div>Component Content</div>;
}

export default Component;
```

**æ³¨æ„äº‹é¡¹**ï¼š
- å¿…é¡»ä½¿ç”¨å˜é‡å `Component`ï¼ˆå¤§å°å†™æ•æ„Ÿï¼‰
- å¿…é¡»ä½¿ç”¨ `export default` è¯­æ³•
- æ— è®ºæ˜¯å¦ä½¿ç”¨ Axure APIï¼Œå¯¼å‡ºè§„èŒƒä¿æŒä¸€è‡´
- è¿™æ˜¯ Axhub ç¬¬ä¸‰æ–¹å¹³å°é›†æˆçš„å¿…è¦æ¡ä»¶

## âœ… ä»£ç æ£€æŸ¥æ¸…å•

**æ–‡ä»¶å¤´éƒ¨**
- [ ] åŒ…å« `@name` æ³¨é‡Šï¼ˆé¡¹ç›®åç§°ï¼‰
- [ ] åˆ—å‡ºæ‰€æœ‰ä¸å¼€å‘ç›¸å…³çš„å‚è€ƒèµ„æ–™è·¯å¾„

**ä¾èµ–å¯¼å…¥**
- [ ] ç›´æ¥ä» `react` å¯¼å…¥æ‰€éœ€çš„ Hooks
- [ ] ç¬¬ä¸‰æ–¹åº“å·²å®‰è£…ä¾èµ–
- [ ] ä½¿ç”¨æŒ‰éœ€å¯¼å…¥

**ç»„ä»¶å®ç°**
- [ ] ä½¿ç”¨ `useCallback` ä¼˜åŒ–å›è°ƒ
- [ ] ä¾èµ–é¡¹æ•°ç»„æ­£ç¡®
- [ ] é¿å…ä½¿ç”¨ ES6 è§£æ„ï¼ˆState ç®¡ç†ï¼‰

**æ ·å¼**
- [ ] ä½¿ç”¨ BEM å‘½åï¼ŒåŠ ç»„ä»¶å‰ç¼€
- [ ] é¿å…å…¨å±€æ ·å¼æ±¡æŸ“

**å¯¼å‡º**
- [ ] ä½¿ç”¨ `export default Component`

**Axure APIï¼ˆå¦‚æœä½¿ç”¨ï¼‰**
- [ ] å·²å®Œæ•´é˜…è¯» [Axure API ä½¿ç”¨æŒ‡å—](./axure-api-guide.md)
- [ ] æ‰€æœ‰åˆ—è¡¨å®Œæ•´ä¸”æœ‰æ¸…æ™°æè¿°
- [ ] ä½¿ç”¨ `forwardRef<AxhubHandle, AxhubProps>` å’Œç±»å‹æ ‡æ³¨

## ğŸ“š å‚è€ƒèµ„æº

**ç¤ºä¾‹ä»£ç **ï¼š
- æŸ¥çœ‹ `/src/elements/` å’Œ `/src/pages/` ç›®å½•ä¸‹ä»¥ `ref-` å¼€å¤´çš„æ–‡ä»¶
- è¿™äº›æ–‡ä»¶æ˜¯å‚è€ƒæ¡ˆä¾‹ï¼Œå±•ç¤ºäº†è§„èŒƒçš„ä»£ç ç»“æ„å’Œæœ€ä½³å®è·µ
- å¦‚æœç”¨æˆ·æä¾›äº†å‚è€ƒæ¡ˆä¾‹ï¼Œä¼˜å…ˆå‚è€ƒç”¨æˆ·æä¾›çš„æ¡ˆä¾‹
- å¦‚æœæ²¡æœ‰ç”¨æˆ·æä¾›çš„å‚è€ƒæ¡ˆä¾‹ï¼Œå¯ä»¥æŸ¥çœ‹ `ref-` å¼€å¤´çš„æ–‡ä»¶å­¦ä¹ è§„èŒƒ

**å…¶ä»–æ–‡æ¡£**ï¼š
- [Axure API ä½¿ç”¨æŒ‡å—](./axure-api-guide.md) - å¦‚æœéœ€è¦ä½¿ç”¨ Axure APIï¼Œå¿…é¡»é˜…è¯»æ­¤æ–‡æ¡£
- [è°ƒè¯•æŒ‡å—](./debugging-guide.md)
